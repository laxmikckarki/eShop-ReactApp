(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(52)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return E}),n.d(t,"b",function(){return V}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return B}),n.d(t,"g",function(){return I}),n.d(t,"h",function(){return $}),n.d(t,"i",function(){return G}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return Q}),n.d(t,"l",function(){return _}),n.d(t,"m",function(){return O}),n.d(t,"n",function(){return x}),n.d(t,"o",function(){return j}),n.d(t,"p",function(){return X}),n.d(t,"q",function(){return S}),n.d(t,"r",function(){return A}),n.d(t,"s",function(){return N}),n.d(t,"t",function(){return q}),n.d(t,"u",function(){return R}),n.d(t,"v",function(){return P}),n.d(t,"w",function(){return T}),n.d(t,"x",function(){return C}),n.d(t,"y",function(){return D}),n.d(t,"z",function(){return L}),n.d(t,"A",function(){return W}),n.d(t,"B",function(){return H}),n.d(t,"C",function(){return M});var i=n(12),a=n(21),o=n(3),u=n(1),s=n(9),c=n(6),l=n(8),f=n(25);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new m;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},m=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).apply(this,arguments))).name="DecodeBase64StringError",e}return Object(l.a)(t,e),t}(Object(f.a)(Error)),y=function(e){return function(e){var t=p(e);return v.encodeByteArray(t,!0)}(e).replace(/\./g,"")},g=function(e){try{return v.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function b(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=b(e[n],t[n]));return e}var k=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},w=function(){try{return k()||function(){if("undefined"!==typeof r){var e=Object({NODE_ENV:"production",PUBLIC_URL:""}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&g(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},O=function(e){var t,n;return null===(n=null===(t=w())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},x=function(e){var t=O(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},_=function(){var e;return null===(e=w())||void 0===e?void 0:e.config},j=function(e){var t;return null===(t=w())||void 0===t?void 0:t["_".concat(e)]},E=function(){function e(){var t=this;Object(u.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(o.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function I(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[y(JSON.stringify({alg:"none",type:"JWT"})),y(JSON.stringify(a)),""].join(".")}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function C(){var t,n=null===(t=w())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(r){return!1}}function A(){return"object"===typeof self&&self.self===self}function N(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){var e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function L(){return!C()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){try{return"object"===typeof indexedDB}catch(e){return!1}}function M(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}var F="FirebaseError",U=function(e){function t(e,n,r){var i;return Object(u.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this,n))).code=e,i.customData=r,i.name=F,Object.setPrototypeOf(Object(a.a)(Object(a.a)(i)),t.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(Object(a.a)(i)),V.prototype.create),i}return Object(l.a)(t,e),t}(Object(f.a)(Error)),V=function(){function e(t,n,r){Object(u.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(o.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(z,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new U(n,a,t)}}]),e}();var z=/\{\$([^}]+)}/g;function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(K(u)&&K(s)){if(!G(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function K(e){return null!==e&&"object"===typeof e}function W(e){for(var t=[],n=function(){var e=Object(i.a)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function H(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=Object(i.a)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Q(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $(e,t){var n=new Y(e,t);return n.subscribe.bind(n)}var Y=function(){function e(t,n){var r=this;Object(u.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return Object(o.a)(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=h(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function J(){}function X(e){return e&&e._delegate?e._delegate:e}}).call(this,n(29),n(38))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(34),i=n(1),a=n(3),o=n(9),u=n(17),s=n(6),c=n(8),l=n(0),f=n(21),h=n(12),d=n(14),p=n(4),v=n(5),m=n(15),y=n(19);function g(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var b,k=n(18);function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),s(g,u,"Generator"),s(g,a,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var _={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function E(){return Object(p.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var I=function(){var e;return e={},Object(p.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(p.a)(e,"argument-error",""),Object(p.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(p.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(p.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(p.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(p.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(p.a)(e,"cors-unsupported","This browser is not supported."),Object(p.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(p.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(p.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(p.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(p.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(p.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(p.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(p.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(p.a)(e,"expired-action-code","The action code has expired."),Object(p.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(p.a)(e,"internal-error","An internal AuthError has occurred."),Object(p.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(p.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(p.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(p.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(p.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(p.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(p.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(p.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(p.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(p.a)(e,"invalid-email","The email address is badly formatted."),Object(p.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(p.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(p.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(p.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(p.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(p.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(p.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(p.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(p.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(p.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(p.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(p.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(p.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(p.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(p.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(p.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(p.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(p.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(p.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(p.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(p.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(p.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(p.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(p.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(p.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(p.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(p.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(p.a)(e,"missing-password","A non-empty password must be provided"),Object(p.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(p.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(p.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(p.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(p.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(p.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(p.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(p.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(p.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(p.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(p.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(p.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(p.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(p.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(p.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(p.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(p.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(p.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(p.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(p.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(p.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(p.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(p.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(p.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(p.a)(e,"timeout","The operation has timed out."),Object(p.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(p.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(p.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(p.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(p.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(p.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(p.a)(e,"unverified-email","The operation requires a verified email."),Object(p.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(p.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(p.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(p.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(p.a)(e,"user-signed-out",""),Object(p.a)(e,"weak-password","The password must be 6 characters long or more."),Object(p.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(p.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},S=E,T=new v.b("auth","Firebase",E()),C=new y.b("@firebase/auth");function A(e){if(C.logLevel<=y.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C.error.apply(C,["Auth (".concat(m.SDK_VERSION,"): ").concat(e)].concat(n))}}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw P.apply(void 0,[e].concat(n))}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P.apply(void 0,[e].concat(n))}function R(e,t,n){var r=Object.assign(Object.assign({},S()),Object(p.a)({},t,n));return new v.b("auth","Firebase",r).create(t,{appName:e.name})}function L(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&N(e,"argument-error"),R(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(d.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(d.a)(o)))}return T.create.apply(T,[e].concat(n))}function M(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw P.apply(void 0,[t].concat(r))}}function F(e){var t="INTERNAL ASSERTION FAILED: "+e;throw A(t),new Error(t)}function U(e,t){e||F(t)}var V=new Map;function z(e){U(e instanceof Function,"Expected a class definition");var t=V.get(e);return t?(U(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,V.set(e,t),t)}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function q(){return"http:"===G()||"https:"===G()}function G(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var K=function(){function e(t,n){Object(i.a)(this,e),this.shortDelay=t,this.longDelay=n,U(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(v.w)()||Object(v.y)()}return Object(a.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(q()||Object(v.s)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function W(e,t){U(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var H=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void F("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void F("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void F("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Q=(b={},Object(p.a)(b,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(p.a)(b,"MISSING_CUSTOM_TOKEN","internal-error"),Object(p.a)(b,"INVALID_IDENTIFIER","invalid-email"),Object(p.a)(b,"MISSING_CONTINUE_URI","internal-error"),Object(p.a)(b,"INVALID_PASSWORD","wrong-password"),Object(p.a)(b,"MISSING_PASSWORD","missing-password"),Object(p.a)(b,"EMAIL_EXISTS","email-already-in-use"),Object(p.a)(b,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(p.a)(b,"INVALID_IDP_RESPONSE","invalid-credential"),Object(p.a)(b,"INVALID_PENDING_TOKEN","invalid-credential"),Object(p.a)(b,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(p.a)(b,"MISSING_REQ_TYPE","internal-error"),Object(p.a)(b,"EMAIL_NOT_FOUND","user-not-found"),Object(p.a)(b,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(p.a)(b,"EXPIRED_OOB_CODE","expired-action-code"),Object(p.a)(b,"INVALID_OOB_CODE","invalid-action-code"),Object(p.a)(b,"MISSING_OOB_CODE","internal-error"),Object(p.a)(b,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(p.a)(b,"INVALID_ID_TOKEN","invalid-user-token"),Object(p.a)(b,"TOKEN_EXPIRED","user-token-expired"),Object(p.a)(b,"USER_NOT_FOUND","user-token-expired"),Object(p.a)(b,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(p.a)(b,"INVALID_CODE","invalid-verification-code"),Object(p.a)(b,"INVALID_SESSION_INFO","invalid-verification-id"),Object(p.a)(b,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(p.a)(b,"MISSING_SESSION_INFO","missing-verification-id"),Object(p.a)(b,"SESSION_EXPIRED","code-expired"),Object(p.a)(b,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(p.a)(b,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(p.a)(b,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(p.a)(b,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(p.a)(b,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(p.a)(b,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(p.a)(b,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(p.a)(b,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(p.a)(b,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(p.a)(b,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(p.a)(b,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),b),$=new K(3e4,6e4);function Y(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function J(e,t,n,r){return X.apply(this,arguments)}function X(){return(X=Object(l.a)(x().mark(function e(t,n,r,i){var a,o=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Z(t,a,Object(l.a)(x().mark(function e(){var a,o,u,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Object(v.A)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",H.fetch()(re(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(e,t,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(l.a)(x().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,d,p;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Q),n),e.prev=2,a=new ie(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ae(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Object(h.a)(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ae(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw ae(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw ae(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw R(t,p,d);case 34:N(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof v.c)){e.next=41;break}throw e.t0;case 41:N(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}},e,null,[[2,37]])}))).apply(this,arguments)}function te(e,t,n,r){return ne.apply(this,arguments)}function ne(){return(ne=Object(l.a)(x().mark(function e(t,n,r,i){var a,o,u=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,J(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&N(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?W(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ie=function(){function e(t){var n=this;Object(i.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(D(n.auth,"network-request-failed"))},$.get())})}return Object(a.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ae(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=D(e,t,r);return i.customData._tokenResponse=n,i}function oe(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function de(){return(de=Object(l.a)(x().mark(function e(t){var n,r,i,a,o,u,s=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(v.p)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,M((a=ve(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:he(pe(a.auth_time)),issuedAtTime:he(pe(a.iat)),expirationTime:he(pe(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e){return 1e3*Number(e)}function ve(e){var t=e.split("."),n=Object(h.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return A("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(v.d)(i);return o?JSON.parse(o):(A("Failed to decode base64 JWT payload"),null)}catch(u){return A("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function me(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(l.a)(x().mark(function e(t,n){var r=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof v.c&&ge(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ge(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var be=function(){function e(t){Object(i.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(a.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(l.a)(x().mark(function t(){return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t)})),n)}}},{key:"iteration",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),ke=function(){function e(t,n){Object(i.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(a.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=he(this.lastLoginAt),this.creationTime=he(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(l.a)(x().mark(function e(t){var n,r,i,a,o,u,s,c,l,f,h;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,me(t,le(r,{idToken:i}));case 6:M(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map(function(e){var t=e.providerId,n=g(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],s=_e(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ke(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xe(){return(xe=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.p)(t),e.next=3,we(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return[].concat(Object(d.a)(n),Object(d.a)(t))}function je(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(l.a)(x().mark(function e(t,n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,{},Object(l.a)(x().mark(function e(){var r,i,a,o,u,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.A)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=re(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",H.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}},e)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ie=function(){function e(){Object(i.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(a.a)(e,[{key:"updateFromServerResponse",value:function(e){M(e.idToken,"internal-error"),M("undefined"!==typeof e.idToken,"internal-error"),M("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ve(e);return M(t,"internal-error"),M("undefined"!==typeof t.exp,"internal-error"),M("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],M(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(l.a)(x().mark(function e(t,n){var r,i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return F("not implemented")}},{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(M("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(M("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(M("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Se(e,t){M("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Te=function(){function e(t){Object(i.a)(this,e);var n=t.uid,r=t.auth,a=t.stsTokenManager,o=g(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Object(d.a)(o.providerData):[],this.metadata=new ke(o.createdAt||void 0,o.lastLoginAt||void 0)}return Object(a.a)(e,[{key:"getIdToken",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(M(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return de.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xe.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r,i=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,we(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,me(this,oe(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,O=n.providerData,x=n.stsTokenManager;M(b&&x,t,"internal-error");var _=Ie.fromJSON(this.name,x);M("string"===typeof b,t,"internal-error"),Se(f,t.name),Se(h,t.name),M("boolean"===typeof k,t,"internal-error"),M("boolean"===typeof w,t,"internal-error"),Se(d,t.name),Se(p,t.name),Se(v,t.name),Se(m,t.name),Se(y,t.name),Se(g,t.name);var j=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return O&&Array.isArray(O)&&(j.providerData=O.map(function(e){return Object.assign({},e)})),m&&(j._redirectEventId=m),j}},{key:"_fromIdTokenResponse",value:function(){var t=Object(l.a)(x().mark(function t(n,r){var i,a,o,u=arguments;return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ie).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,we(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ce=function(){function e(){Object(i.a)(this,e),this.type="NONE",this.storage={}}return Object(a.a)(e,[{key:"_isAvailable",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ce.type="NONE";var Ae=Ce;function Ne(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var De=function(){function e(t,n,r){Object(i.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,o=a.config,u=a.name;this.fullUserKey=Ne(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ne("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(a.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Te._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(l.a)(x().mark(function t(n,r){var i,a,o,u,s,c,f,h,d,p,v,m=arguments;return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(z(Ae),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter(function(e){return e}),o=a[0]||z(Ae),u=Ne(i,n.config.apiKey,n.name),s=null,c=w(r),t.prev=10,c.s();case 12:if((f=c.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=Te._fromJSON(n,d),h!==o&&(s=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter(function(e){return e._shouldAllowMigration}),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}},t,null,[[10,31,34,37],[14,25]])}));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Re(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ve(t))return"Blackberry";if(ze(t))return"Webos";if(Pe(t))return"Safari";if((t.includes("chrome/")||Me(t))&&!t.includes("edge/"))return"Chrome";if(Ue(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/firefox\//i.test(e)}function Pe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/crios\//i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/iemobile/i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/android/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/blackberry/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/webos/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return Be(e)||Ue(e)||ze(e)||Ve(e)||/windows phone/i.test(e)||Fe(e)}function Ge(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Re(Object(v.q)());break;case"Worker":t="".concat(Re(Object(v.q)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(m.SDK_VERSION,"/").concat(r)}var Ke=function(){function e(t){Object(i.a)(this,e),this.auth=t,this.queue=[]}return Object(a.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise(function(n,r){try{n(e(t))}catch(i){r(i)}})};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r,i,a,o,u,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=w(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=w(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}},e,this,[[3,24],[5,16,19,22]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),We=function(){function e(t,n,r){Object(i.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qe(this),this.idTokenSubscription=new Qe(this),this.beforeStateQueue=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(a.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=z(t)),this._initializationPromise=this.queue(Object(l.a)(x().mark(function r(){var i,a;return x().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,De.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}},r,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r,i,a,o,u,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||null===s||void 0===s||!s.user||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(e.t0)});case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return M(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}},e,this,[[18,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(v.p)(t):null)&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r=this,i=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&M(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}},e)}))));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(l.a)(x().mark(function n(){return x().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(z(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new v.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(l.a)(x().mark(function e(t,n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return M(n=t&&z(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,De.create(this,[z(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(l.a)(x().mark(function e(t){var n=this;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(function(){return a(i.currentUser)}),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ge(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(l.a)(x().mark(function e(){var t,n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_currentUser",get:function(){return this.currentUser}},{key:"assertedPersistence",get:function(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}}]),e}();function He(e){return Object(v.p)(e)}var Qe=function(){function e(t){var n=this;Object(i.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(v.h)(function(e){return n.observer=e})}return Object(a.a)(e,[{key:"next",get:function(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function $e(e,t,n){var r=He(e);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ye(t),o=function(e){var t=Ye(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Je(r.substr(a.length+1))}}var o=r.split(":"),u=Object(h.a)(o,2),s=u[0],c=u[1];return{host:s,port:Je(c)}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ye(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Je(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Xe=function(){function e(t,n){Object(i.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(a.a)(e,[{key:"toJSON",value:function(){return F("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return F("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return F("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return F("not implemented")}}]),e}();function Ze(e,t){return et.apply(this,arguments)}function et(){return(et=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:resetPassword",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPassword",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:sendOobCode",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithEmailLink",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithEmailLink",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wt=function(e){function t(e,n,r){var a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,"password",r)))._email=e,a._password=n,a._tenantId=u,a}return Object(c.a)(t,e),Object(a.a)(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",at(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yt(t,{email:this._email,oobCode:this._password}));case 5:N(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:N(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){return new t(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),t}(Xe);function Ot(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithIdp",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _t=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).apply(this,arguments))).pendingToken=null,e}return Object(c.a)(t,e),Object(a.a)(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ot(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(v.A)(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):N("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=g(n,["providerId","signInMethod"]);if(!r||!i)return null;var o=new t(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),t}(Xe);function jt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:sendVerificationCode",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function It(){return(It=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function St(){return(St=Object(l.a)(x().mark(function e(t,n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ae(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Tt=Object(p.a)({},"USER_NOT_FOUND","user-not-found");function Ct(){return(Ct=Object(l.a)(x().mark(function e(t,n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",te(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,r),Tt));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var At=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"phone","phone"))).params=e,n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return It.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return St.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ct.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,i=n.verificationCode,a=n.phoneNumber,o=n.temporaryProof;return i||r||a||o?new t({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),t}(Xe);var Nt=function(){function e(t){var n,r,a,o,u,s;Object(i.a)(this,e);var c=Object(v.B)(Object(v.k)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=c.mode)&&void 0!==a?a:null);M(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(a.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(v.B)(Object(v.k)(e)).link,n=t?Object(v.B)(Object(v.k)(t)).deep_link_id:null,r=Object(v.B)(Object(v.k)(e)).deep_link_id;return(r?Object(v.B)(Object(v.k)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Dt=function(){function e(){Object(i.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(a.a)(e,null,[{key:"credential",value:function(e,t){return wt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Nt.parseLink(t);return M(n,"argument-error"),wt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Dt.PROVIDER_ID="password",Dt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Rt=function(){function e(t){Object(i.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(a.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).apply(this,arguments))).scopes=[],e}return Object(c.a)(t,e),Object(a.a)(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(d.a)(this.scopes)}}]),t}(Rt),Pt=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return M(e.idToken||e.accessToken,"argument-error"),_t._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return M("providerId"in t&&"signInMethod"in t,"argument-error"),_t._fromParams(t)}},{key:"credentialFromResult",value:function(e){return t.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken,a=n.oauthTokenSecret,o=n.pendingToken,u=n.nonce,s=n.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new t(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),t}(Lt),Mt=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"facebook.com"))}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"credential",value:function(e){return _t._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Lt);Mt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mt.PROVIDER_ID="facebook.com";var Ft=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this,"google.com"))).addScope("profile"),e}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"credential",value:function(e,n){return _t._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken;if(!r&&!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(Lt);Ft.GOOGLE_SIGN_IN_METHOD="google.com",Ft.PROVIDER_ID="google.com";var Ut=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"github.com"))}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"credential",value:function(e){return _t._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Lt);Ut.GITHUB_SIGN_IN_METHOD="github.com",Ut.PROVIDER_ID="github.com";var Vt=function(e){function t(e,n){var r;return Object(i.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,e,e))).pendingToken=n,r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ot(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=n.pendingToken;return r&&i&&a&&r===i?new t(r,a):null}},{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(Xe),zt="saml.",Bt=function(e){function t(e){return Object(i.a)(this,t),M(e.startsWith(zt),"argument-error"),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"credentialFromResult",value:function(e){return t.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Vt.fromJSON(e);return M(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Vt._create(r,n)}catch(i){return null}}}]),t}(Rt),qt=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"twitter.com"))}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"credential",value:function(e,n){return _t._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,i=n.oauthTokenSecret;if(!r||!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(Lt);function Gt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signUp",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}qt.TWITTER_SIGN_IN_METHOD="twitter.com",qt.PROVIDER_ID="twitter.com";var Wt=function(){function e(t){Object(i.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(a.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(l.a)(x().mark(function t(n,r,i){var a,o,u,s,c=arguments;return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Te._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ht(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(l.a)(x().mark(function t(n,r,i){var a;return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ht(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ht(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Qt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(l.a)(x().mark(function e(t){var n,r,i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=He(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Wt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Gt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Wt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Yt=function(e){function t(e,n,r,a){var u,c;return Object(i.a)(this,t),(u=Object(o.a)(this,Object(s.a)(t).call(this,n.code,n.message))).operationType=r,u.user=a,Object.setPrototypeOf(Object(f.a)(Object(f.a)(u)),t.prototype),u.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r},u}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,i){return new t(e,n,r,i)}}]),t}(v.c);function Jt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Yt._fromErrorAndOperation(e,n,t,r);throw n})}function Xt(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function Zt(e,t){return en.apply(this,arguments)}function en(){return(en=Object(l.a)(x().mark(function e(t,n){var r,i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,rn(!0,r,n);case 3:return e.t0=se,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Xt(a||[]),r.providerData=r.providerData.filter(function(e){return o.has(e.providerId)}),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(l.a)(x().mark(function e(t,n){var r,i,a=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=me,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Wt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rn(e,t,n){return an.apply(this,arguments)}function an(){return(an=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(n);case 2:i=Xt(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",M(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function on(e,t){return un.apply(this,arguments)}function un(){return(un=Object(l.a)(x().mark(function e(t,n){var r,i,a,o,u,s,c=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,me(t,Jt(i,a,n,t),r);case 6:return M((o=e.sent).idToken,i,"internal-error"),M(u=ve(o.idToken),i,"internal-error"),s=u.sub,M(t.uid===s,i,"user-mismatch"),e.abrupt("return",Wt._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&N(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,15]])}))).apply(this,arguments)}function sn(e,t){return cn.apply(this,arguments)}function cn(){return(cn=Object(l.a)(x().mark(function e(t,n){var r,i,a,o,u=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Jt(t,i,n);case 4:return a=e.sent,e.next=7,Wt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sn(He(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(l.a)(x().mark(function e(t,n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,rn(!1,r,n.providerId);case 3:return e.abrupt("return",tn(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",on(Object(v.p)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t,"POST","/v1/accounts:signInWithCustomToken",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(l.a)(x().mark(function e(t,n){var r,i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=He(t),e.next=3,mn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Wt._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var kn=function(){function e(t,n){Object(i.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(a.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wn._fromServerResponse(e,t):"totpInfo"in t?On._fromServerResponse(e,t):N(e,"internal-error")}}]),e}(),wn=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"phone",e))).phoneNumber=e.phoneInfo,n}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"_fromServerResponse",value:function(e,n){return new t(n)}}]),t}(kn),On=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"totp",e))}return Object(c.a)(t,e),Object(a.a)(t,null,[{key:"_fromServerResponse",value:function(e,n){return new t(n)}}]),t}(kn);function xn(e,t,n){var r;M((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),M("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(M(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(M(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function _n(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(v.p)(t),a={requestType:"PASSWORD_RESET",email:n},r&&xn(i,a,r),e.next=5,ft(i,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function En(e,t,n){return In.apply(this,arguments)}function In(){return(In=Object(l.a)(x().mark(function e(t,n,r){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(Object(v.p)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sn(e,t){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(Object(v.p)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cn(e,t){return An.apply(this,arguments)}function An(){return(An=Object(l.a)(x().mark(function e(t,n){var r,i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,Ze(r,{oobCode:n});case 3:i=e.sent,M(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return M(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:M(i.mfaInfo,r,"internal-error");case 13:M(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=kn._fromServerResponse(He(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(l.a)(x().mark(function e(t,n){var r,i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(Object(v.p)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rn(e,t,n){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(l.a)(x().mark(function e(t,n,r){var i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),e.next=3,Gt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Wt._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pn(e,t,n){return ln(Object(v.p)(e),Dt.credential(t,n))}function Mn(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(v.p)(t),a={requestType:"EMAIL_SIGNIN",email:n},M(r.handleCodeInApp,i,"argument-error"),r&&xn(i,a,r),e.next=6,dt(i,a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Un(e,t){var n=Nt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Vn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(v.p)(t),M((a=Dt.credentialWithLink(n,r||B()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ln(i,a));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:createAuthUri",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gn(e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(l.a)(x().mark(function e(t,n){var r,i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=q()?B():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Bn(Object(v.p)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(l.a)(x().mark(function e(t,n){var r,i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xn(r.auth,a,n),e.next=8,ct(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=Object(l.a)(x().mark(function e(t,n,r){var i,a,o,u;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(v.p)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xn(i.auth,o,r),e.next=8,vt(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(l.a)(x().mark(function e(t,n){var r,i,a,o,u,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(v.p)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,me(a,Yn(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find(function(e){return"password"===e.providerId}))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function er(e,t){return nr(Object(v.p)(e),t,null)}function tr(e,t){return nr(Object(v.p)(e),null,t)}function nr(e,t,n){return rr.apply(this,arguments)}function rr(){return(rr=Object(l.a)(x().mark(function e(t,n,r){var i,a,o,u;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,me(t,tt(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ir=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},ar=function(e){function t(e,n,r,a){var u;return Object(i.a)(this,t),(u=Object(o.a)(this,Object(s.a)(t).call(this,e,n,r))).username=a,u}return Object(c.a)(t,e),t}(ir),or=function(e){function t(e,n){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"facebook.com",n))}return Object(c.a)(t,e),t}(ir),ur=function(e){function t(e,n){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"github.com",n,"string"===typeof(null===n||void 0===n?void 0:n.login)?null===n||void 0===n?void 0:n.login:null))}return Object(c.a)(t,e),t}(ar),sr=function(e){function t(e,n){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"google.com",n))}return Object(c.a)(t,e),t}(ir),cr=function(e){function t(e,n,r){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"twitter.com",n,r))}return Object(c.a)(t,e),t}(ar);function lr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ve(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ir(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new or(a,i);case"github.com":return new ur(a,i);case"google.com":return new sr(a,i);case"twitter.com":return new cr(a,i,e.screenName||null);case"custom":case"anonymous":return new ir(a,null);default:return new ir(a,r,i)}}(n)}var fr=function(){function e(t,n,r){Object(i.a)(this,e),this.type=t,this.credential=n,this.auth=r}return Object(a.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(p.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),hr=function(){function e(t,n,r){Object(i.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(a.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=He(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(function(e){return kn._fromServerResponse(r,e)});M(i.mfaPendingCredential,r,"internal-error");var o=fr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Object(l.a)(x().mark(function e(t){var a,u,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Wt._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return M(n.user,r,"internal-error"),e.abrupt("return",Wt._forOperation(n.user,n.operationType,u));case 17:N(r,"internal-error");case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}]),e}();function dr(e,t){var n,r=Object(v.p)(e),i=t;return M(t.customData.operationType,r,"argument-error"),M(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),hr._fromError(r,i)}function pr(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:start",Y(e,t))}function vr(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:finalize",Y(e,t))}var mr=function(){function e(t){var n=this;Object(i.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return kn._fromServerResponse(t.auth,e)}))})}return Object(a.a)(e,[{key:"getSession",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(l.a)(x().mark(function e(t,n){var r,i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,me(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r,i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,me(this.user,J(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter(function(e){return e.uid!==n}),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a},e,this,[[4,15]])}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),yr=new WeakMap;function gr(e){var t=Object(v.p)(e);return yr.has(t)||yr.set(t,mr._fromUser(t)),yr.get(t)}var br=function(){function e(t,n){Object(i.a)(this,e),this.storageRetriever=t,this.type=n}return Object(a.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var kr=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this,function(){return window.localStorage},"LOCAL"))).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(v.q)();return Pe(e)||Be(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=qe(),e._shouldAllowMigration=!0,e}return Object(c.a)(t,e),Object(a.a)(t,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(v.u)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(l.a)(x().mark(function e(n,r){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(t.prototype),"_set",this).call(this,n,r);case 2:this.localCache[n]=JSON.stringify(r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(l.a)(x().mark(function e(n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(t.prototype),"_get",this).call(this,n);case 2:return r=e.sent,this.localCache[n]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(l.a)(x().mark(function e(n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(t.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(br);kr.type="LOCAL";var wr=kr,Or=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,function(){return window.sessionStorage},"SESSION"))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}(br);Or.type="SESSION";var xr=Or;function _r(e){return Promise.all(e.map(function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()))}var jr=function(){function e(t){Object(i.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(a.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r,i,a,o,u,s,c;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,_r(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Er(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jr.receivers=[];var Ir=function(){function e(t){Object(i.a)(this,e),this.target=t,this.handlers=new Set}return Object(a.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(l.a)(x().mark(function e(t,n){var r,i,a,o,u=this,s=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,s){var c=Er("",20);i.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(function(){o&&u.removeMessageHandler(o)}));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Sr(){return window}function Tr(){return"undefined"!==typeof Sr().WorkerGlobalScope&&"function"===typeof Sr().importScripts}function Cr(){return Ar.apply(this,arguments)}function Ar(){return(Ar=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function Nr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Dr="firebaseLocalStorageDb",Rr=1,Lr="firebaseLocalStorage",Pr="fbase_key",Mr=function(){function e(t){Object(i.a)(this,e),this.request=t}return Object(a.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Fr(e,t){return e.transaction([Lr],t?"readwrite":"readonly").objectStore(Lr)}function Ur(){var e=indexedDB.deleteDatabase(Dr);return new Mr(e).toPromise()}function Vr(){var e=indexedDB.open(Dr,Rr);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Lr,{keyPath:Pr})}catch(r){n(r)}}),e.addEventListener("success",Object(l.a)(x().mark(function n(){var r;return x().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lr)){n.next=12;break}return r.close(),n.next=5,Ur();case 5:return n.t0=t,n.next=8,Vr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}},n)})))})}function zr(e,t,n){return Br.apply(this,arguments)}function Br(){return(Br=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fr(t,!0).put((i={},Object(p.a)(i,Pr,n),Object(p.a)(i,"value",r),i)),e.abrupt("return",new Mr(a).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qr(e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=Object(l.a)(x().mark(function e(t,n){var r,i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fr(t,!1).get(n),e.next=3,new Mr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Kr(e,t){var n=Fr(e,!0).delete(t);return new Mr(n).toPromise()}var Wr=function(){function e(){Object(i.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return Object(a.a)(e,[{key:"_openDb",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Vr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(l.a)(x().mark(function e(){var t=this;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=jr._getInstance(Tr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(l.a)(x().mark(function e(n,r){var i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(l.a)(x().mark(function e(){var t,n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ir(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Nr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Vr();case 5:return t=e.sent,e.next=8,zr(t,"__sak","1");case 8:return e.next=10,Kr(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(l.a)(x().mark(function e(t,n){var r=this;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries(function(e){return zr(e,t,n)});case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return qr(e,t)});case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(l.a)(x().mark(function e(t){var n=this;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return Kr(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(l.a)(x().mark(function e(){var t,n,r,i,a,o,u,s,c,l,f;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=Fr(e,!1).getAll();return new Mr(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=w(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(l.a)(x().mark(function t(){return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Wr.type="LOCAL";var Hr=Wr;function Qr(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:start",Y(e,t))}function $r(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:finalize",Y(e,t))}function Yr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xr(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=D("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Zr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ei=1e12,ti=function(){function e(t){Object(i.a)(this,e),this.auth=t,this.counter=ei,this._widgets=new Map}return Object(a.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ni(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ei;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ei;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ei,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ni=function(){function e(t,n,r){var a=this;Object(i.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){a.execute()};var o="string"===typeof t?document.getElementById(t):t;M(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(a.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ri=Zr("rcb"),ii=new K(3e4,6e4),ai=function(){function e(){var t;Object(i.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Sr().grecaptcha)||void 0===t?void 0:t.render)}return Object(a.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return M(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Sr().grecaptcha):new Promise(function(r,i){var a=Sr().setTimeout(function(){i(D(e,"network-request-failed"))},ii.get());Sr()[ri]=function(){Sr().clearTimeout(a),delete Sr()[ri];var o=Sr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(D(e,"internal-error"))},Xr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Object(v.A)({onload:ri,render:"explicit",hl:n}))).catch(function(){clearTimeout(a),i(D(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Sr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var oi=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"load",value:function(){var e=Object(l.a)(x().mark(function e(t){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ti(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ui="recaptcha",si={theme:"light",type:"image"},ci=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},si),r=arguments.length>2?arguments[2]:void 0;Object(i.a)(this,e),this.parameters=n,this.type=ui,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=He(r),this.isInvisible="invisible"===this.parameters.size,M("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var a="string"===typeof t?document.getElementById(t):t;M(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oi:new ai,this.validateStartingState()}return Object(a.a)(e,[{key:"verify",value:function(){var e=Object(l.a)(x().mark(function e(){var t,n,r,i=this;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise(function(e){i.tokenChangeListeners.add(function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))}),i.isInvisible&&n.execute(t)}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t}),this.renderPromise)}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){M(!this.parameters.sitekey,this.auth,"argument-error"),M(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),M("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"===typeof e)e(n);else if("string"===typeof e){var r=Sr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){M(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(l.a)(x().mark(function e(){var t,n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(q()&&!Tr(),this.auth,"internal-error"),e.next=3,li();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Yr(this.auth);case 8:M(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return M(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function li(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}var fi=function(){function e(t,n){Object(i.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(a.a)(e,[{key:"confirm",value:function(e){var t=At._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function hi(e,t,n){return di.apply(this,arguments)}function di(){return(di=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),e.next=3,gi(i,n,Object(v.p)(r));case 3:return a=e.sent,e.abrupt("return",new fi(a,function(e){return ln(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pi(e,t,n){return vi.apply(this,arguments)}function vi(){return(vi=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(v.p)(t),e.next=3,rn(!1,i,"phone");case 3:return e.next=5,gi(i.auth,n,Object(v.p)(r));case 5:return a=e.sent,e.abrupt("return",new fi(a,function(e){return hn(i,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mi(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(v.p)(t),e.next=3,gi(i.auth,n,Object(v.p)(r));case 3:return a=e.sent,e.abrupt("return",new fi(a,function(e){return pn(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gi(e,t,n){return bi.apply(this,arguments)}function bi(){return(bi=Object(l.a)(x().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,M("string"===typeof a,t,"argument-error"),M(r.type===ui,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return M("enroll"===u.type,t,"internal-error"),e.next=13,pr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return M("signin"===u.type,t,"internal-error"),M(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qr(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,jt(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}},e,null,[[3,,31,34]])}))).apply(this,arguments)}function ki(e,t){return wi.apply(this,arguments)}function wi(){return(wi=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(Object(v.p)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Oi=function(){function e(t){Object(i.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=He(t)}return Object(a.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return gi(this.auth,e,Object(v.p)(t))}}],[{key:"credential",value:function(e,t){return At._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?At._fromTokenResponse(n,r):null}}]),e}();function xi(e,t){return t?z(t):(M(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Oi.PROVIDER_ID="phone",Oi.PHONE_SIGN_IN_METHOD="phone";var _i=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"custom","custom"))).params=e,n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Ot(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ot(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ot(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),t}(Xe);function ji(e){return sn(e.auth,new _i(e),e.bypassAuthState)}function Ei(e){var t=e.auth,n=e.user;return M(n,t,"internal-error"),on(n,new _i(e),e.bypassAuthState)}function Ii(e){return Si.apply(this,arguments)}function Si(){return(Si=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,M(r=t.user,n,"internal-error"),e.abrupt("return",tn(r,new _i(t),t.bypassAuthState));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ti=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(i.a)(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(a.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(l.a)(x().mark(function t(n,r){return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r,i,a,o,u,s;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ji;case"linkViaPopup":case"linkViaRedirect":return Ii;case"reauthViaPopup":case"reauthViaRedirect":return Ei;default:N(this.auth,"internal-error")}}},{key:"resolve",value:function(e){U(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){U(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ci=new K(2e3,1e4);function Ai(e,t,n){return Ni.apply(this,arguments)}function Ni(){return(Ni=Object(l.a)(x().mark(function e(t,n,r){var i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),L(t,n,Rt),a=xi(i,r),o=new Mi(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Di(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=Object(l.a)(x().mark(function e(t,n,r){var i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(v.p)(t)).auth,n,Rt),a=xi(i.auth,r),o=new Mi(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Li(e,t,n){return Pi.apply(this,arguments)}function Pi(){return(Pi=Object(l.a)(x().mark(function e(t,n,r){var i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(v.p)(t)).auth,n,Rt),a=xi(i.auth,r),o=new Mi(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Mi=function(e){function t(e,n,r,a,u){var c;return Object(i.a)(this,t),(c=Object(o.a)(this,Object(s.a)(t).call(this,e,n,a,u))).provider=r,c.authWindow=null,c.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=Object(f.a)(Object(f.a)(c)),c}return Object(c.a)(t,e),Object(a.a)(t,[{key:"executeNotNull",value:function(){var e=Object(l.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return M(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(l.a)(x().mark(function e(){var t,n=this;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(1===this.filter.length,"Popup operations only handle one event"),t=Er(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(D(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.reject(D(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;null!==(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==r&&r.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(D(e.auth,"popup-closed-by-user"))},2e3):e.pollId=window.setTimeout(t,Ci.get())}()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}}]),t}(Ti);Mi.currentPopupAction=null;var Fi="pendingRedirect",Ui=new Map,Vi=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a))).eventId=null,r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"execute",value:function(){var e=Object(l.a)(x().mark(function e(){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ui.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(u.a)(Object(s.a)(t.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,n=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n=function(){return Promise.reject(e.t1)};case 20:Ui.set(this.auth._key(),n);case 21:return this.bypassAuthState||Ui.set(this.auth._key(),function(){return Promise.resolve(null)}),e.abrupt("return",n());case 23:case"end":return e.stop()}},e,this,[[2,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(l.a)(x().mark(function e(n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",Object(u.a)(Object(s.a)(t.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(u.a)(Object(s.a)(t.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(l.a)(x().mark(function e(){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),t}(Ti);function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(l.a)(x().mark(function e(t,n){var r,i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hi(n),i=Wi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qi(e,t){return Gi.apply(this,arguments)}function Gi(){return(Gi=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t)._set(Hi(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ki(e,t){Ui.set(e._key(),t)}function Wi(e){return z(e._redirectPersistence)}function Hi(e){return Ne(Fi,e.config.apiKey,e.name)}function Qi(e,t,n){return function(e,t,n){return $i.apply(this,arguments)}(e,t,n)}function $i(){return($i=Object(l.a)(x().mark(function e(t,n,r){var i,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=He(t),L(t,n,Rt),e.next=4,i._initializationPromise;case 4:return a=xi(i,r),e.next=7,qi(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(l.a)(x().mark(function e(t,n,r){var i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(v.p)(t)).auth,n,Rt),e.next=4,i.auth._initializationPromise;case 4:return a=xi(i.auth,r),e.next=7,qi(a,i.auth);case 7:return e.next=9,ia(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xi(e,t,n){return function(e,t,n){return Zi.apply(this,arguments)}(e,t,n)}function Zi(){return(Zi=Object(l.a)(x().mark(function e(t,n,r){var i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((i=Object(v.p)(t)).auth,n,Rt),e.next=4,i.auth._initializationPromise;case 4:return a=xi(i.auth,r),e.next=7,rn(!1,i,n.providerId);case 7:return e.next=9,qi(a,i.auth);case 9:return e.next=11,ia(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(l.a)(x().mark(function e(t,n){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t)._initializationPromise;case 2:return e.abrupt("return",na(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(l.a)(x().mark(function e(t,n){var r,i,a,o,u,s=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=He(t),a=xi(i,n),o=new Vi(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ia(e){return aa.apply(this,arguments)}function aa(){return(aa=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Er("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var oa=function(){function e(t){Object(i.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(a.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(e);default:return!1}}(e)?n:(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0),n)}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sa(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(D(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ua(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ua(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function sa(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ca(e){return la.apply(this,arguments)}function la(){return(la=Object(l.a)(x().mark(function e(t){var n,r=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",J(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;function da(){return(da=Object(l.a)(x().mark(function e(t){var n,r,i,a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ca(t);case 4:n=e.sent,r=n.authorizedDomains,i=w(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pa(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:N(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function pa(e){var t=B(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ha.test(r))return!1;if(fa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var va=new K(3e4,6e4);function ma(){var e=Sr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(d.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ya=null;function ga(e){return ya=ya||function(e){return new Promise(function(t,n){var r,i,a;function o(){ma(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ma(),n(D(e,"network-request-failed"))},timeout:va.get()})}if(null===(i=null===(r=Sr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(null===(a=Sr().gapi)||void 0===a||!a.load){var u=Zr("iframefcb");return Sr()[u]=function(){gapi.load?o():n(D(e,"network-request-failed"))},Xr("https://apis.google.com/js/api.js?onload=".concat(u)).catch(function(e){return n(e)})}o()}}).catch(function(e){throw ya=null,e})}(e)}var ba=new K(5e3,15e3),ka="__/auth/iframe",wa="emulator/auth/iframe",Oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _a(e){var t=e.config;M(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?W(t,wa):"https://".concat(e.config.authDomain,"/").concat(ka),r={apiKey:t.apiKey,appName:e.name,v:m.SDK_VERSION},i=xa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(v.A)(r).slice(1))}function ja(e){return Ea.apply(this,arguments)}function Ea(){return(Ea=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga(t);case 2:return n=e.sent,M(r=Sr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_a(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oa,dontclear:!0},function(e){return new Promise(function(){var n=Object(l.a)(x().mark(function n(r,i){var a,o,u;return x().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Sr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=D(t,"network-request-failed"),o=Sr().setTimeout(function(){i(a)},ba.get()),e.ping(u).then(u,function(){i(a)});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sa=500,Ta=600,Ca="_blank",Aa="http://localhost",Na=function(){function e(t){Object(i.a)(this,e),this.window=t,this.associatedEvent=null}return Object(a.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Da(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sa,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ta,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ia),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(v.q)().toLowerCase();n&&(u=Me(c)?Ca:n),Le(c)&&(t=t||Aa,s.scrollbars="yes");var l=Object.entries(s).reduce(function(e,t){var n=Object(h.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e;return Be(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Na(null);var f=window.open(t||"",u,l);M(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Na(f)}var Ra="__/auth/handler",La="emulator/auth/handler";function Pa(e,t,n,r,i,a){M(e.config.authDomain,e,"auth-domain-config-required"),M(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:m.SDK_VERSION,eventId:i};if(t instanceof Rt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(v.t)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(h.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Lt){var d=t.getScopes().filter(function(e){return""!==e});d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,y=0,g=Object.keys(p);y<g.length;y++){var b=g[y];void 0===p[b]&&delete p[b]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return W(t,La)}(e),"?").concat(Object(v.A)(p).slice(1))}var Ma=function(){function e(){Object(i.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xr,this._completeRedirectFn=na,this._overrideRedirectResult=Ki}return Object(a.a)(e,[{key:"_openPopup",value:function(){var e=Object(l.a)(x().mark(function e(t,n,r,i){var a,o;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Pa(t,n,r,B(),i),e.abrupt("return",Da(t,o,Er()));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(l.a)(x().mark(function e(t,n,r,i){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Pa(t,n,r,B(),i),Sr().location.href=a,e.abrupt("return",new Promise(function(){}));case 4:case"end":return e.stop()}var a},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(U(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(function(){delete t.eventManagers[n]}),o}},{key:"initAndGetManager",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(t);case 2:return n=e.sent,r=new oa(t),n.register("authEvent",function(e){return M(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),N(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return da.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return qe()||Pe()||Be()}}]),e}(),Fa=function(){function e(t){Object(i.a)(this,e),this.factorId=t}return Object(a.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return F("unexpected MultiFactorSessionType")}}}]),e}(),Ua=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"phone"))).credential=e,n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return J(e,"POST","/v2/accounts/mfaEnrollment:finalize",Y(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return J(e,"POST","/v2/accounts/mfaSignIn:finalize",Y(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}]),t}(Fa),Va=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"assertion",value:function(e){return Ua._fromCredential(e)}}]),e}();Va.FACTOR_ID="phone",(function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return za._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return za._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Object(l.a)(x().mark(function e(t){var n,r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},J(i,"POST","/v2/accounts/mfaEnrollment:start",Y(i,a));case 4:return r=e.sent,e.abrupt("return",Ba._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}()).FACTOR_ID="totp";var za=function(e){function t(e,n,r){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,"totp"))).otp=e,a.enrollmentId=n,a.secret=r,a}return Object(c.a)(t,e),Object(a.a)(t,[{key:"_finalizeEnroll",value:function(){var e=Object(l.a)(x().mark(function e(t,n,r){return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",vr(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Object(l.a)(x().mark(function e(t,n){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",$r(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,n){return new t(n,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,n){return new t(n,e)}}]),t}(Fa),Ba=function(){function e(t,n,r,a,o,u,s){Object(i.a)(this,e),this.sessionInfo=u,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=a,this.enrollmentCompletionDeadline=o}return Object(a.a)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(qa(e)||qa(t))&&(r=!0),r&&(qa(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),qa(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function qa(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ga="@firebase/auth",Ka="0.22.0",Wa=function(){function e(t){Object(i.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(a.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(l.a)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ha;Object(v.o)("authIdTokenMaxAge");function Qa(){Qa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new j(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),s(g,u,"Generator"),s(g,a,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $a(){return window}Ha="Browser",Object(m._registerComponent)(new k.a("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){M(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),M(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Ha,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ge(Ha)},i=new We(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(z);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Object(m._registerComponent)(new k.a("auth-internal",function(e){return function(e){return new Wa(e)}(He(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(m.registerVersion)(Ga,Ka,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ha)),Object(m.registerVersion)(Ga,Ka,"esm2017"),n.d(t,"x",function(){return wo}),n.d(t,"F",function(){return bo}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return Xe}),n.d(t,"c",function(){return Dt}),n.d(t,"d",function(){return Mt}),n.d(t,"e",function(){return Ut}),n.d(t,"f",function(){return Ft}),n.d(t,"g",function(){return _t}),n.d(t,"h",function(){return Pt}),n.d(t,"i",function(){return Oi}),n.d(t,"j",function(){return Va}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return ci}),n.d(t,"m",function(){return Vt}),n.d(t,"n",function(){return Bt}),n.d(t,"o",function(){return qt}),n.d(t,"p",function(){return M}),n.d(t,"q",function(){return He}),n.d(t,"r",function(){return N}),n.d(t,"s",function(){return Er}),n.d(t,"t",function(){return z}),n.d(t,"u",function(){return na}),n.d(t,"v",function(){return Ki}),n.d(t,"w",function(){return Ne}),n.d(t,"y",function(){return Sn}),n.d(t,"z",function(){return wr}),n.d(t,"A",function(){return Ma}),n.d(t,"B",function(){return xr}),n.d(t,"C",function(){return Cn}),n.d(t,"D",function(){return En}),n.d(t,"E",function(){return $e}),n.d(t,"G",function(){return Rn}),n.d(t,"H",function(){return I}),n.d(t,"I",function(){return Gn}),n.d(t,"J",function(){return lr}),n.d(t,"K",function(){return dr}),n.d(t,"L",function(){return ea}),n.d(t,"M",function(){return Ae}),n.d(t,"N",function(){return Hr}),n.d(t,"O",function(){return Un}),n.d(t,"P",function(){return hn}),n.d(t,"Q",function(){return pi}),n.d(t,"R",function(){return Li}),n.d(t,"S",function(){return Xi}),n.d(t,"T",function(){return gr}),n.d(t,"U",function(){return pn}),n.d(t,"V",function(){return mi}),n.d(t,"W",function(){return Di}),n.d(t,"X",function(){return Yi}),n.d(t,"Y",function(){return Wn}),n.d(t,"Z",function(){return _n}),n.d(t,"ab",function(){return Mn}),n.d(t,"bb",function(){return Qt}),n.d(t,"cb",function(){return ln}),n.d(t,"db",function(){return gn}),n.d(t,"eb",function(){return Pn}),n.d(t,"fb",function(){return Vn}),n.d(t,"gb",function(){return hi}),n.d(t,"hb",function(){return Ai}),n.d(t,"ib",function(){return Qi}),n.d(t,"jb",function(){return Zt}),n.d(t,"kb",function(){return er}),n.d(t,"lb",function(){return tr}),n.d(t,"mb",function(){return ki}),n.d(t,"nb",function(){return Xn}),n.d(t,"ob",function(){return Qn}),n.d(t,"pb",function(){return Nn});var Ya=2e3;function Ja(e,t,n){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(l.a)(Qa().mark(function e(t,n,r){var i,a,o,u,s;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=$a(),o=a.BuildInfo,U(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,io(n.sessionId);case 4:return u=e.sent,s={},Be()?s.ibi=o.packageName:Ue()?s.apn=o.packageName:N(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Pa(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Za(){return(Za=Object(l.a)(Qa().mark(function e(t){var n,r,i;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$a(),r=n.BuildInfo,i={},Be()?i.iosBundleId=r.packageName:Ue()?i.androidPackageName=r.packageName:N(t,"operation-not-supported-in-this-environment"),e.next=5,ca(t,i);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eo(e){var t=$a().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}function to(e,t,n){return no.apply(this,arguments)}function no(){return(no=Object(l.a)(Qa().mark(function e(t,n,r){var i,a,o;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$a(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout(function(){i(D(t,"redirect-cancelled-by-user"))},Ya))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ue()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}});case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function ro(e){var t,n,r,i,a,o,u,s,c,l,f=$a();M("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),M("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),M("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function io(e){return ao.apply(this,arguments)}function ao(){return(ao=Object(l.a)(Qa().mark(function e(t){var n,r,i;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=oo(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oo(e){if(U(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var uo=20,so=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).apply(this,arguments))).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return Object(c.a)(t,e),Object(a.a)(t,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),Object(u.a)(Object(s.a)(t.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(l.a)(Qa().mark(function e(){return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(oa);function co(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:vo(),postBody:null,tenantId:e.tenantId,error:D(e,"no-auth-event")}}function lo(e,t){return mo()._set(yo(e),t)}function fo(e){return ho.apply(this,arguments)}function ho(){return(ho=Object(l.a)(Qa().mark(function e(t){var n;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo()._get(yo(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,mo()._remove(yo(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function po(e,t){var n,r,i=function(e){var t=go(e),n=t.link?decodeURIComponent(t.link):void 0,r=go(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return go(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=go(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?D(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vo(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<uo;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function mo(){return z(wr)}function yo(e){return Ne("authEvent",e.config.apiKey,e.name)}function go(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=e.split("?"),n=Object(r.a)(t),i=(n[0],n.slice(1));return Object(v.B)(i.join("?"))}var bo=function(){function e(){Object(i.a)(this,e),this._redirectPersistence=xr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=na,this._overrideRedirectResult=Ki}return Object(a.a)(e,[{key:"_initialize",value:function(){var e=Object(l.a)(Qa().mark(function e(t){var n,r;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new so(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){N(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(l.a)(Qa().mark(function e(t,n,r,i){var a,o,u,s;return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ro(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ui.clear(),e.next=10,this._originValidation(t);case 10:return o=co(t,r,i),e.next=13,lo(t,o);case 13:return e.next=15,Ja(t,o,n);case 15:return u=e.sent,e.next=18,eo(u);case 18:return s=e.sent,e.abrupt("return",to(t,a,s));case 20:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Za.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$a(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(l.a)(Qa().mark(function n(){return Qa().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fo(e);case 2:t.onEvent(ko());case 3:case"end":return n.stop()}},n)})),500),u=function(){var n=Object(l.a)(Qa().mark(function n(r){var i,a;return Qa().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,fo(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=po(i,r.url)),t.onEvent(a||ko());case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");$a().handleOpenURL=function(){var e=Object(l.a)(Qa().mark(function e(t){return Qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}();function ko(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:D("no-auth-event")}}function wo(e,t){He(e)._logFramework(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(26);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var a=n(21);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Lf}),n.d(t,"b",function(){return Nl}),n.d(t,"c",function(){return gl}),n.d(t,"d",function(){return ul}),n.d(t,"e",function(){return Uf}),n.d(t,"f",function(){return Dl}),n.d(t,"g",function(){return M}),n.d(t,"h",function(){return Ll}),n.d(t,"i",function(){return Vf}),n.d(t,"j",function(){return zf}),n.d(t,"k",function(){return X}),n.d(t,"l",function(){return oh}),n.d(t,"m",function(){return Tt}),n.d(t,"n",function(){return ie}),n.d(t,"o",function(){return re}),n.d(t,"p",function(){return nl}),n.d(t,"q",function(){return R}),n.d(t,"r",function(){return kt}),n.d(t,"s",function(){return C}),n.d(t,"t",function(){return Xc}),n.d(t,"u",function(){return eh}),n.d(t,"v",function(){return dh}),n.d(t,"w",function(){return hh}),n.d(t,"x",function(){return jl}),n.d(t,"y",function(){return ll}),n.d(t,"z",function(){return fl}),n.d(t,"A",function(){return ol}),n.d(t,"B",function(){return Zf}),n.d(t,"C",function(){return lh}),n.d(t,"D",function(){return Sl}),n.d(t,"E",function(){return hl}),n.d(t,"F",function(){return Ol}),n.d(t,"G",function(){return xl}),n.d(t,"H",function(){return Il}),n.d(t,"I",function(){return Tf}),n.d(t,"J",function(){return Sf}),n.d(t,"K",function(){return kl}),n.d(t,"L",function(){return rh}),n.d(t,"M",function(){return Gf}),n.d(t,"N",function(){return Wf}),n.d(t,"O",function(){return Hf}),n.d(t,"P",function(){return Qf}),n.d(t,"Q",function(){return $f}),n.d(t,"R",function(){return Yf}),n.d(t,"S",function(){return ph}),n.d(t,"T",function(){return Of}),n.d(t,"U",function(){return xf}),n.d(t,"V",function(){return Tl}),n.d(t,"W",function(){return Cl}),n.d(t,"X",function(){return th}),n.d(t,"Y",function(){return nh}),n.d(t,"Z",function(){return kf}),n.d(t,"ab",function(){return vf}),n.d(t,"bb",function(){return pl}),n.d(t,"cb",function(){return dl}),n.d(t,"db",function(){return ch}),n.d(t,"eb",function(){return fh}),n.d(t,"fb",function(){return Jf}),n.d(t,"gb",function(){return I}),n.d(t,"hb",function(){return qf}),n.d(t,"ib",function(){return Ef}),n.d(t,"jb",function(){return jf}),n.d(t,"kb",function(){return Xf}),n.d(t,"lb",function(){return El}),n.d(t,"mb",function(){return yf});var r=n(27),i=n(17),a=n(12),o=n(25),u=n(0),s=n(9),c=n(6),l=n(8),f=n(14),h=n(1),d=n(3),p=n(15),v=n(18),m=n(19),y=n(5),g=n(20);function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),s(g,u,"Generator"),s(g,a,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var O="@firebase/firestore",x=function(){function e(t){Object(h.a)(this,e),this.uid=t}return Object(d.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();x.UNAUTHENTICATED=new x(null),x.GOOGLE_CREDENTIALS=new x("google-credentials-uid"),x.FIRST_PARTY=new x("first-party-uid"),x.MOCK_USER=new x("mock-user");var _="9.19.0",j=new m.b("@firebase/firestore");function E(){return j.logLevel}function I(e){j.setLogLevel(e)}function S(e){if(j.logLevel<=m.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(A);j.debug.apply(j,["Firestore (".concat(_,"): ").concat(e)].concat(Object(f.a)(i)))}}function T(e){if(j.logLevel<=m.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(A);j.error.apply(j,["Firestore (".concat(_,"): ").concat(e)].concat(Object(f.a)(i)))}}function C(e){if(j.logLevel<=m.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(A);j.warn.apply(j,["Firestore (".concat(_,"): ").concat(e)].concat(Object(f.a)(i)))}}function A(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_,") INTERNAL ASSERTION FAILED: ")+e;throw T(t),new Error(t)}function D(e,t){e||N()}function R(e,t){e||N()}function L(e,t){return e}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,n))).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Object(l.a)(t,e),t}(y.c),F=function e(){var t=this;Object(h.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},U=function e(t,n){Object(h.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},V=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(x.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),z=function(){function e(t){Object(h.a)(this,e),this.token=t,this.changeListener=null}return Object(d.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),B=function(){function e(t){Object(h.a)(this,e),this.t=t,this.currentUser=x.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(d.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new F;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new F,e.enqueueRetryable(function(){return i(n.currentUser)})};var o=function(){var t=a;e.enqueueRetryable(Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}},e)})))},s=function(e){S("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new F)}},0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(D("string"==typeof n.accessToken),new U(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e),new x(e)}}]),e}(),q=function(){function e(t,n,r){Object(h.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=x.FIRST_PARTY,this.g=new Map}return Object(d.a)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),G=function(){function e(t,n,r){Object(h.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(d.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new q(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(x.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),K=function e(t){Object(h.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},W=function(){function e(t){Object(h.a)(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Object(d.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&S("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,S("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var i=function(e){S("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit(function(e){return i(e)}),setTimeout(function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(D("string"==typeof t.token),e.T=t.token,new K(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function H(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Q=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=H(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $(e,t){return e<t?-1:e>t?1:0}function Y(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function J(e){return e+"\0"}var X=function(){function e(t,n){if(Object(h.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new M(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new M(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(d.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$(this.nanoseconds,e.nanoseconds):$(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Z=function(){function e(t){Object(h.a)(this,e),this.timestamp=t}return Object(d.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new X(0,0))}},{key:"max",value:function(){return new e(new X(253402300799,999999999))}}]),e}(),ee=function(){function e(t,n,r){Object(h.a)(this,e),void 0===n?n=0:n>t.length&&N(),void 0===r?r=t.length-n:r>t.length-n&&N(),this.segments=t,this.offset=n,this.len=r}return Object(d.a)(e,[{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}},{key:"length",get:function(){return this.len}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),te=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new M(P.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(f.a)(u.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(ee),ne=/^[_a-zA-Z][_a-zA-Z0-9]*$/,re=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ne.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new M(P.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new M(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new M(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new M(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(ee),ie=function(){function e(t){Object(h.a)(this,e),this.path=t}return Object(d.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===te.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}},{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}}],[{key:"fromPath",value:function(t){return new e(te.fromString(t))}},{key:"fromName",value:function(t){return new e(te.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(te.emptyPath())}},{key:"comparator",value:function(e,t){return te.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new te(t.slice()))}}]),e}(),ae=function e(t,n,r,i){Object(h.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};function oe(e){return e.fields.find(function(e){return 2===e.kind})}function ue(e){return e.fields.filter(function(e){return 2!==e.kind})}ae.UNKNOWN_ID=-1;var se=function e(t,n){Object(h.a)(this,e),this.fieldPath=t,this.kind=n};var ce=function(){function e(t,n){Object(h.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(0,he.min())}}]),e}();function le(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(1e9===r?new X(n+1,0):new X(n,r));return new he(i,ie.empty(),t)}function fe(e){return new he(e.readTime,e.key,-1)}var he=function(){function e(t,n,r){Object(h.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(d.a)(e,null,[{key:"min",value:function(){return new e(Z.min(),ie.empty(),-1)}},{key:"max",value:function(){return new e(Z.max(),ie.empty(),-1)}}]),e}();function de(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ie.comparator(e.documentKey,t.documentKey))?n:$(e.largestBatchId,t.largestBatchId)}var pe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ve=function(){function e(){Object(h.a)(this,e),this.onCommittedListeners=[]}return Object(d.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}();function me(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===P.FAILED_PRECONDITION&&t.message===pe){e.next=2;break}throw t;case 2:S("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ge=function(){function e(t){var n=this;Object(h.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(d.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=b(t);try{var a=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e(function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next(function(t){a[u]=t,++o===i&&e(a)},function(e){return r(e)})},s=0;s<i;s++)u()})}},{key:"doWhile",value:function(t,n){return new e(function(e,r){!function i(){!0===t()?n().next(function(){i()},r):e()}()})}}]),e}(),be=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new F,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new Oe(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=Ie(e.target.error);r.R.reject(new Oe(t,n))}}return Object(d.a)(e,[{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new _e(t)}},{key:"v",get:function(){return this.R.promise}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Oe(n,t)}}}]),e}(),ke=function(){function t(e,n,r){Object(h.a)(this,t),this.name=e,this.version=n,this.V=r,12.2===t.S(Object(y.q)())&&T("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(d.a)(t,[{key:"$",value:function(){var e=Object(u.a)(w().mark(function e(t){var n=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return S("SimpleDb","Opening database:",this.name),e.next=5,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Oe(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new M(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new M(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Oe(t,n))},i.onupgradeneeded=function(e){S("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,i.transaction,e.oldVersion,n.version).next(function(){S("SimpleDb","Database upgrade to version "+n.version+" complete")})}});case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(u.a)(w().mark(function e(t,n,r,i){var a,o,u,s,c=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=w().mark(function e(){var n,u,s,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=be.open(c.db,t,a?"readonly":"readwrite",r),(u=i(n).next(function(e){return n.P(),e}).catch(function(e){return n.abort(e),ge.reject(e)}).toPromise()).catch(function(){}),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,S("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}},e,null,[[1,13]])});case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return S("SimpleDb","Removing database:",e),je(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Object(y.v)())return!1;if(t.C())return!0;var e=Object(y.q)(),n=t.S(e),r=0<n&&n<10,i=t.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),we=function(){function e(t){Object(h.a)(this,e),this.L=t,this.q=!1,this.U=null}return Object(d.a)(e,[{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return je(this.L.delete())}},{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}}]),e}(),Oe=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,P.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)))).name="IndexedDbTransactionError",r}return Object(l.a)(t,e),t}(M);function xe(e){return"IndexedDbTransactionError"===e.name}var _e=function(){function e(t){Object(h.a)(this,e),this.store=t}return Object(d.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(S("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),je(n)}},{key:"add",value:function(e){return S("SimpleDb","ADD",this.store.name,e,e),je(this.store.add(e))}},{key:"get",value:function(e){var t=this;return je(this.store.get(e)).next(function(n){return void 0===n&&(n=null),S("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return S("SimpleDb","DELETE",this.store.name,e),je(this.store.delete(e))}},{key:"count",value:function(){return S("SimpleDb","COUNT",this.store.name),je(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,function(e,t){i.push(t)}).next(function(){return i})}var a=this.store.getAll(n.range);return new ge(function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}})}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ge(function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}})}},{key:"J",value:function(e,t){S("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,function(e,t,n){return n.delete()})}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new ge(function(n,r){t.onerror=function(e){var t=Ie(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"W",value:function(e,t){var n=[];return new ge(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new we(i),o=t(i.primaryKey,i.value,a);if(o instanceof ge){var u=o.catch(function(e){return a.done(),ge.reject(e)});n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}}).next(function(){return ge.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function je(e){return new ge(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ie(e.target.error);n(t)}})}var Ee=!1;function Ie(e){var t=ke.S(Object(y.q)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ee||(Ee=!0,setTimeout(function(){throw r},0)),r}}return e}var Se=function(){function e(t,n){Object(h.a)(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Object(d.a)(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"et",value:function(e){var t=this;S("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=S,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!xe(e.t4)){e.next=17;break}S("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,me(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}},e,null,[[1,11]])})))}},{key:"started",get:function(){return null!==this.task}}]),e}(),Te=function(){function e(t,n){Object(h.a)(this,e),this.localStore=t,this.persistence=n}return Object(d.a)(e,[{key:"nt",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n=this,r=arguments;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",function(e){return n.st(e,t)}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ge.doWhile(function(){return!0===a&&i>0},function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(function(t){if(null!==t&&!r.has(t))return S("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next(function(e){i-=e,r.add(t)});a=!1})}).next(function(){return t-i})}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next(function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next(function(){return r.rt(i,n)}).next(function(n){return S("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(function(){return a.size})})})}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach(function(e,t){var r=fe(t);de(r,n)>0&&(n=r)}),new he(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ce=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Object(d.a)(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ae(e){return null==e}function Ne(e){return 0===e&&1/e==-1/0}function De(e){return"number"==typeof e&&Number.isInteger(e)&&!Ne(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Re(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Pe(t)),t=Le(e.get(n),t);return Pe(t)}function Le(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Pe(e){return e+"\x01\x01"}function Me(e){var t=e.length;if(D(t>=2),2===t)return D("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),te.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&N(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:N()}a=o+2}return new te(r)}Ce.ct=-1;var Fe=["userId","batchId"];function Ue(e,t){return[e,Re(t)]}function Ve(e,t,n){return[e,Re(t),n]}var ze={},Be=["prefixPath","collectionGroup","readTime","documentId"],qe=["prefixPath","collectionGroup","documentId"],Ge=["collectionGroup","readTime","prefixPath","documentId"],Ke=["canonicalId","targetId"],We=["targetId","path"],He=["path","targetId"],Qe=["collectionId","parent"],$e=["indexId","uid"],Ye=["uid","sequenceNumber"],Je=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xe=["indexId","uid","orderedDocumentKey"],Ze=["userId","collectionPath","documentId"],et=["userId","collectionPath","largestBatchId"],tt=["userId","collectionGroup","largestBatchId"],nt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rt=[].concat(Object(f.a)(nt),["documentOverlays"]),it=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],at=it,ot=[].concat(at,["indexConfiguration","indexState","indexEntries"]),ut=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).at=e,r.currentSequenceNumber=n,r}return Object(l.a)(t,e),t}(ve);function st(e,t){var n=L(e);return ke.O(n.at,t)}function ct(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lt(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ft(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ht=function(){function e(t,n){Object(h.a)(this,e),this.comparator=t,this.root=n||pt.EMPTY}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pt.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pt.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dt(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dt(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dt(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dt(this.root,e,this.comparator,!0)}},{key:"size",get:function(){return this.root.size}}]),e}(),dt=function(){function e(t,n,r,i){Object(h.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pt=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();var e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}]),e}();pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new(function(){function e(){Object(h.a)(this,e),this.size=0}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pt(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}},{key:"key",get:function(){throw N()}},{key:"value",get:function(){throw N()}},{key:"color",get:function(){throw N()}},{key:"left",get:function(){throw N()}},{key:"right",get:function(){throw N()}}]),e}());var vt=function(){function e(t){Object(h.a)(this,e),this.comparator=t,this.data=new ht(this.comparator)}return Object(d.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mt(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mt(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}},{key:"size",get:function(){return this.data.size}}]),e}(),mt=function(){function e(t){Object(h.a)(this,e),this.iter=t}return Object(d.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function yt(e){return e.hasNext()?e.getNext():void 0}var gt=function(){function e(t){Object(h.a)(this,e),this.fields=t,t.sort(re.comparator)}return Object(d.a)(e,[{key:"unionWith",value:function(t){var n,r=new vt(re.comparator),i=b(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=b(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=b(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Y(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}],[{key:"empty",value:function(){return new e([])}}]),e}(),bt=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).apply(this,arguments))).name="Base64DecodeError",e}return Object(l.a)(t,e),t}(Object(o.a)(Error));function kt(){return"undefined"!=typeof atob}var wt=function(){function e(t){Object(h.a)(this,e),this.binaryString=t}return Object(d.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bt("Invalid base64 string: "+e):e}}(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();wt.EMPTY_BYTE_STRING=new wt("");var Ot=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xt(e){if(D(!!e),"string"==typeof e){var t=0,n=Ot.exec(e);if(D(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_t(e.seconds),nanos:_t(e.nanos)}}function _t(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jt(e){return"string"==typeof e?wt.fromBase64String(e):wt.fromUint8Array(e)}function Et(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function It(e){var t=xt(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}var St=function e(t,n,r,i,a,o,u,s){Object(h.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},Tt=function(){function e(t,n){Object(h.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(d.a)(e,[{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ct={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},At={nullValue:"NULL_VALUE"};function Nt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Et(e)?4:Kt(e)?9007199254740991:10:N()}function Dt(e,t){if(e===t)return!0;var n=Nt(e);if(n!==Nt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return It(e).isEqual(It(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xt(e.timestampValue),r=xt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jt(e.bytesValue).isEqual(jt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _t(e.geoPointValue.latitude)===_t(t.geoPointValue.latitude)&&_t(e.geoPointValue.longitude)===_t(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _t(e.integerValue)===_t(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_t(e.doubleValue),r=_t(t.doubleValue);return n===r?Ne(n)===Ne(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Y(e.arrayValue.values||[],t.arrayValue.values||[],Dt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ct(n)!==ct(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dt(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function Rt(e,t){return void 0!==(e.values||[]).find(function(e){return Dt(e,t)})}function Lt(e,t){if(e===t)return 0;var n=Nt(e),r=Nt(t);if(n!==r)return $(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_t(e.integerValue||e.doubleValue),r=_t(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pt(e.timestampValue,t.timestampValue);case 4:return Pt(It(e),It(t));case 5:return $(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jt(e),r=jt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$(n[i],r[i]);if(0!==a)return a}return $(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$(_t(e.latitude),_t(t.latitude));return 0!==n?n:$(_t(e.longitude),_t(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Lt(n[i],r[i]);if(a)return a}return $(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ct.mapValue&&t===Ct.mapValue)return 0;if(e===Ct.mapValue)return 1;if(t===Ct.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=$(r[o],a[o]);if(0!==u)return u;var s=Lt(n[r[o]],i[a[o]]);if(0!==s)return s}return $(r.length,a.length)}(e.mapValue,t.mapValue);default:throw N()}}function Pt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $(e,t);var n=xt(e),r=xt(t),i=$(n.seconds,r.seconds);return 0!==i?i:$(n.nanos,r.nanos)}function Mt(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=xt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?jt(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,ie.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",i=!0,a=b(t.values||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?i=!1:r+=",",r+=e(o)}}catch(u){a.e(u)}finally{a.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),i="{",a=!0,o=b(r);try{for(o.s();!(n=o.n()).done;){var u=n.value;a?a=!1:i+=",",i+="".concat(u,":").concat(e(t.fields[u]))}}catch(s){o.e(s)}finally{o.f()}return i+"}"}(t.mapValue):N();var n,r}(e)}function Ft(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ut(e){return!!e&&"integerValue"in e}function Vt(e){return!!e&&"arrayValue"in e}function zt(e){return!!e&&"nullValue"in e}function Bt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qt(e){return!!e&&"mapValue"in e}function Gt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lt(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Gt(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Kt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wt(e){return"nullValue"in e?At:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ft(Tt.empty(),ie.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:N()}function Ht(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ft(Tt.empty(),ie.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ct:N()}function Qt(e,t){var n=Lt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $t(e,t){var n=Lt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Yt=function(){function e(t){Object(h.a)(this,e),this.value=t}return Object(d.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qt(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gt(t)}},{key:"setAll",value:function(e){var t=this,n=re.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gt(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());qt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Dt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lt(t,function(t,n){return e[t]=n});var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jt(e){var t=[];return lt(e.fields,function(e,n){var r=new re([e]);if(qt(n)){var i=Jt(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=b(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)}),new gt(t)}var Xt=function(){function e(t,n,r,i,a,o,u){Object(h.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Object(d.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Z.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Z.min(),Z.min(),Z.min(),Yt.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Z.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Z.min(),Z.min(),Yt.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Z.min(),Z.min(),Yt.empty(),2)}}]),e}(),Zt=function e(t,n){Object(h.a)(this,e),this.position=t,this.inclusive=n};function en(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ie.comparator(ie.fromName(o.referenceValue),n.key):Lt(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function tn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Dt(e.position[n],t.position[n]))return!1;return!0}var nn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(h.a)(this,e),this.field=t,this.dir=n};function rn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var an=function e(){Object(h.a)(this,e)},on=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).field=e,i.op=n,i.value=r,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lt(t,this.value)):null!==t&&Nt(this.value)===Nt(t)&&this.matchesComparison(Lt(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new vn(e,n,r):"array-contains"===n?new bn(e,r):"in"===n?new kn(e,r):"not-in"===n?new wn(e,r):"array-contains-any"===n?new On(e,r):new t(e,n,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new mn(e,n):new yn(e,n)}}]),t}(an),un=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).filters=e,r.op=n,r.ht=null,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){return sn(this)?void 0===this.filters.find(function(t){return!t.matches(e)}):void 0!==this.filters.find(function(t){return t.matches(e)})}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce(function(e,t){return e.concat(t.getFlattenedFilters())},[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt(function(e){return e.isInequality()});return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=b(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,n){return new t(e,n)}}]),t}(an);function sn(e){return"and"===e.op}function cn(e){return"or"===e.op}function ln(e){return fn(e)&&sn(e)}function fn(e){var t,n=b(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof un)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function hn(e,t){return e instanceof on?function(e,t){return t instanceof on&&e.op===t.op&&e.field.isEqual(t.field)&&Dt(e.value,t.value)}(e,t):e instanceof un?function(e,t){return t instanceof un&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(function(e,n,r){return e&&hn(n,t.filters[r])},!0)}(e,t):void N()}function dn(e,t){var n=e.filters.concat(t);return un.create(n,e.op)}function pn(e){return e instanceof on?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Mt(e.value))}(e):e instanceof un?function(e){return e.op.toString()+" {"+e.getFilters().map(pn).join(" ,")+"}"}(e):"Filter"}var vn=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this,e,n,r))).key=ie.fromName(r.referenceValue),i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}}]),t}(on),mn=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,"in",n))).keys=gn("in",n),r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(on),yn=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,"not-in",n))).keys=gn("not-in",n),r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(on);function gn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ie.fromName(e.referenceValue)})}var bn=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"array-contains",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vt(t)&&Rt(t.arrayValue,this.value)}}]),t}(on),kn=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"in",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Rt(this.value.arrayValue,t)}}]),t}(on),wn=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"not-in",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){if(Rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Rt(this.value.arrayValue,t)}}]),t}(on),On=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"array-contains-any",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vt(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return Rt(t.value.arrayValue,e)})}}]),t}(on),xn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(h.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null};function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new xn(e,t,n,r,i,a,o)}function jn(e){var t=L(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function e(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+Mt(t.value);if(ln(t))return t.filters.map(function(t){return e(t)}).join(",");var n=t.filters.map(function(t){return e(t)}).join(",");return"".concat(t.op,"(").concat(n,")")}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),Ae(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return Mt(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return Mt(e)}).join(",")),t.ft=n}return t.ft}function En(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!hn(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tn(e.startAt,t.startAt)&&tn(e.endAt,t.endAt)}function In(e){return ie.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Sn(e,t){return e.filters.filter(function(e){return e instanceof on&&e.field.isEqual(t)})}function Tn(e,t,n){var r,i=At,a=!0,o=b(Sn(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=At,c=!0;switch(u.op){case"<":case"<=":s=Wt(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=At}Qt({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Qt({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Cn(e,t,n){var r,i=Ct,a=!0,o=b(Sn(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ct,c=!0;switch(u.op){case">=":case">":s=Ht(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ct}$t({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$t({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var An=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(h.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt};function Nn(e,t,n,r,i,a,o,u){return new An(e,t,n,r,i,a,o,u)}function Dn(e){return new An(e)}function Rn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ln(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pn(e){var t,n=b(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Mn(e){return null!==e.collectionGroup}function Fn(e){var t=L(e);if(null===t.dt){t.dt=[];var n=Pn(t),r=Ln(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new nn(n)),t.dt.push(new nn(re.keyField(),"asc"));else{var i,a=!1,o=b(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new nn(re.keyField(),s))}}}return t.dt}function Un(e){var t=L(e);if(!t.wt)if("F"===t.limitType)t.wt=_n(t.path,t.collectionGroup,Fn(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=b(Fn(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new nn(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Zt(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zt(t.startAt.position,t.startAt.inclusive):null;t.wt=_n(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Vn(e,t){t.getFirstInequalityField(),Pn(e);var n=e.filters.concat([t]);return new An(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zn(e,t,n){return new An(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bn(e,t){return En(Un(e),Un(t))&&e.limitType===t.limitType}function qn(e){return"".concat(jn(Un(e)),"|lt:").concat(e.limitType)}function Gn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return pn(e)}).join(", "),"]")),Ae(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return Mt(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return Mt(e)}).join(",")),"Target(".concat(t,")")}(Un(e)),"; limitType=").concat(e.limitType,")")}function Kn(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ie.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=b(Fn(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=b(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=en(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fn(e),t))&&!(e.endAt&&!function(e,t,n){var r=en(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fn(e),t))}(e,t)}function Wn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hn(e){return function(t,n){var r,i=!1,a=b(Fn(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Qn(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Qn(e,t,n){var r=e.field.isKeyField()?ie.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Lt(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}var $n=function(){function e(t,n){Object(h.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(d.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lt(this.inner,function(t,n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}})}},{key:"isEmpty",value:function(){return ft(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Yn=new ht(ie.comparator);function Jn(){return Yn}var Xn=new ht(ie.comparator);function Zn(){for(var e=Xn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function er(e){var t=Xn;return e.forEach(function(e,n){return t=t.insert(e,n.overlayedDocument)}),t}function tr(){return rr()}function nr(){return rr()}function rr(){return new $n(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}var ir=new ht(ie.comparator),ar=new vt(ie.comparator);function or(){for(var e=ar,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ur=new vt($);function sr(){return ur}function cr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ne(t)?"-0":t}}function lr(e){return{integerValue:""+e}}function fr(e,t){return De(t)?lr(t):cr(e,t)}var hr=function e(){Object(h.a)(this,e),this._=void 0};function dr(e,t,n){return e instanceof mr?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yr?gr(e,t):e instanceof br?kr(e,t):function(e,t){var n=vr(e,t),r=Or(n)+Or(e._t);return Ut(n)&&Ut(e._t)?lr(r):cr(e.serializer,r)}(e,t)}function pr(e,t,n){return e instanceof yr?gr(e,t):e instanceof br?kr(e,t):n}function vr(e,t){return e instanceof wr?Ut(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var mr=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),t}(hr),yr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).elements=e,n}return Object(l.a)(t,e),t}(hr);function gr(e,t){var n,r=xr(t),i=b(e.elements);try{var a=function(){var e=n.value;r.some(function(t){return Dt(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var br=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).elements=e,n}return Object(l.a)(t,e),t}(hr);function kr(e,t){var n,r=xr(t),i=b(e.elements);try{var a=function(){var e=n.value;r=r.filter(function(t){return!Dt(t,e)})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wr=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).serializer=e,r._t=n,r}return Object(l.a)(t,e),t}(hr);function Or(e){return _t(e.integerValue||e.doubleValue)}function xr(e){return Vt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _r=function e(t,n){Object(h.a)(this,e),this.field=t,this.transform=n};var jr=function e(t,n){Object(h.a)(this,e),this.version=t,this.transformResults=n},Er=function(){function e(t,n){Object(h.a)(this,e),this.updateTime=t,this.exists=n}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}},{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ir(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sr=function e(){Object(h.a)(this,e)};function Tr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zr(e.key,Er.none()):new Rr(e.key,e.data,Er.none());var n,r=e.data,i=Yt.empty(),a=new vt(re.comparator),o=b(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Lr(e.key,i,new gt(a.toArray()),Er.none())}function Cr(e,t,n){e instanceof Rr?function(e,t,n){var r=e.value.clone(),i=Mr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lr?function(e,t,n){if(Ir(e.precondition,t)){var r=Mr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ar(e,t,n,r){return e instanceof Rr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;var i=e.value.clone(),a=Fr(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;var i=Fr(e.fieldTransforms,r,t),a=t.data;return a.setAll(Pr(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function(e){return e.field}))}(e,t,n,r):function(e,t,n){return Ir(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nr(e,t){var n,r=null,i=b(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=vr(a.transform,o||null);null!=u&&(null===r&&(r=Yt.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Dr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Y(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yr&&t instanceof yr||e instanceof br&&t instanceof br?Y(e.elements,t.elements,Dt):e instanceof wr&&t instanceof wr?Dt(e._t,t._t):e instanceof mr&&t instanceof mr}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rr=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,i.value=n,i.precondition=r,i.fieldTransforms=a,i.type=0,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sr),Lr=function(e){function t(e,n,r,i){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),t}(Sr);function Pr(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Mr(e,t,n){var r=new Map;D(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pr(o,u,n[i]))}return r}function Fr(e,t,n){var r,i=new Map,a=b(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,dr(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ur,Vr,zr=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sr),Br=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Sr),qr=function(){function e(t,n,r,i){Object(h.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(d.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Cr(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=b(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ar(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=b(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ar(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=nr();return this.mutations.forEach(function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Tr(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},or())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations,function(e,t){return Dr(e,t)})&&Y(this.baseMutations,e.baseMutations,function(e,t){return Dr(e,t)})}}]),e}(),Gr=function(){function e(t,n,r,i){Object(h.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(d.a)(e,null,[{key:"from",value:function(t,n,r){D(t.mutations.length===r.length);for(var i=ir,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Kr=function(){function e(t,n){Object(h.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(d.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Wr=function e(t){Object(h.a)(this,e),this.count=t};function Hr(e){switch(e){default:return N();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function Qr(e){if(void 0===e)return T("GRPC error has no .code"),P.UNKNOWN;switch(e){case Ur.OK:return P.OK;case Ur.CANCELLED:return P.CANCELLED;case Ur.UNKNOWN:return P.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return P.INTERNAL;case Ur.UNAVAILABLE:return P.UNAVAILABLE;case Ur.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ur.NOT_FOUND:return P.NOT_FOUND;case Ur.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ur.ABORTED:return P.ABORTED;case Ur.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ur.DATA_LOSS:return P.DATA_LOSS;default:return N()}}(Vr=Ur||(Ur={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";var $r=function(){function e(){Object(h.a)(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Object(d.a)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach(function(t){return t(e)})}}],[{key:"getOrCreateInstance",value:function(){return null===Yr&&(Yr=new e),Yr}},{key:"instance",get:function(){return Yr}}]),e}(),Yr=null,Jr=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(d.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Xr.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Z.min(),i,sr(),Jn(),or())}}]),e}(),Xr=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(d.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,or(),or(),or())}}]),e}(),Zr=function e(t,n,r,i){Object(h.a)(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i},ei=function e(t,n){Object(h.a)(this,e),this.targetId=t,this.Et=n},ti=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},ni=function(){function e(){Object(h.a)(this,e),this.At=0,this.Rt=ai(),this.vt=wt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return Object(d.a)(e,[{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=or(),t=or(),n=or();return this.Rt.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}}),new Xr(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=ai()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}},{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}}]),e}(),ri=function(){function e(t){Object(h.a)(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Jn(),this.qt=ii(),this.Ut=new vt($)}return Object(d.a)(e,[{key:"Kt",value:function(e){var t,n=b(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=b(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:N()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach(function(e,r){n.Wt(r)&&t(r)})}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(In(a))if(0===r){var o=new ie(a.path);this.Qt(n,o,Xt.newNoDocument(o,Z.min()))}else D(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=$r.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach(function(r,i){var a=t.Yt(i);if(a){if(r.current&&In(a.target)){var o=new ie(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Xt.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}});var r=or();this.qt.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.Lt.forEach(function(t,n){return n.setReadTime(e)});var i=new Jr(e,n,this.Ut,this.Lt,r);return this.Lt=Jn(),this.qt=ii(),this.Ut=new vt($),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new ni,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new vt($),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new ni),this.Ft.getRemoteKeysForTarget(e).forEach(function(n){t.Qt(e,n,null)})}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function ii(){return new ht(ie.comparator)}function ai(){return new ht(ie.comparator)}var oi={asc:"ASCENDING",desc:"DESCENDING"},ui={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},si={and:"AND",or:"OR"},ci=function e(t,n){Object(h.a)(this,e),this.databaseId=t,this.useProto3Json=n};function li(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hi(e,t){return li(e,t.toTimestamp())}function di(e){return D(!!e),Z.fromTimestamp(function(e){var t=xt(e);return new X(t.seconds,t.nanos)}(e))}function pi(e,t){return function(e){return new te(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vi(e){var t=te.fromString(e);return D(Pi(t)),t}function mi(e,t){return pi(e.databaseId,t.path)}function yi(e,t){var n=vi(t);if(n.get(1)!==e.databaseId.projectId)throw new M(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ie(wi(n))}function gi(e,t){return pi(e.databaseId,t)}function bi(e){var t=vi(e);return 4===t.length?te.emptyPath():wi(t)}function ki(e){return new te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wi(e){return D(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Oi(e,t,n){return{name:mi(e,t),fields:n.value.mapValue.fields}}function xi(e,t,n){var r=yi(e,t.name),i=di(t.updateTime),a=t.createTime?di(t.createTime):Z.min(),o=new Yt({mapValue:{fields:t.fields}}),u=Xt.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function _i(e,t){return"found"in t?function(e,t){D(!!t.found),t.found.name,t.found.updateTime;var n=yi(e,t.found.name),r=di(t.found.updateTime),i=t.found.createTime?di(t.found.createTime):Z.min(),a=new Yt({mapValue:{fields:t.found.fields}});return Xt.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){D(!!t.missing),D(!!t.readTime);var n=yi(e,t.missing),r=di(t.readTime);return Xt.newNoDocument(n,r)}(e,t):N()}function ji(e,t){var n;if(t instanceof Rr)n={update:Oi(e,t.key,t.value)};else if(t instanceof zr)n={delete:mi(e,t.key)};else if(t instanceof Lr)n={update:Oi(e,t.key,t.data),updateMask:Li(t.fieldMask)};else{if(!(t instanceof Br))return N();n={verify:mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof mr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof br)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),increment:n._t};throw N()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:N()}(e,t.precondition)),n}function Ei(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Er.updateTime(di(e.updateTime)):void 0!==e.exists?Er.exists(e.exists):Er.none()}(t.currentDocument):Er.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)D("REQUEST_TIME"===t.setToServerValue),n=new mr;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new yr(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new br(i)}else"increment"in t?n=new wr(e,t.increment):N();var a=re.fromServerFormat(t.fieldPath);return new _r(a,n)}(e,t)}):[];if(t.update){t.update.name;var i=yi(e,t.update.name),a=new Yt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new gt(t.map(function(e){return re.fromServerFormat(e)}))}(t.updateMask);return new Lr(i,a,o,n,r)}return new Rr(i,a,n,r)}if(t.delete){var u=yi(e,t.delete);return new zr(u,n)}if(t.verify){var s=yi(e,t.verify);return new Br(s,n)}return N()}function Ii(e,t){return{documents:[gi(e,t.path)]}}function Si(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gi(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gi(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return function e(t){return t instanceof on?function(e){if("=="===e.op){if(Bt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NAN"}};if(zt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NOT_NAN"}};if(zt(e.value))return{unaryFilter:{field:Di(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(e.field),op:Ai(e.op),value:e.value}}}(t):t instanceof un?function(t){var n=t.getFilters().map(function(t){return e(t)});return 1===n.length?n[0]:{compositeFilter:{op:Ni(t.op),filters:n}}}(t):N()}(un.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Di(e.field),direction:Ci(e.dir)}}(e)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||Ae(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ti(e){var t=bi(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){D(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ri(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ri(e.unaryFilter.field);return on.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ri(e.unaryFilter.field);return on.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ri(e.unaryFilter.field);return on.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(t):void 0!==t.fieldFilter?function(e){return on.create(Ri(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return un.create(t.compositeFilter.filters.map(function(t){return e(t)}),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return N()}}(t.compositeFilter.op))}(t):N()}(n.where);return t instanceof un&&ln(t)?t.getFilters():[t]}());var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return function(e){return new nn(Ri(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var s=null;n.limit&&(s=function(e){var t;return Ae(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Zt(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Zt(n,t)}(n.endAt)),Nn(t,i,u,o,s,"F",c,l)}function Ci(e){return oi[e]}function Ai(e){return ui[e]}function Ni(e){return si[e]}function Di(e){return{fieldPath:e.canonicalString()}}function Ri(e){return re.fromServerFormat(e.fieldPath)}function Li(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Pi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Mi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Z.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wt.EMPTY_BYTE_STRING;Object(h.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(d.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Fi=function e(t){Object(h.a)(this,e),this.se=t};function Ui(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vi(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:li(e,t.version.toTimestamp()),createTime:li(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zi(t.version)};else{if(!t.isUnknownDocument())return N();r.unknownDocument={path:n.path.toArray(),version:zi(t.version)}}return r}function Vi(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zi(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bi(e){var t=new X(e.seconds,e.nanoseconds);return Z.fromTimestamp(t)}function qi(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Ei(e.se,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map(function(t){return Ei(e.se,t)}),u=X.fromMillis(t.localWriteTimeMs);return new qr(t.batchId,u,n,o)}function Gi(e){var t,n,r=Bi(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Bi(e.lastLimboFreeSnapshotVersion):Z.min();return void 0!==e.query.documents?(D(1===(n=e.query).documents.length),t=Un(Dn(bi(n.documents[0])))):t=function(e){return Un(Ti(e))}(e.query),new Mi(t,e.targetId,0,e.lastListenSequenceNumber,r,i,wt.fromBase64String(e.resumeToken))}function Ki(e,t){var n,r=zi(t.snapshotVersion),i=zi(t.lastLimboFreeSnapshotVersion);n=In(t.target)?Ii(e.se,t.target):Si(e.se,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jn(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Wi(e){var t=Ti({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zn(t,t.limit,"L"):t}function Hi(e,t){return new Kr(t.largestBatchId,Ei(e.se,t.overlayMutation))}function Qi(e,t){var n=t.path.lastSegment();return[e,Re(t.path.popLast()),n]}function $i(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:zi(r.readTime),documentKey:Re(r.documentKey.path),largestBatchId:r.largestBatchId}}var Yi=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Ji(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Bi(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Ji(e).put({bundleId:(n=t).id,createTime:zi(di(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Xi(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Wi(t.bundledQuery),readTime:Bi(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Xi(e).put(function(e){return{name:e.name,readTime:zi(di(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ji(e){return st(e,"bundles")}function Xi(e){return st(e,"namedQueries")}var Zi=function(){function e(t,n){Object(h.a)(this,e),this.serializer=t,this.userId=n}return Object(d.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return ea(e).get(Qi(this.userId,t)).next(function(e){return e?Hi(n.serializer,e):null})}},{key:"getOverlays",value:function(e,t){var n=this,r=tr();return ge.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach(function(n,a){var o=new Kr(t,a);i.push(r.re(e,o))}),ge.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach(function(e){return i.add(Re(e.getCollectionPath()))});var a=[];return i.forEach(function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(ea(e).J("collectionPathOverlayIndex",i))}),ge.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=tr(),a=Re(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ea(e).j("collectionPathOverlayIndex",o).next(function(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Hi(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i})}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=tr(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ea(e).Z({index:"collectionGroupOverlayIndex",range:u},function(e,t,n){var u=Hi(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()}).next(function(){return o})}},{key:"re",value:function(e,t){return ea(e).put(function(e,t,n){var r=Qi(t,n.mutation.key),i=Object(a.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ji(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function ea(e){return st(e,"documentOverlays")}var ta=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(_t(e.integerValue));else if("doubleValue"in e){var n=_t(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Ne(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(jt(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?Kt(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):N()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),ie.fromName(e).path.forEach(function(e){n.ae(t,60),n.ye(e,t)})}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function na(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ra(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=na(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ta.pe=new ta;var ia=function(){function e(){Object(h.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(d.a)(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{var a=r.codePointAt(0);this.Te(240|a>>>18),this.Te(128|63&a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=ra(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=ra(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),aa=function(){function e(t){Object(h.a)(this,e),this.Me=t}return Object(d.a)(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),oa=function(){function e(t){Object(h.a)(this,e),this.Me=t}return Object(d.a)(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),ua=function(){function e(){Object(h.a)(this,e),this.Me=new ia,this.Fe=new aa(this.Me),this.Be=new oa(this.Me)}return Object(d.a)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),sa=function(){function e(t,n,r,i){Object(h.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(d.a)(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ca(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=la(e.arrayValue,t.arrayValue))?n:0!==(n=la(e.directionalValue,t.directionalValue))?n:ie.comparator(e.documentKey,t.documentKey)}function la(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var fa=function(){function e(t){Object(h.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=b(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ge=i:this.Ke.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Object(d.a)(e,[{key:"Qe",value:function(e){D(e.collectionGroup===this.collectionId);var t=oe(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=ue(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var a=n[r];if(!this.je(this.Ge,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=b(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ha(e){if(0===e.getFilters().length)return[];var t=function e(t){if(D(t instanceof on||t instanceof un),t instanceof on)return t;if(1===t.filters.length)return e(t.filters[0]);var n=t.filters.map(function(t){return e(t)});var r=un.create(n,t.op);return r=ga(r),va(r)?r:(D(r instanceof un),D(sn(r)),D(r.filters.length>1),r.filters.reduce(function(e,t){return ma(e,t)}))}(function e(t){var n,r;if(D(t instanceof on||t instanceof un),t instanceof on){if(t instanceof kn){var i=(null===(r=null===(n=t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(function(e){return on.create(t.field,"==",e)}))||[];return un.create(i,"or")}return t}var a=t.filters.map(function(t){return e(t)});return un.create(a,t.op)}(e));return D(va(t)),da(t)||pa(t)?[t]:t.getFilters()}function da(e){return e instanceof on}function pa(e){return e instanceof un&&ln(e)}function va(e){return da(e)||pa(e)||function(e){if(e instanceof un&&cn(e)){var t,n=b(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!da(r)&&!pa(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function ma(e,t){return D(e instanceof on||e instanceof un),D(t instanceof on||t instanceof un),ga(e instanceof on?t instanceof on?function(e,t){return un.create([e,t],"and")}(e,t):ya(e,t):t instanceof on?ya(t,e):function(e,t){if(D(e.filters.length>0&&t.filters.length>0),sn(e)&&sn(t))return dn(e,t.getFilters());var n=cn(e)?e:t,r=cn(e)?t:e,i=n.filters.map(function(e){return ma(e,r)});return un.create(i,"or")}(e,t))}function ya(e,t){if(sn(t))return dn(t,e.getFilters());var n=t.filters.map(function(t){return ma(e,t)});return un.create(n,"or")}function ga(e){if(D(e instanceof on||e instanceof un),e instanceof on)return e;var t=e.getFilters();if(1===t.length)return ga(t[0]);if(fn(e))return e;var n=t.map(function(e){return ga(e)}),r=[];return n.forEach(function(t){t instanceof on?r.push(t):t instanceof un&&(t.op===e.op?r.push.apply(r,Object(f.a)(t.filters)):r.push(t))}),1===r.length?r[0]:un.create(r,e.op)}var ba=function(){function e(){Object(h.a)(this,e),this.He=new ka}return Object(d.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),ge.resolve()}},{key:"getCollectionParents",value:function(e,t){return ge.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ge.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ge.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ge.resolve(null)}},{key:"getIndexType",value:function(e,t){return ge.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ge.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ge.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ge.resolve(he.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ge.resolve(he.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ge.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ge.resolve()}}]),e}(),ka=function(){function e(){Object(h.a)(this,e),this.index={}}return Object(d.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vt(te.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vt(te.comparator)).toArray()}}]),e}(),wa=new Uint8Array(0),Oa=function(){function e(t,n){Object(h.a)(this,e),this.user=t,this.databaseId=n,this.Je=new ka,this.Ye=new $n(function(e){return jn(e)},function(e,t){return En(e,t)}),this.uid=t.uid||""}return Object(d.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.Je.add(t)});var a={collectionId:r,parent:Re(i)};return xa(e).put(a)}return ge.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[J(t),""],!1,!0);return xa(e).j(r).next(function(e){var r,i=b(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Me(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n})}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ja(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(function(e){return[e.fieldPath.canonicalString(),e.kind]})}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ea(e);return a.next(function(e){o.put($i(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ja(e),r=Ea(e),i=_a(e);return n.delete(t.indexId).next(function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_a(e),i=!0,a=new Map;return ge.forEach(this.Ze(t),function(t){return n.Xe(e,t).next(function(e){i&&(i=!!e),a.set(t,e)})}).next(function(){if(i){var e=or(),o=[];return ge.forEach(a,function(i,a){var u;S("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map(function(e){return"".concat(e.fieldPath,":").concat(e.kind)}).join(",")))," to execute ").concat(jn(t)));var s=function(e,t){var n=oe(i);if(void 0===n)return null;var r,a=b(Sn(e,n.fieldPath));try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(u){a.e(u)}finally{a.f()}return null}(a),c=function(e,t){var n,r=new Map,i=b(ue(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=b(Sn(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],a=!0,o=b(ue(i));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?Tn(e,u.fieldPath,e.startAt):Cn(e,u.fieldPath,e.startAt);r.push(s.value),a&&(a=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Zt(r,a)}(a),f=function(e,t){var n,r=[],a=!0,o=b(ue(i));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?Cn(e,u.fieldPath,e.endAt):Tn(e,u.fieldPath,e.endAt);r.push(s.value),a&&(a=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Zt(r,a)}(a),h=n.tn(i,a,l),d=n.tn(i,a,f),p=n.en(i,a,c),v=n.nn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ge.forEach(v,function(n){return r.H(n,t.limit).next(function(t){t.forEach(function(t){var n=ie.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))})})})}).next(function(){return o})}return ge.resolve(null)})}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:ha(un.create(e.filters,"and")).map(function(t){return _n(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)}),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],h=function(){var s=t?u.sn(t[d/c]):wa,h=u.rn(e,s,n[d%c],r),p=u.on(e,s,i[d%c],a),v=o.map(function(t){return u.rn(e,s,t,!0)});l.push.apply(l,Object(f.a)(u.createRange(h,p,v)))},d=0;d<s;++d)h();return l}},{key:"rn",value:function(e,t,n,r){var i=new sa(e,ie.empty(),t,n);return r?i:i.qe()}},{key:"on",value:function(e,t,n,r){var i=new sa(e,ie.empty(),t,n);return r?i.qe():i}},{key:"Xe",value:function(e,t){var n=new fa(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(function(e){var t,r=null,i=b(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Qe(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r})}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return ge.forEach(i,function(t){return n.Xe(e,t).next(function(e){e?0!==r&&e.fields.length<function(e){var t,n=new vt(re.comparator),r=!1,i=b(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=b(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=b(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0})}).next(function(){return null!==t.limit&&i.length>1&&2===r?1:r})}},{key:"un",value:function(e,t){var n,r=new ua,i=b(ue(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Le(a.kind);ta.pe.oe(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"sn",value:function(e){var t=new ua;return ta.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new ua;return ta.pe.oe(Ft(this.databaseId,t),n.Le(function(e){var t=ue(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ua);var i,a=0,o=b(ue(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=b(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.an(t,s.fieldPath)&&Vt(c))r=this.hn(r,s,c);else{var h=f.Le(s.kind);ta.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,i=Object(f.a)(e),a=[],o=b(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=b(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=new ua;h.seed(l.$e()),ta.pe.oe(s,h.Le(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"an",value:function(e,t){return!!e.filters.find(function(e){return e instanceof on&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)})}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ja(e),i=Ea(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(function(e){var t=[];return ge.forEach(e,function(e){return i.get([e.indexId,n.uid]).next(function(n){t.push(function(e,t){var n=t?new ce(t.sequenceNumber,new he(Bi(t.readTime),new ie(Me(t.documentKey)),t.largestBatchId)):ce.empty(),r=e.fields.map(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return new se(re.fromServerFormat(n),r)});return new ae(e.indexId,e.collectionGroup,r,n)}(e,n))})}).next(function(){return t})})}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next(function(e){return 0===e.length?null:(e.sort(function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup)})}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ja(e),a=Ea(e);return this.fn(e).next(function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(function(t){return ge.forEach(t,function(t){return a.put($i(t.indexId,r.user,e,n))})})})}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ge.forEach(t,function(t,i){var a=r.get(t.collectionGroup);return(a?ge.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next(function(a){return r.set(t.collectionGroup,a),ge.forEach(a,function(r){return n.dn(e,t,r).next(function(t){var a=n.wn(i,r);return t.isEqual(a)?ge.resolve():n._n(e,i,r,t,a)})})})})}},{key:"mn",value:function(e,t,n,r){return _a(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return _a(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=_a(e),i=new vt(ca);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},function(e,r){i=i.add(new sa(n.indexId,t,r.arrayValue,r.directionalValue))}).next(function(){return i})}},{key:"wn",value:function(e,t){var n=new vt(ca),r=this.un(t,e);if(null==r)return n;var i=oe(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Vt(a)){var o,u=b(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new sa(t.indexId,e.key,this.sn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new sa(t.indexId,e.key,wa,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;S("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=yt(a),s=yt(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=yt(o)):l?(i(u),u=yt(a)):(u=yt(a),s=yt(o))}}(r,i,ca,function(r){o.push(a.mn(e,t,n,r))},function(r){o.push(a.gn(e,t,n,r))}),ge.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Ea(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},function(e,n,r){r.done(),t=n.sequenceNumber+1}).next(function(){return t})}},{key:"createRange",value:function(e,t,n){n=n.sort(function(e,t){return ca(e,t)}).filter(function(e,t,n){return!t||0!==ca(e,n[t-1])});var r=[];r.push(e);var i,a=b(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ca(o,e),s=ca(o,t);if(0===u)r[0]=e.qe();else if(u>0&&s<0)r.push(o),r.push(o.qe());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,wa,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,wa,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return ca(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ia)}},{key:"getMinOffset",value:function(e,t){var n=this;return ge.mapArray(this.Ze(t),function(t){return n.Xe(e,t).next(function(e){return e||N()})}).next(Ia)}}]),e}();function xa(e){return st(e,"collectionParents")}function _a(e){return st(e,"indexEntries")}function ja(e){return st(e,"indexConfiguration")}function Ea(e){return st(e,"indexState")}function Ia(e){D(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;de(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new he(t.readTime,t.documentKey,n)}var Sa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ta=function(){function e(t,n,r){Object(h.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(d.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ca(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},function(e,t,n){return u++,n.delete()});a.push(s.next(function(){D(1===u)}));var c,l=[],f=b(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ve(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ge.waitFor(a).next(function(){return l})}function Aa(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw N();t=e.noDocument}return JSON.stringify(t).length}Ta.DEFAULT_COLLECTION_PERCENTILE=10,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ta.DEFAULT=new Ta(41943040,Ta.DEFAULT_COLLECTION_PERCENTILE,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ta.DISABLED=new Ta(-1,0,0);var Na=function(){function e(t,n,r,i){Object(h.a)(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}return Object(d.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ra(e).Z({index:"userMutationsIndex",range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=La(e),o=Ra(e);return o.add({}).next(function(u){D("number"==typeof u);var s,c=new qr(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return ji(e.se,t)}),i=n.mutations.map(function(t){return ji(e.se,t)});return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new vt(function(e,t){return $(e.canonicalString(),t.canonicalString())}),d=b(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ve(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ze))}}catch(m){d.e(m)}finally{d.f()}return h.forEach(function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.pn[u]=c.keys()}),ge.waitFor(f).next(function(){return c})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ra(e).get(t).next(function(e){return e?(D(e.userId===n.userId),qi(n.serializer,e)):null})}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?ge.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ra(e).Z({index:"userMutationsIndex",range:i},function(e,t,i){t.userId===n.userId&&(D(t.batchId>=r),a=qi(n.serializer,t)),i.done()}).next(function(){return a})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ra(e).Z({index:"userMutationsIndex",range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ra(e).j("userMutationsIndex",n).next(function(e){return e.map(function(e){return qi(t.serializer,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ue(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return La(e).Z({range:i},function(r,i,u){var s=Object(a.a)(r,3),c=s[0],l=s[1],f=s[2],h=Me(l);if(c===n.userId&&t.path.isEqual(h))return Ra(e).get(f).next(function(e){if(!e)throw N();D(e.userId===n.userId),o.push(qi(n.serializer,e))});u.done()}).next(function(){return o})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vt($),i=[];return t.forEach(function(t){var o=Ue(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=La(e).Z({range:u},function(e,i,o){var u=Object(a.a)(e,3),s=u[0],c=u[1],l=u[2],f=Me(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()});i.push(s)}),ge.waitFor(i).next(function(){return n.Tn(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Ue(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new vt($);return La(e).Z({range:u},function(e,t,o){var u=Object(a.a)(e,3),c=u[0],l=u[1],f=u[2],h=Me(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()}).next(function(){return n.Tn(e,s)})}},{key:"Tn",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Ra(e).get(t).next(function(e){if(null===e)throw N();D(e.userId===n.userId),r.push(qi(n.serializer,e))}))}),ge.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ca(e.at,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.En(t.batchId)}),ge.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return ge.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return La(e).Z({range:r},function(e,n,r){if(e[0]===t.userId){var a=Me(e[1]);i.push(a)}else r.done()}).next(function(){D(0===i.length)})})}},{key:"containsKey",value:function(e,t){return Da(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return Pa(e).get(this.userId).next(function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}],[{key:"ie",value:function(t,n,r,i){return D(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Da(e,t,n){var r=Ue(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return La(e).Z({range:o,Y:!0},function(e,n,r){var o=Object(a.a)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()}).next(function(){return u})}function Ra(e){return st(e,"mutations")}function La(e){return st(e,"documentMutations")}function Pa(e){return st(e,"mutationQueues")}var Ma=function(){function e(t){Object(h.a)(this,e),this.Rn=t}return Object(d.a)(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),Fa=function(){function e(t,n){Object(h.a)(this,e),this.referenceDelegate=t,this.serializer=n}return Object(d.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next(function(n){var r=new Ma(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next(function(e){return Z.fromTimestamp(new X(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Vn(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next(function(){return n.Pn(e).next(function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Ua(e).delete(t.targetId)}).next(function(){return n.Pn(e)}).next(function(t){return D(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ua(e).Z(function(o,u){var s=Gi(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))}).next(function(){return ge.waitFor(a)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return Ua(e).Z(function(e,n){var r=Gi(n);t(r)})}},{key:"Pn",value:function(e){return Va(e).get("targetGlobalKey").next(function(e){return D(null!==e),e})}},{key:"Vn",value:function(e,t){return Va(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return Ua(e).put(Ki(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=jn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ua(e).Z({range:r,index:"queryTargetsIndex"},function(e,n,r){var a=Gi(n);En(t,a.target)&&(i=a,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=za(e);return t.forEach(function(t){var o=Re(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))}),ge.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=za(e);return ge.forEach(t,function(t){var a=Re(t.path);return ge.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=za(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=za(e),i=or();return r.Z({range:n,Y:!0},function(e,t,n){var r=Me(e[1]),a=new ie(r);i=i.add(a)}).next(function(){return i})}},{key:"containsKey",value:function(e,t){var n=Re(t.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return za(e).Z({index:"documentTargetsIndex",Y:!0,range:r},function(e,t,n){var r=Object(a.a)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())}).next(function(){return i>0})}},{key:"ne",value:function(e,t){return Ua(e).get(t).next(function(e){return e?Gi(e):null})}}]),e}();function Ua(e){return st(e,"targets")}function Va(e){return st(e,"targetGlobal")}function za(e){return st(e,"targetDocuments")}function Ba(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1],o=Object(a.a)(t,2),u=o[0],s=o[1],c=$(r,u);return 0===c?$(i,s):c}var qa=function(){function e(t){Object(h.a)(this,e),this.Cn=t,this.buffer=new vt(Ba),this.xn=0}return Object(d.a)(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ba(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ga=function(){function e(t,n,r){Object(h.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Object(d.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"$n",value:function(e){var t=this;S("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!xe(e.t0)){e.next=12;break}S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,me(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}},e,null,[[1,6]])})))}},{key:"started",get:function(){return null!==this.On}}]),e}(),Ka=function(){function e(t,n){Object(h.a)(this,e),this.Mn=t,this.params=n}return Object(d.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ge.resolve(Ce.ct);var r=new qa(t);return this.Mn.forEachTarget(e,function(e){return r.kn(e.sequenceNumber)}).next(function(){return n.Mn.Bn(e,function(e){return r.kn(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Sa)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Sa):n.Ln(e,t)})}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return s=Date.now(),E()<=m.a.DEBUG&&S("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),Wa=function(){function e(t,n){Object(h.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ka(e,t)}(this,n)}return Object(d.a)(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"qn",value:function(e){var t=0;return this.Bn(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return Ha(e,n)}},{key:"removeReference",value:function(e,t,n){return Ha(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ha(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return Pa(e).X(function(r){return Da(e,r,t).next(function(e){return e&&(n=!0),ge.resolve(!e)})}).next(function(){return n})}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Un(e,function(o,u){if(u<=t){var s=n.Kn(e,o).next(function(t){if(!t)return a++,r.getEntry(e,o).next(function(){return r.removeEntry(o,Z.min()),za(e).delete([0,Re(o.path)])})});i.push(s)}}).next(function(){return ge.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return a})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ha(e,t)}},{key:"Un",value:function(e,t){var n,r=za(e),i=Ce.ct;return r.Z({index:"documentTargetsIndex"},function(e,r){var o=Object(a.a)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Ce.ct&&t(new ie(Me(n)),i),i=c,n=s):i=Ce.ct}).next(function(){i!==Ce.ct&&t(new ie(Me(n)),i)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ha(e,t){return za(e).put(function(e,t){return{targetId:0,path:Re(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Qa=function(){function e(){Object(h.a)(this,e),this.changes=new $n(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(d.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ge.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),$a=function(){function e(t){Object(h.a)(this,e),this.serializer=t}return Object(d.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Za(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Za(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Vi(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Gn(e,r)})}},{key:"getEntry",value:function(e,t){var n=this,r=Xt.newInvalidDocument(t);return Za(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eo(t))},function(e,i){r=n.Qn(t,i)}).next(function(){return r})}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:Xt.newInvalidDocument(t)};return Za(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eo(t))},function(e,i){r={document:n.Qn(t,i),size:Aa(i)}}).next(function(){return r})}},{key:"getEntries",value:function(e,t){var n=this,r=Jn();return this.jn(e,t,function(e,t){var i=n.Qn(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"Wn",value:function(e,t){var n=this,r=Jn(),i=new ht(ie.comparator);return this.jn(e,t,function(e,t){var a=n.Qn(e,t);r=r.insert(e,a),i=i.insert(e,Aa(t))}).next(function(){return{documents:r,Hn:i}})}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return ge.resolve();var r=new vt(no);t.forEach(function(e){return r=r.add(e)});var i=IDBKeyRange.bound(eo(r.first()),eo(r.last())),a=r.getIterator(),o=a.getNext();return Za(e).Z({index:"documentKeyIndex",range:i},function(e,t,r){for(var i=ie.fromSegments([].concat(Object(f.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&no(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(eo(o)):r.done()}).next(function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Vi(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Za(e).j(IDBKeyRange.bound(o,u,!0)).next(function(e){var n,a=Jn(),o=b(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Qn(ie.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Kn(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a})}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Jn(),o=to(t,n),u=to(t,he.max());return Za(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},function(e,t,n){var o=i.Qn(ie.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()}).next(function(){return a})}},{key:"newChangeBuffer",value:function(e){return new Ja(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Xa(e).get("remoteDocumentGlobalKey").next(function(e){return D(!!e),e})}},{key:"Gn",value:function(e,t){return Xa(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=xi(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ie.fromSegments(t.noDocument.path),i=Bi(t.noDocument.readTime);n=Xt.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return N();var a=ie.fromSegments(t.unknownDocument.path),o=Bi(t.unknownDocument.version);n=Xt.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new X(e[0],e[1]);return Z.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Z.min()))return n}return Xt.newInvalidDocument(e)}}]),e}();function Ya(e){return new $a(e)}var Ja=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).Jn=e,r.trackRemovals=n,r.Yn=new $n(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new vt(function(e,t){return $(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,o){var u=t.Yn.get(a);if(n.push(t.Jn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ui(t.Jn.serializer,o);i=i.add(a.path.popLast());var c=Aa(s);r+=c-u.size,n.push(t.Jn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ui(t.Jn.serializer,o.convertToNoDocument(Z.min()));n.push(t.Jn.addEntry(e,a,l))}}),i.forEach(function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))}),n.push(this.Jn.updateMetadata(e,r)),ge.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next(function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next(function(e){var t=e.documents;return e.Hn.forEach(function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})}),t})}}]),t}(Qa);function Xa(e){return st(e,"remoteDocumentGlobal")}function Za(e){return st(e,"remoteDocumentsV14")}function eo(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function to(e,t){var n=t.documentKey.path.toArray();return[e,Vi(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function no(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$(n[a],r[a]))return i;return(i=$(n.length,r.length))||((i=$(n[n.length-2],r[r.length-2]))||$(n[n.length-1],r[r.length-1]))}var ro=function e(t,n){Object(h.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},io=function(){function e(t,n,r,i){Object(h.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(d.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next(function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)}).next(function(e){return null!==r&&Ar(r.mutation,e,gt.empty(),X.now()),e})}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t,or()).next(function(){return t})})}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or(),i=tr();return this.populateOverlays(e,i,t).next(function(){return n.computeViews(e,t,i,r).next(function(e){var t=Zn();return e.forEach(function(e,n){t=t.insert(e,n.overlayedDocument)}),t})})}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=tr();return this.populateOverlays(e,r,t).next(function(){return n.computeViews(e,t,r,or())})}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach(function(e){t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(function(e){e.forEach(function(e,n){t.set(e,n)})})}},{key:"computeViews",value:function(e,t,n,r){var i=Jn(),a=rr(),o=rr();return t.forEach(function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Lr)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ar(o.mutation,t,o.mutation.getFieldMask(),X.now())):a.set(t.key,gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(function(e){return e.forEach(function(e,t){return a.set(e,t)}),t.forEach(function(e,t){var n;return o.set(e,new ro(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o})}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=rr(),i=new ht(function(e,t){return e-t}),a=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){var n,a=b(e);try{var o=function(){var e=n.value;e.keys().forEach(function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||gt.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||or()).add(n);i=i.insert(e.batchId,u)}})};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}).next(function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=nr();c.forEach(function(e){if(!a.has(e)){var n=Tr(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}}),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ge.waitFor(o)}).next(function(){return r})}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.recalculateAndSaveOverlays(e,t)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ie.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ge.resolve(tr()),u=-1,s=a;return o.next(function(t){return ge.forEach(t,function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ge.resolve():i.remoteDocumentCache.getEntry(e,t).next(function(e){s=s.insert(t,e)})}).next(function(){return i.populateOverlays(e,t,a)}).next(function(){return i.computeViews(e,s,t,or())}).next(function(e){return{batchId:u,changes:er(e)}})})})}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ie(t)).next(function(e){var t=Zn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Zn();return this.indexManager.getCollectionParents(e,i).next(function(o){return ge.forEach(o,function(o){var u=function(e,t){return new An(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)}).next(function(e){r.forEach(function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Xt.newInvalidDocument(r)))});var n=Zn();return e.forEach(function(e,i){var a=r.get(e);void 0!==a&&Ar(a.mutation,i,gt.empty(),X.now()),Kn(t,i)&&(n=n.insert(e,i))}),n})}}]),e}(),ao=function(){function e(t){Object(h.a)(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return Object(d.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ge.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:di(n.createTime)}),ge.resolve()}},{key:"getNamedQuery",value:function(e,t){return ge.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Wi(e.bundledQuery),readTime:di(e.readTime)}}(t)),ge.resolve()}}]),e}(),oo=function(){function e(){Object(h.a)(this,e),this.overlays=new ht(ie.comparator),this.ts=new Map}return Object(d.a)(e,[{key:"getOverlay",value:function(e,t){return ge.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=tr();return ge.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,i){r.re(e,t,i)}),ge.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.ts.delete(n)),ge.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=tr(),i=t.length+1,a=new ie(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ge.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ht(function(e,t){return e-t}),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=tr(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=tr(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach(function(e,t){return s.set(e,t)}),!(s.size()>=r)););return ge.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Kr(t,n));var a=this.ts.get(t);void 0===a&&(a=or(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),uo=function(){function e(){Object(h.a)(this,e),this.es=new vt(so.ns),this.ss=new vt(so.rs)}return Object(d.a)(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new so(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.us(new so(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"hs",value:function(e){var t=this,n=new ie(new te([])),r=new so(n,e),i=new so(n,e+1),a=[];return this.ss.forEachInRange([r,i],function(e){t.us(e),a.push(e.key)}),a}},{key:"ls",value:function(){var e=this;this.es.forEach(function(t){return e.us(t)})}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new ie(new te([])),n=new so(t,e),r=new so(t,e+1),i=or();return this.ss.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new so(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),so=function(){function e(t,n){Object(h.a)(this,e),this.key=t,this.ds=n}return Object(d.a)(e,null,[{key:"ns",value:function(e,t){return ie.comparator(e.key,t.key)||$(e.ds,t.ds)}},{key:"rs",value:function(e,t){return $(e.ds,t.ds)||ie.comparator(e.key,t.key)}}]),e}(),co=function(){function e(t,n){Object(h.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new vt(so.ns)}return Object(d.a)(e,[{key:"checkEmpty",value:function(e){return ge.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new qr(i,t,n,r);this.mutationQueue.push(a);var o,u=b(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new so(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ge.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ge.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return ge.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ge.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new so(t,0),i=new so(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],function(e){var t=n.gs(e.ds);a.push(t)}),ge.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vt($);return t.forEach(function(e){var t=new so(e,0),i=new so(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],function(e){r=r.add(e.ds)})}),ge.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ie.isDocumentKey(i)||(i=i.child(""));var a=new so(new ie(i),0),o=new vt($);return this._s.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)},a),ge.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.gs(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;D(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return ge.forEach(t.mutations,function(i){var a=new so(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n._s=r})}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new so(t,0),r=this._s.firstAfterOrEqual(n);return ge.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ge.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lo=function(){function e(t){Object(h.a)(this,e),this.Ts=t,this.docs=new ht(ie.comparator),this.size=0}return Object(d.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ge.resolve(n?n.document.mutableCopy():Xt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Jn();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xt.newInvalidDocument(e))}),ge.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Jn(),a=t.path,o=new ie(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||de(fe(l),n)<=0||(r.has(l.key)||Kn(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ge.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){N()}},{key:"Es",value:function(e,t){return ge.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new fo(this)}},{key:"getSize",value:function(e){return ge.resolve(this.size)}}]),e}(),fo=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).Jn=e,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)}),ge.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),t}(Qa),ho=function(){function e(t){Object(h.a)(this,e),this.persistence=t,this.As=new $n(function(e){return jn(e)},En),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Rs=0,this.vs=new uo,this.targetCount=0,this.bs=Ma.vn()}return Object(d.a)(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach(function(e,n){return t(n)}),ge.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ge.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ge.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),ge.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),ge.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Ma(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,ge.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),ge.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ge.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach(function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ge.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return ge.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return ge.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),ge.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),ge.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),ge.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return ge.resolve(n)}},{key:"containsKey",value:function(e,t){return ge.resolve(this.vs.containsKey(t))}}]),e}(),po=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.Ps={},this.overlays={},this.Vs=new Ce(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new ho(this),this.indexManager=new ba,this.remoteDocumentCache=new lo(function(e){return r.referenceDelegate.Cs(e)}),this.serializer=new Fi(n),this.xs=new ao(this.serializer)}return Object(d.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new oo,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new co(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;S("MemoryPersistence","Starting transaction:",e);var i=new vo(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next(function(e){return r.referenceDelegate.ks(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Os",value:function(e,t){return ge.or(Object.values(this.Ps).map(function(n){return function(){return n.containsKey(e,t)}}))}},{key:"started",get:function(){return this.Ss}}]),e}(),vo=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).currentSequenceNumber=e,n}return Object(l.a)(t,e),t}(ve),mo=function(){function e(t){Object(h.a)(this,e),this.persistence=t,this.$s=new uo,this.Ms=null}return Object(d.a)(e,[{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),ge.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),ge.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),ge.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach(function(e){return n.Bs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.Bs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Bs,function(r){var i=ie.fromPath(r);return t.Ls(e,i).next(function(e){e||n.removeEntry(i,Z.min())})}).next(function(){return t.Ms=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next(function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())})}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return ge.or([function(){return ge.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}},{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw N()}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),yo=function(){function e(t){Object(h.a)(this,e),this.serializer=t}return Object(d.a)(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new be("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fe,{unique:!0}),e.createObjectStore("documentMutations")}(e),go(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ge.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),go(e)),o=o.next(function(){return function(e){var t=a.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}()})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store("mutations").j().next(function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fe,{unique:!0});var r=t.store("mutations"),i=n.map(function(e){return r.put(e)});return ge.waitFor(i)})}(e,a)})),o=o.next(function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.qs(a)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Us(a)})),n<7&&r>=7&&(o=o.next(function(){return i.Ks(a)})),n<8&&r>=8&&(o=o.next(function(){return i.Gs(e,a)})),n<9&&r>=9&&(o=o.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Qs(a)})),n<11&&r>=11&&(o=o.next(function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ze});t.createIndex("collectionPathOverlayIndex",et,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tt,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Be});t.createIndex("documentKeyIndex",qe),t.createIndex("collectionGroupIndex",Ge)}(e)}).next(function(){return i.zs(e,a)}).next(function(){return e.deleteObjectStore("remoteDocuments")})),n<14&&r>=14&&(o=o.next(function(){return i.js(e,a)})),n<15&&r>=15&&(o=o.next(function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:$e}).createIndex("sequenceNumberIndex",Ye,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Je}).createIndex("documentKeyIndex",Xe,{unique:!1})}(e)})),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z(function(e,n){t+=Aa(n)}).next(function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(function(n){return ge.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next(function(r){return ge.forEach(r,function(r){D(r.userId===n.userId);var i=qi(t.serializer,r);return Ca(e,n.userId,i).next(function(){})})})})})}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(function(e){var r=[];return n.Z(function(n,i){var a=new te(n),o=[0,Re(a)];r.push(t.get(o).next(function(n){return n?ge.resolve():function(n){return t.put({targetId:0,path:Re(n),sequenceNumber:e.highestListenSequenceNumber})}(a)}))}).next(function(){return ge.waitFor(r)})})}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qe});var n=t.store("collectionParents"),r=new ka,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Re(i)})}};return t.store("remoteDocuments").Z({Y:!0},function(e,t){var n=new te(e);return i(n.popLast())}).next(function(){return t.store("documentMutations").Z({Y:!0},function(e,t){var n=Object(a.a)(e,3),r=(n[0],n[1]),o=(n[2],Me(r));return i(o.popLast())})})}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z(function(e,r){var i=Gi(r),a=Ki(t.serializer,i);return n.put(a)})}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z(function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ie(te.fromString(i.document.name).popFirst(5)):i.noDocument?ie.fromSegments(i.noDocument.path):i.unknownDocument?ie.fromSegments(i.unknownDocument.path):N()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))}).next(function(){return ge.waitFor(r)})}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),i=Ya(this.serializer),a=new po(mo.Fs,this.serializer.se);return r.j().next(function(e){var r=new Map;return e.forEach(function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:or();qi(n.serializer,e).keys().forEach(function(e){return i=i.add(e)}),r.set(e.userId,i)}),ge.forEach(r,function(e,r){var o=new x(r),u=Zi.ie(n.serializer,o),s=a.getIndexManager(o),c=Na.ie(o,n.serializer,s,a.referenceDelegate);return new io(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ut(t,Ce.ct),e).next()})})}}]),e}();function go(e){e.createObjectStore("targetDocuments",{keyPath:We}).createIndex("documentTargetsIndex",He,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ke,{unique:!0}),e.createObjectStore("targetGlobal")}var bo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ko=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Object(h.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=a,this.window=o,this.document=u,this.Hs=c,this.Js=l,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new M(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wa(this,i),this.si=n+"main",this.serializer=new Fi(s),this.ii=new ke(this.si,this.Ys,new yo(this.serializer)),this.Ds=new Fa(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ya(this.serializer),this.xs=new Yi,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===l&&T("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(d.a)(e,[{key:"start",value:function(){var e=this;return this.oi().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new M(P.FAILED_PRECONDITION,bo);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Ds.getHighestSequenceNumber(t)})}).then(function(t){e.Vs=new Ce(t,e.Hs)}).then(function(){e.Ss=!0}).catch(function(t){return e.ii&&e.ii.close(),Promise.reject(t)})}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=Object(u.a)(w().mark(function n(r){return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=Object(u.a)(w().mark(function t(n){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}},e)}))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Oo(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next(function(){if(e.isPrimary)return e.li(t).next(function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable(function(){return e.ni(!1)}))})}).next(function(){return e.fi(t)}).next(function(n){return e.isPrimary&&!n?e.di(t).next(function(){return!1}):!!n&&e.wi(t).next(function(){return!0})})}).catch(function(t){if(xe(t))return S("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable(function(){return e.ni(t)}),e.isPrimary=t})}},{key:"li",value:function(e){var t=this;return wo(e).get("owner").next(function(e){return ge.resolve(t._i(e))})}},{key:"mi",value:function(e){return Oo(e).delete(this.clientId)}},{key:"gi",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n,r,i,a=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=st(e,"clientMetadata");return t.j().next(function(e){var n=a.pi(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return ge.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]});case 4:if(t=e.sent,this.ri){n=b(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ri.removeItem(this.Ii(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.oi().then(function(){return e.gi()}).then(function(){return e.ai()})})}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?ge.resolve(!0):wo(e).get("owner").next(function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new M(P.FAILED_PRECONDITION,bo);return!1}}return!(!t.networkEnabled||!t.inForeground)||Oo(e).j().next(function(e){return void 0===t.pi(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&S("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=Object(u.a)(w().mark(function e(){var t=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],function(e){var n=new ut(e,Ce.ct);return t.di(n).next(function(){return t.mi(n)})});case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter(function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)})}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Oo(t).j().next(function(t){return e.pi(t,18e5).map(function(e){return e.clientId})})})}},{key:"getMutationQueue",value:function(e,t){return Na.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Oa(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Zi.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;S("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Ys)?ot:14===i?at:13===i?it:12===i?rt:11===i?nt:void N();return this.ii.runTransaction(e,o,u,function(i){return a=new ut(i,r.Vs?r.Vs.next():Ce.ct),"readwrite-primary"===t?r.li(a).next(function(e){return!!e||r.fi(a)}).next(function(t){if(!t)throw T("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable(function(){return r.ni(!1)}),new M(P.FAILED_PRECONDITION,pe);return n(a)}).next(function(e){return r.wi(a).next(function(){return e})}):r.Pi(a).next(function(){return n(a)})}).then(function(e){return a.raiseOnCommittedEvent(),e})}},{key:"Pi",value:function(e){var t=this;return wo(e).get("owner").next(function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new M(P.FAILED_PRECONDITION,bo)})}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wo(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=wo(e);return n.get("owner").next(function(e){return t._i(e)?(S("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ge.resolve()})}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(T("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()})},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;Object(y.z)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return S("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return T("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){T("Failed to set zombie client id.",e)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(e){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}},{key:"started",get:function(){return this.Ss}}],[{key:"D",value:function(){return ke.D()}}]),e}();function wo(e){return st(e,"owner")}function Oo(e){return st(e,"clientMetadata")}function xo(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _o=function(){function e(t,n,r,i){Object(h.a)(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return Object(d.a)(e,null,[{key:"Di",value:function(t,n){var r,i=or(),a=or(),o=b(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),jo=function(){function e(){Object(h.a)(this,e),this.Ci=!1}return Object(d.a)(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next(function(a){return a||i.ki(e,t,r,n)}).next(function(n){return n||i.Oi(e,t)})}},{key:"Ni",value:function(e,t){var n=this;if(Rn(t))return ge.resolve(null);var r=Un(t);return this.indexManager.getIndexType(e,r).next(function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=zn(t,null,"F"),r=Un(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next(function(i){var a=or.apply(void 0,Object(f.a)(i));return n.xi.getDocuments(e,a).next(function(i){return n.indexManager.getMinOffset(e,r).next(function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,zn(t,null,"F")):n.Fi(e,o,t,r)})})}))})}},{key:"ki",value:function(e,t,n,r){var i=this;return Rn(t)||r.isEqual(Z.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next(function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(E()<=m.a.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),i.Fi(e,o,t,le(r,-1)))})}},{key:"$i",value:function(e,t){var n=new vt(Hn(e));return t.forEach(function(t,r){Kn(e,r)&&(n=n.add(r))}),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return E()<=m.a.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.xi.getDocumentsMatchingQuery(e,t,he.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}]),e}(),Eo=function(){function e(t,n,r,i){Object(h.a)(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new ht($),this.qi=new $n(function(e){return jn(e)},En),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return Object(d.a)(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new io(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Li)})}}]),e}();function Io(e,t,n,r){return new Eo(e,t,n,r)}function So(e,t){return To.apply(this,arguments)}function To(){return(To=Object(u.a)(w().mark(function e(t,n){var r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next(function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)}).next(function(n){var i,a=[],o=[],u=or(),s=b(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=b(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=b(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=b(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next(function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Co(e,t){var n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ge.resolve();return a.forEach(function(e){o=o.next(function(){return r.getEntry(t,e)}).next(function(t){var a=n.docVersions.get(e);D(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(function(){return e.mutationQueue.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=or(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(function(){return n.localDocuments.getDocuments(e,r)})})}function Ao(e){var t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Ds.getLastRemoteSnapshotVersion(e)})}function No(e,t){var n=L(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach(function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next(function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)}));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(wt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ds.updateTargetData(e,c))}});var u=Jn(),s=or();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Do(e,a,t.documentUpdates).next(function(e){u=e.zi,s=e.ji})),!r.isEqual(Z.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next(function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(c)}return ge.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)}).next(function(){return u})}).then(function(e){return n.Li=i,e})}function Do(e,t,n){var r=or(),i=or();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=Jn();return n.forEach(function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Z.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):S("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{zi:r,ji:i}})}function Ro(e,t){var n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function Lo(e,t){var n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Ds.getTargetData(e,t).next(function(i){return i?(r=i,ge.resolve(r)):n.Ds.allocateTargetId(e).next(function(i){return r=new Mi(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e})}function Po(e,t,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=Object(u.a)(w().mark(function e(t,n,r){var i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=L(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),xe(e.t1)){e.next=12;break}throw e.t1;case 12:S("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function Fo(e,t,n){var r=L(e),i=Z.min(),a=or();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=L(e),i=r.qi.get(n);return void 0!==i?ge.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Un(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Z.min(),n?a:or())}).next(function(e){return zo(r,Wn(t),e),{documents:e,Wi:a}})})}function Uo(e,t){var n=L(e),r=L(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.ne(e,t).next(function(e){return e?e.target:null})})}function Vo(e,t){var n=L(e),r=n.Ui.get(t)||Z.min();return n.persistence.runTransaction("Get new document changes","readonly",function(e){return n.Ki.getAllFromCollectionGroup(e,t,le(r,-1),Number.MAX_SAFE_INTEGER)}).then(function(e){return zo(n,t,e),e})}function zo(e,t,n){var r=e.Ui.get(t)||Z.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ui.set(t,r)}function Bo(e,t,n,r){return qo.apply(this,arguments)}function qo(){return(qo=Object(u.a)(w().mark(function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=L(t),o=or(),u=Jn(),s=b(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,Lo(a,function(e){return Un(Dn(te.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Do(e,d,u).next(function(t){return d.apply(e),t}).next(function(t){return a.Ds.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return a.Ds.addMatchingKeys(e,o,p.targetId)}).next(function(){return a.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)}).next(function(){return t.zi})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Go(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(u.a)(w().mark(function e(t,n){var r,i,a,o=arguments;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:or(),e.next=3,Lo(t,Un(Wi(n.bundledQuery)));case 3:return i=e.sent,a=L(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(e){var t=di(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.xs.saveNamedQuery(e,n);var o=i.withResumeToken(wt.EMPTY_BYTE_STRING,t);return a.Li=a.Li.insert(o.targetId,o),a.Ds.updateTargetData(e,o).next(function(){return a.Ds.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return a.Ds.addMatchingKeys(e,r,i.targetId)}).next(function(){return a.xs.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wo(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ho(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Qo(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var $o=function(){function e(t,n,r,i){Object(h.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(d.a)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new M(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(T("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Yo=function(){function e(t,n,r){Object(h.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(d.a)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new M(i.error.code,i.error.message))),a?new e(t,i.state,r):(T("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Jo=function(){function e(t,n){Object(h.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(d.a)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=sr(),o=0;i&&o<r.activeTargetIds.length;++o)i=De(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(T("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Xo=function(){function e(t,n){Object(h.a)(this,e),this.clientId=t,this.onlineState=n}return Object(d.a)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(T("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Zo=function(){function e(){Object(h.a)(this,e),this.activeTargetIds=sr()}return Object(d.a)(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),eu=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ht($),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=Wo(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Zo),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return Object(d.a)(e,[{key:"start",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=b(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Wo(this.persistenceKey,i)))&&(o=Jo.Zi(i,a))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(u=this.storage.getItem(this.wr))&&(s=this.gr(u))&&this.yr(s),c=b(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0;case 28:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Qo(this.persistenceKey,e));if(n){var r=Yo.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Qo(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.Tr(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return S("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){S("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(S("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void T("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(Object(u.a)(w().mark(function e(){var r,i,a,o,u,s,c;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(a));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}(s=function(e){var t=Ce.ct;if(null!=e)try{var n=JSON.parse(e);D("number"==typeof n),t=n}catch(e){T("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ce.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map(function(e){return t.syncEngine.Or(e)}));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}},e)})))}}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new $o(this.currentUser,e,t,n),i=Ho(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Tr",value:function(e){var t=Ho(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=Qo(this.persistenceKey,e),i=new Yo(e,t,n);this.setItem(r,i.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return Jo.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return $o.Zi(new x(i),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return Yo.Zi(r,t)}},{key:"gr",value:function(e){return Xo.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:S("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),a=this.pr(r),o=[],u=[];return a.forEach(function(e){i.has(e)||o.push(e)}),i.forEach(function(e){a.has(e)||u.push(e)}),this.syncEngine.Fr(o,u).then(function(){n.rr=r})}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=sr();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}},{key:"Er",get:function(){return this.rr.get(this.nr)}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),tu=function(){function e(){Object(h.a)(this,e),this.Br=new Zo,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(d.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new Zo,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),nu=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ru=function(){function e(){var t=this;Object(h.a)(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return Object(d.a)(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=b(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=b(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),iu=null;function au(){return null===iu?iu=268435456+Math.round(2147483648*Math.random()):iu++,"0x"+iu.toString(16)}var ou={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},uu=function(){function e(t){Object(h.a)(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return Object(d.a)(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),su="WebChannelConnection",cu=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"lo",value:function(e,t,n,r){var i=au();return new Promise(function(a,o){var u=new g.g;u.setWithCredentials(!0),u.listenOnce(g.c.COMPLETE,function(){try{switch(u.getLastErrorCode()){case g.a.NO_ERROR:var t=u.getResponseJson();S(su,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case g.a.TIMEOUT:S(su,"RPC '".concat(e,"' ").concat(i," timed out")),o(new M(P.DEADLINE_EXCEEDED,"Request time out"));break;case g.a.HTTP_ERROR:var n=u.getStatus();if(S(su,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=s.status.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(t)>=0?t:P.UNKNOWN}();o(new M(c,s.message))}else o(new M(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new M(P.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{S(su,"RPC '".concat(e,"' ").concat(i," completed."))}});var s=JSON.stringify(r);S(su,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)})}},{key:"wo",value:function(e,t,n){var r=au(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Object(g.h)(),o=Object(g.i)(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new g.d({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");S(su,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new uu({Wr:function(t){f?S(su,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(S(su,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),S(su,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return d(c,g.f.EventType.OPEN,function(){f||S(su,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),d(c,g.f.EventType.CLOSE,function(){f||(f=!0,S(su,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())}),d(c,g.f.EventType.ERROR,function(t){f||(f=!0,C(su,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new M(P.UNAVAILABLE,"The operation could not be completed")))}),d(c,g.f.EventType.MESSAGE,function(t){var n;if(!f){var i=t.data[0];D(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){S(su,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Ur[u];if(void 0!==t)return Qr(t)}(),l=o.message;void 0===s&&(s=P.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new M(s,l)),c.close()}else S(su,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}}),d(o,g.b.STAT_EVENT,function(t){t.stat===g.e.PROXY?S(su,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.e.NOPROXY&&S(su,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(function(){h.no()},0),h}}]),t}(function(){function e(t){Object(h.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(d.a)(e,[{key:"co",value:function(e,t,n,r,i){var a=au(),o=this.ao(e,t);S("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then(function(t){return S("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t},function(t){throw C("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"ao",value:function(e,t){var n=ou[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}},{key:"uo",get:function(){return!1}}]),e}());function lu(){return"undefined"!=typeof window?window:null}function fu(){return"undefined"!=typeof document?document:null}function hu(e){return new ci(e,!0)}var du=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(h.a)(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Object(d.a)(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,function(){return t.To=Date.now(),e()}),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),pu=function(){function e(t,n,r,i,a,o,u,s){Object(h.a)(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new du(t,n)}return Object(d.a)(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,function(){return e.Mo()}))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Object(u.a)(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(T(n.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===P.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(a.a)(t,2),i=r[0],o=r[1];e.Vo===n&&e.Ko(i,o)},function(n){t(function(){var t=new M(P.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)})})}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(function(){r(function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,function(){return n.No()&&(n.state=3),Promise.resolve()}),n.listener.Jr()})}),this.stream.Zr(function(e){r(function(){return n.Go(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Object(u.a)(w().mark(function t(){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"Go",value:function(e){return S("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget(function(){return t.Vo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),vu=function(e){function t(e,n,r,i,a,o){var u;return Object(h.a)(this,t),(u=Object(s.a)(this,Object(c.a)(t).call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o))).serializer=a,u}return Object(l.a)(t,e),Object(d.a)(t,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t),wt.fromBase64String(t||"")):(D(void 0===t||t instanceof Uint8Array),wt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?P.UNKNOWN:Qr(e.code);return new M(t,e.message||"")}(o);n=new ti(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=yi(e,s.document.name),l=di(s.document.updateTime),f=s.document.createTime?di(s.document.createTime):Z.min(),h=new Yt({mapValue:{fields:s.document.fields}}),d=Xt.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Zr(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=yi(e,m.document),g=m.readTime?di(m.readTime):Z.min(),b=Xt.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Zr([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var O=yi(e,w.document),x=w.removedTargetIds||[];n=new Zr([],x,O,null)}else{if(!("filter"in t))return N();t.filter;var _=t.filter;_.targetId;var j=_.count||0,E=new Wr(j),I=_.targetId;n=new ei(I,E)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Z.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Z.min():t.readTime?di(t.readTime):Z.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=ki(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=In(r)?{documents:Ii(e,r)}:{query:Si(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fi(e,t.resumeToken):t.snapshotVersion.compareTo(Z.min())>0&&(n.readTime=li(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return N()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=ki(this.serializer),t.removeTarget=e,this.Fo(t)}}]),t}(pu),mu=function(e){function t(e,n,r,i,a,o){var u;return Object(h.a)(this,t),(u=Object(s.a)(this,Object(c.a)(t).call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o))).serializer=a,u.Ho=!1,u}return Object(l.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,Object(i.a)(Object(c.a)(t.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(D(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(D(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?di(e.updateTime):di(t);return n.isEqual(Z.min())&&(n=di(t)),new jr(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.Zo(n,t)}return D(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=ki(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return ji(t.serializer,e)})};this.Fo(n)}},{key:"Jo",get:function(){return this.Ho}}]),t}(pu),yu=function(e){function t(e,n,r,i){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).authCredentials=e,a.appCheckCredentials=n,a.connection=r,a.serializer=i,a.eu=!1,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"nu",value:function(){if(this.eu)throw new M(P.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];return r.connection.co(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new M(P.UNKNOWN,e.toString())})}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(o){var u=Object(a.a)(o,2),s=u[0],c=u[1];return i.connection.fo(e,t,n,s,c,r)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new M(P.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.eu=!0}}]),t}(function(){return function e(){Object(h.a)(this,e)}}());var gu=function(){function e(t,n){Object(h.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return Object(d.a)(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()}))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(T(t),this.ru=!1):S("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),bu=function e(t,n,r,i,a){var o=this;Object(h.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(function(e){r.enqueueAndForget(Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Cu(o),!e.t0){e.next=5;break}return S("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(u.a)(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=L(t)).du.add(4),e.next=4,Ou(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,ku(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}},e)})))}),this.mu=new gu(r,i)};function ku(e){return wu.apply(this,arguments)}function wu(){return(wu=Object(u.a)(w().mark(function e(t){var n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Cu(t)){e.next=18;break}n=b(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Ou(e){return xu.apply(this,arguments)}function xu(){return(xu=Object(u.a)(w().mark(function e(t){var n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=b(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function _u(e,t){var n=L(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Tu(n)?Su(n):as(n).No()&&Eu(n,t))}function ju(e,t){var n=L(e),r=as(n);n.fu.delete(t),r.No()&&Iu(n,t),0===n.fu.size&&(r.No()?r.$o():Cu(n)&&n.mu.set("Unknown"))}function Eu(e,t){e.gu.Ot(t.targetId),as(e).jo(t)}function Iu(e,t){e.gu.Ot(t),as(e).Wo(t)}function Su(e){e.gu=new ri({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),as(e).start(),e.mu.ou()}function Tu(e){return Cu(e)&&!as(e).xo()&&e.fu.size>0}function Cu(e){return 0===L(e).du.size}function Au(e){e.gu=void 0}function Nu(e){return Du.apply(this,arguments)}function Du(){return(Du=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach(function(e,n){Eu(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ru(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=Object(u.a)(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Au(t),Tu(t)?(t.mu.au(n),Su(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return(Mu=Object(u.a)(w().mark(function e(t,n,r){var i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof ti&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(u.a)(w().mark(function e(t,n){var r,i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=b(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),S("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Fu(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Zr?t.gu.Kt(n):n instanceof ei?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Z.min())){e.next=29;break}return e.prev=14,e.next=17,Ao(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(wt.EMPTY_BYTE_STRING,n.snapshotVersion)),Iu(e,t);var r=new Mi(n.target,t,1,n.sequenceNumber);Eu(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),S("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Fu(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function Fu(e,t,n){return Uu.apply(this,arguments)}function Uu(){return(Uu=Object(u.a)(w().mark(function e(t,n,r){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,Ou(t);case 5:t.mu.set("Offline"),r||(r=function(){return Ao(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,ku(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vu(e,t){return t().catch(function(n){return Fu(e,n,t)})}function zu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=Object(u.a)(w().mark(function e(t){var n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=L(t),r=os(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!qu(n)){e.next=19;break}return e.prev=3,e.next=6,Ro(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Gu(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Fu(n,e.t0);case 17:e.next=2;break;case 19:Ku(n)&&Wu(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function qu(e){return Cu(e)&&e.lu.length<10}function Gu(e,t){e.lu.push(t);var n=os(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Ku(e){return Cu(e)&&!os(e).xo()&&e.lu.length>0}function Wu(e){os(e).start()}function Hu(e){return Qu.apply(this,arguments)}function Qu(){return(Qu=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:os(t).tu();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $u(e){return Yu.apply(this,arguments)}function Yu(){return(Yu=Object(u.a)(w().mark(function e(t){var n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=os(t),r=b(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return(Xu=Object(u.a)(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Gr.from(i,n,r),e.next=3,Vu(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)});case 3:return e.next=5,zu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return(es=Object(u.a)(w().mark(function e(t,n){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&os(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(u.a)(w().mark(function e(t,n){var r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hr(i=n.code)||i===P.ABORTED){e.next=7;break}return r=t.lu.shift(),os(t).Oo(),e.next=5,Vu(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,zu(t);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ku(t)&&Wu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=Object(u.a)(w().mark(function e(t,n){var r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=L(t)).asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials"),i=Cu(r),r.du.add(3),e.next=6,Ou(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,ku(r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return(is=Object(u.a)(w().mark(function e(t,n){var r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=L(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,ku(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,Ou(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function as(e){return e.yu||(e.yu=function(e,t,n){var r=L(e);return r.nu(),new vu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Nu.bind(null,e),Zr:Ru.bind(null,e),zo:Pu.bind(null,e)}),e.wu.push(function(){var t=Object(u.a)(w().mark(function t(n){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Tu(e)?Su(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Au(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.yu}function os(e){return e.pu||(e.pu=function(e,t,n){var r=L(e);return r.nu(),new mu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Hu.bind(null,e),Zr:Zu.bind(null,e),Xo:$u.bind(null,e),Zo:Ju.bind(null,e)}),e.wu.push(function(){var t=Object(u.a)(w().mark(function t(n){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,zu(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(S("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.pu}var us=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(d.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ss(e,t){if(T("AsyncQueue","".concat(t,": ").concat(e)),xe(e))return new M(P.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var cs=function(){function e(t){Object(h.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||ie.comparator(e.key,n.key)}:function(e,t){return ie.comparator(e.key,t.key)},this.keyedMap=Zn(),this.sortedSet=new ht(this.comparator)}return Object(d.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},{key:"size",get:function(){return this.sortedSet.size}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ls=function(){function e(){Object(h.a)(this,e),this.Iu=new ht(ie.comparator)}return Object(d.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):N():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),fs=function(){function e(t,n,r,i,a,o,u,s,c){Object(h.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Object(d.a)(e,[{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}},{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,cs.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),hs=function e(){Object(h.a)(this,e),this.Eu=void 0,this.listeners=[]},ds=function e(){Object(h.a)(this,e),this.queries=new $n(function(e){return qn(e)},Bn),this.onlineState="Unknown",this.Au=new Set};function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(u.a)(w().mark(function e(t,n){var r,i,a,o,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=L(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new hs),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ss(e.t0,"Initialization of query '".concat(Gn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&gs(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return(ys=Object(u.a)(w().mark(function e(t,n){var r,i,a,o,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=L(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gs(e){e.Au.forEach(function(e){e.next()})}var bs=function(){function e(t,n,r){Object(h.a)(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Object(d.a)(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=b(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new fs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),ks=function(){function e(t,n){Object(h.a)(this,e),this.Nu=t,this.byteLength=n}return Object(d.a)(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),ws=function(){function e(t){Object(h.a)(this,e),this.serializer=t}return Object(d.a)(e,[{key:"Hi",value:function(e){return yi(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?xi(this.serializer,e.document,!1):Xt.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return di(e)}}]),e}(),Os=function(){function e(t,n,r){Object(h.a)(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xs(t)}return Object(d.a)(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=te.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new ws(this.serializer),i=b(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hi(a.metadata.name),s=b(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||or()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n,r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(this.localStore,new ws(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=b(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Go(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}},e,this,[[5,15,18,21]])}));return function(){return e.apply(this,arguments)}}()}]),e}();function xs(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _s=function e(t){Object(h.a)(this,e),this.key=t},js=function e(t){Object(h.a)(this,e),this.key=t},Es=function(){function e(t,n){Object(h.a)(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=or(),this.mutatedKeys=or(),this.Ku=Hn(t),this.Gu=new cs(this.Ku)}return Object(d.a)(e,[{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new ls,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=Kn(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)}),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new fs(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new ls,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Lu=t.Lu.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Lu=t.Lu.delete(e)}),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=or(),this.Gu.forEach(function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))});var n=[];return t.forEach(function(t){e.Uu.has(t)||n.push(new js(t))}),this.Uu.forEach(function(e){t.has(e)||n.push(new _s(e))}),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=or();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return fs.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}},{key:"Qu",get:function(){return this.Lu}}]),e}(),Is=function e(t,n,r){Object(h.a)(this,e),this.query=t,this.targetId=n,this.view=r},Ss=function e(t){Object(h.a)(this,e),this.key=t,this.ec=!1},Ts=function(){function e(t,n,r,i,a,o){Object(h.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new $n(function(e){return qn(e)},Bn),this.ic=new Map,this.rc=new Set,this.oc=new ht(ie.comparator),this.uc=new Map,this.cc=new uo,this.ac={},this.hc=new Map,this.lc=Ma.bn(),this.onlineState="Unknown",this.fc=void 0}return Object(d.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Cs(e,t){return As.apply(this,arguments)}function As(){return(As=Object(u.a)(w().mark(function e(t,n){var r,i,a,o,u,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bc(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Lo(r.localStore,Un(n));case 8:return u=e.sent,r.isPrimaryClient&&_u(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Ns(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ns(e,t,n,r,i){return Ds.apply(this,arguments)}function Ds(){return(Ds=Object(u.a)(w().mark(function e(t,n,r,i,a){var o,s,c,l,f,h;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Object(u.a)(w().mark(function e(t,n,r,i){var a,o,u;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,Fo(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.zu(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ys(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Fo(t.localStore,n,!0);case 3:return o=e.sent,s=new Es(n,o.Wi),c=s.zu(o.documents),l=Xr.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),f=s.applyChanges(c,t.isPrimaryClient,l),Ys(t,r,f.Yu),h=new Is(n,r,s),e.abrupt("return",(t.sc.set(n,h),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=Object(u.a)(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=L(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter(function(e){return!Bn(e,n)})),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Po(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),ju(r.remoteStore,i.targetId),Qs(r,i.targetId)}).catch(me);case 9:e.next=14;break;case 11:return Qs(r,i.targetId),e.next=14,Po(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ps(e,t,n){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(u.a)(w().mark(function e(t,n,r){var i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=kc(t),e.prev=1,e.next=4,function(e,t){var n,r,i=L(e),a=X.now(),o=t.reduce(function(e,t){return e.add(t.key)},or());return i.persistence.runTransaction("Locally write mutations","readwrite",function(e){var u=Jn(),s=or();return i.Ki.getEntries(e,o).next(function(e){(u=e).forEach(function(e,t){t.isValidDocument()||(s=s.add(e))})}).next(function(){return i.localDocuments.getOverlayedDocuments(e,u)}).next(function(r){n=r;var o,u=[],s=b(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Nr(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Lr(c.key,l,Jt(l.value.mapValue),Er.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)}).next(function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)})}).then(function(){return{batchId:r.batchId,changes:er(n)}})}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new ht($)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Zs(i,a.changes);case 9:return e.next=11,zu(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ss(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Object(u.a)(w().mark(function e(t,n){var r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),e.prev=1,e.next=4,No(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.uc.get(t);n&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?D(n.ec):e.removedDocuments.size>0&&(D(n.ec),n.ec=!1))}),e.next=8,Zs(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,me(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Vs(e,t,n){var r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach(function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=L(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,a=b(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}}),r&&gs(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zs(){return(zs=Object(u.a)(w().mark(function e(t,n,r){var i,a,o,u,s,c;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=L(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ht(ie.comparator)).insert(o,Xt.newNoDocument(o,Z.min())),s=or().add(o),c=new Jr(Z.min(),new Map,new vt($),u,s),e.next=9,Fs(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Xs(i),e.next=16;break;case 14:return e.next=16,Po(i.localStore,n,!1).then(function(){return Qs(i,n,r)}).catch(me);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bs(){return(Bs=Object(u.a)(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),i=n.batch.batchId,e.prev=1,e.next=4,Co(r.localStore,n);case 4:return a=e.sent,Hs(r,i,null),Ws(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Zs(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,me(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function qs(){return(qs=Object(u.a)(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=L(t),e.prev=1,e.next=4,function(e,t){var n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next(function(t){return D(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)}).next(function(){return n.localDocuments.getDocuments(e,r)})})}(i.localStore,n);case 4:return a=e.sent,Hs(i,n,r),Ws(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Zs(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,me(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function Gs(e,t){return Ks.apply(this,arguments)}function Ks(){return(Ks=Object(u.a)(w().mark(function e(t,n){var r,i,a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Cu((r=L(t)).remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=L(r.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})}();case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ss(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function Ws(e,t){(e.hc.get(t)||[]).forEach(function(e){e.resolve()}),e.hc.delete(t)}function Hs(e,t,n){var r=L(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=b(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(function(t){e.cc.containsKey(t)||$s(e,t)})}function $s(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(ju(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Xs(e))}function Ys(e,t,n){var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _s?(e.cc.addReference(a.key,t),Js(e,a)):a instanceof js?(S("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||$s(e,a.key)):N()}}catch(o){i.e(o)}finally{i.f()}}function Js(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(S("SyncEngine","New document in limbo: "+n),e.rc.add(r),Xs(e))}function Xs(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new ie(te.fromString(t)),r=e.lc.next();e.uc.set(r,new Ss(n)),e.oc=e.oc.insert(n,r),_u(e.remoteStore,new Mi(Un(Dn(n.path)),r,2,Ce.ct))}}function Zs(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=Object(u.a)(w().mark(function e(t,n,r){var i,a,o,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=L(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach(function(e,t){s.push(i.dc(t,n,r).then(function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=_o.Di(t.targetId,e);o.push(n)}}))}),e.next=6,Promise.all(s);case 6:return i.nc.zo(a),e.next=9,function(){var e=Object(u.a)(w().mark(function e(t,n){var r,i,a,o,u,s,c,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return ge.forEach(n,function(t){return ge.forEach(t.Vi,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return ge.forEach(t.Si,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),xe(e.t0)){e.next=10;break}throw e.t0;case 10:S("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=b(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return(nc=Object(u.a)(w().mark(function e(t,n){var r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=L(t)).currentUser.isEqual(n)){e.next=11;break}return S("SyncEngine","User change. New user:",n.toKey()),e.next=5,So(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach(function(e){e.forEach(function(e){e.reject(new M(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Zs(r,i.Qi);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return(ic=Object(u.a)(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),e.next=3,Fo(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Xu(i),e.abrupt("return",(r.isPrimaryClient&&Ys(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return(oc=Object(u.a)(w().mark(function e(t,n){var r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),e.abrupt("return",Vo(r.localStore,n).then(function(e){return Zs(r,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uc(e,t,n,r){return sc.apply(this,arguments)}function sc(){return(sc=Object(u.a)(w().mark(function e(t,n,r,i){var a,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L(t),e.next=3,function(e,t){var n=L(e),r=L(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.In(e,t).next(function(t){return t?n.localDocuments.getDocuments(e,t):ge.resolve(null)})})}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zu(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Hs(a,n,i||null),Ws(a,n),function(e,t){L(L(e).mutationQueue).En(t)}(a.localStore,n)):N();case 11:return e.next=13,Zs(a,o);case 13:e.next=16;break;case 15:S("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=Object(u.a)(w().mark(function e(t,n){var r,i,a,o,u,s,c,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(bc(r=L(t)),kc(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,fc(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,rs(r.remoteStore,!0);case 9:o=b(a);try{for(o.s();!(u=o.n()).done;)s=u.value,_u(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return Qs(r,t),Po(r.localStore,t,!0)}),ju(r.remoteStore,t)}),e.next=19,l;case 19:return e.next=21,fc(r,c);case 21:return function(e){var t=L(r);t.uc.forEach(function(e,n){ju(t.remoteStore,n)}),t.cc.ls(),t.uc=new Map,t.oc=new ht(ie.comparator)}(),r.fc=!1,e.next=25,rs(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fc(e,t,n){return hc.apply(this,arguments)}function hc(){return(hc=Object(u.a)(w().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=L(t),a=[],o=[],u=b(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Lo(i.localStore,Un(f[0]));case 11:l=e.sent,h=b(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,rc(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Uo(i.localStore,c);case 36:return y=e.sent,e.next=39,Lo(i.localStore,y);case 39:return l=e.sent,e.next=42,Ns(i,dc(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.zo(o),a));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function dc(e){return Nn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pc(e){var t=L(e);return L(L(t.localStore).persistence).bi()}function vc(e,t,n,r){return mc.apply(this,arguments)}function mc(){return(mc=Object(u.a)(w().mark(function e(t,n,r,i){var a,o,u,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=L(t)).fc){e.next=3;break}return e.abrupt("return",void S("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0?8:"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Vo(a.localStore,Wn(o[0]));case 10:return u=e.sent,s=Jr.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,wt.EMPTY_BYTE_STRING),e.next=14,Zs(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Po(a.localStore,n,!0);case 17:return Qs(a,n,i),e.abrupt("break",20);case 19:N();case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yc(e,t,n){return gc.apply(this,arguments)}function gc(){return(gc=Object(u.a)(w().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=bc(t)).fc){e.next=45;break}a=b(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return S("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Uo(i.localStore,u);case 12:return s=e.sent,e.next=15,Lo(i.localStore,s);case 15:return c=e.sent,e.next=18,Ns(i,dc(s),c.targetId,!1,c.resumeToken);case 18:_u(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=b(r),e.prev=30,h=w().mark(function e(){var t;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Po(i.localStore,t,!1).then(function(){ju(i.remoteStore,t),Qs(i,t)}).catch(me);case 5:case"end":return e.stop()}},e)}),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function bc(e){var t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=L(e),r=n.uc.get(t);if(r&&r.ec)return or().add(r.key);var i=or(),a=n.ic.get(t);if(!a)return i;var o,u=b(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return zs.apply(this,arguments)}.bind(null,t),t.nc.zo=function(e,t){var n,r=L(e),i=!1,a=b(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=b(s.listeners);try{for(l.s();!(c=l.n()).done;)c.value.vu(o)&&(i=!0)}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&gs(r)}.bind(null,t.eventManager),t.nc.wc=function(e,t,n){var r=L(e),i=r.queries.get(t);if(i){var a,o=b(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}function kc(e){var t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return Bs.apply(this,arguments)}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return qs.apply(this,arguments)}.bind(null,t),t}function wc(e,t,n){var r=L(e);(function(){var e=Object(u.a)(w().mark(function e(t,n,r){var i,a,o,u,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=L(e),r=di(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.xs.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(xs(i)),a=new Os(i,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.$u(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Zs(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=L(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.xs.saveBundleMetadata(e,t)})}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(C("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}},e,null,[[0,37]])}));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then(function(e){r.sharedClientState.notifyBundleLoaded(e)})}var Oc=function(){function e(){Object(h.a)(this,e),this.synchronizeTabs=!1}return Object(d.a)(e,[{key:"initialize",value:function(){var e=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=hu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Io(this.persistence,new jo,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new po(mo.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new tu}},{key:"terminate",value:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),xc=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).mc=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(){var e=Object(u.a)(w().mark(function e(n){var r=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(c.a)(t.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.mc.initialize(this,n);case 4:return e.next=6,kc(this.mc.syncEngine);case 6:return e.next=8,zu(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Io(this.persistence,new jo,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Ga(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Te(t,this.persistence);return new Se(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=xo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ta.withCacheSize(this.cacheSizeBytes):Ta.DEFAULT;return new ko(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,lu(),fu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new tu}}]),t}(Oc),_c=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,n,!1))).mc=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(){var e=Object(u.a)(w().mark(function e(n){var r,a=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(c.a)(t.prototype),"initialize",this).call(this,n);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof eu,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:uc.bind(null,r),Mr:vc.bind(null,r),Fr:yc.bind(null,r),bi:pc.bind(null,r),Or:ac.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(a.mc.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=lu();if(!eu.D(t))throw new M(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),t}(xc),jc=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"initialize",value:function(){var e=Object(u.a)(w().mark(function e(t,n){var r=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Vs(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tc.bind(null,this.syncEngine),e.next=12,rs(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ds}},{key:"createDatastore",value:function(e){var t,n=hu(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cu(t));return function(e,t,n,r){return new yu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Vs(o.syncEngine,e,0)},a=ru.D()?new ru:new nu,new bu(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ts(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(u.a)(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L(t),S("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,Ou(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ec(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){var r=Object(u.a)(w().mark(function r(){var i;return w().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),cancel:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),releaseLock:function(){},closed:Promise.resolve()}}var Ic=function(){function e(t){Object(h.a)(this,e),this.observer=t,this.muted=!1}return Object(d.a)(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):T("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),Sc=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.Ic=t,this.serializer=n,this.metadata=new F,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))},function(e){return r.metadata.reject(e)})}return Object(d.a)(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n,r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new ks(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"Ac",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Object(u.a)(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Tc=function(){function e(t){Object(h.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(d.a)(e,[{key:"lookup",value:function(){var e=Object(u.a)(w().mark(function e(t){var n,r=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new M(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(u.a)(w().mark(function e(t,n){var r,i,a,o,u,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),i=ki(r.serializer)+"/documents",a={documents:n.map(function(e){return mi(r.serializer,e)})},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach(function(e){var t=_i(r.serializer,e);u.set(t.key.toString(),t)}),s=[],e.abrupt("return",(n.forEach(function(e){var t=u.get(e.toString());D(!!t),s.push(t)}),s));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach(function(e){return r.recordVersion(e)}),n));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new zr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(u.a)(w().mark(function e(){var t,n=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=ie.fromPath(t);n.mutations.push(new Br(r,n.precondition(r)))}),e.next=7,function(){var e=Object(u.a)(w().mark(function e(t,n){var r,i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L(t),i=ki(r.serializer)+"/documents",a={writes:n.map(function(e){return ji(r.serializer,e)})},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw N();t=Z.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new M(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Z.min())?Er.exists(!1):Er.updateTime(t):Er.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Z.min()))throw new M(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Cc=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Vc=r.maxAttempts,this.Co=new du(this.asyncQueue,"transaction_retry")}return Object(d.a)(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(Object(u.a)(w().mark(function t(){var n,r;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new Tc(e.datastore),(r=e.Dc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.Cc(t)})})}).catch(function(t){e.Cc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Ae(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(function(){return t.Sc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hr(t)}return!1}}]),e}(),Ac=function(){function e(t,n,r,i){var a=this;Object(h.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=x.UNAUTHENTICATED,this.clientId=Q.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return S("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)})}return Object(d.a)(e,[{key:"getConfiguration",value:function(){var e=Object(u.a)(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new M(P.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(u.a)(w().mark(function n(){var r;return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ss(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function Nc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=Object(u.a)(w().mark(function e(t,n){var r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,So(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t._offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=Object(u.a)(w().mark(function e(t,n){var r,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Mc(t);case 3:return r=e.sent,S("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return ts(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return ts(n.remoteStore,t)}),t._onlineComponents=n;case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pc(e){return"FirebaseError"===e.name?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Mc(e){return Fc.apply(this,arguments)}function Fc(){return(Fc=Object(u.a)(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return S("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Nc(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Pc(n=e.t0)){e.next=13;break}throw n;case 13:return C("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Nc(t,new Oc);case 16:e.next=21;break;case 18:return S("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Nc(t,new Oc);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}},e,null,[[3,8]])}))).apply(this,arguments)}function Uc(e){return Vc.apply(this,arguments)}function Vc(){return(Vc=Object(u.a)(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return S("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Rc(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return S("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Rc(t,new jc);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zc(e){return Mc(e).then(function(e){return e.persistence})}function Bc(e){return Mc(e).then(function(e){return e.localStore})}function qc(e){return Uc(e).then(function(e){return e.remoteStore})}function Gc(e){return Uc(e).then(function(e){return e.syncEngine})}function Kc(e){return Uc(e).then(function(e){return e.datastore})}function Wc(e){return Hc.apply(this,arguments)}function Hc(){return(Hc=Object(u.a)(w().mark(function e(t){var n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Cs.bind(null,n.syncEngine),r.onUnlisten=Rs.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function i(){return w().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ic({next:function(a){t.enqueueAndForget(function(){return ms(e,o)});var u=a.docs.has(n);!u&&a.fromCache?i.reject(new M(P.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new M(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new bs(Dn(n.path),a,{includeMetadataChanges:!0,xu:!0});return ps(e,o)},i.next=3,Wc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function $c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function i(){return w().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ic({next:function(n){t.enqueueAndForget(function(){return ms(e,o)}),n.fromCache&&"server"===r.source?i.reject(new M(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bs(n,a,{includeMetadataChanges:!0,xu:!0});return ps(e,o)},i.next=3,Wc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var Yc=new Map;function Jc(e,t,n){if(!n)throw new M(P.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xc(e,t,n,r){if(!0===t&&!0===r)throw new M(P.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Zc(e){if(!ie.isDocumentKey(e))throw new M(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function el(e){if(ie.isDocumentKey(e))throw new M(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":N()}function nl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tl(e);throw new M(P.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function rl(e,t){if(t<=0)throw new M(P.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var il=function(){function e(t){var n;if(Object(h.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new M(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Xc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),al=function(){function e(t,n,r,i){Object(h.a)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new il({}),this._settingsFrozen=!1}return Object(d.a)(e,[{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new M(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new il(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new G(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Yc.get(e);t&&(S("ComponentProvider","Removing Datastore"),Yc.delete(e),t.terminate())}(this),Promise.resolve()}},{key:"app",get:function(){if(!this._app)throw new M(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}}]),e}();function ol(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=nl(e,al))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&C("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=x.MOCK_USER;else{o=Object(y.g)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new M(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new x(s)}e._authCredentials=new z(new U(o,u))}}var ul=function(){function e(t,n,r){Object(h.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(d.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cl(this.firestore,this.converter,this._key.path.popLast())}}]),e}(),sl=function(){function e(t,n,r){Object(h.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(d.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),cl=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this,e,n,Dn(r))))._path=r,i.type="collection",i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}},{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ul(this.firestore,null,new ie(e))}}]),t}(sl);function ll(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(y.p)(e),Jc("collection","path",t),e instanceof al){var a=te.fromString.apply(te,[t].concat(r));return el(a),new cl(e,null,a)}if(!(e instanceof ul||e instanceof cl))throw new M(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(te.fromString.apply(te,[t].concat(r)));return el(o),new cl(e.firestore,null,o)}function fl(e,t){if(e=nl(e,al),Jc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(P.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sl(e,null,function(e){return new An(te.emptyPath(),e)}(t))}function hl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(y.p)(e),1===arguments.length&&(t=Q.A()),Jc("doc","path",t),e instanceof al){var a=te.fromString.apply(te,[t].concat(r));return Zc(a),new ul(e,null,new ie(a))}if(!(e instanceof ul||e instanceof cl))throw new M(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(te.fromString.apply(te,[t].concat(r)));return Zc(o),new ul(e.firestore,e instanceof cl?e.converter:null,new ie(o))}function dl(e,t){return e=Object(y.p)(e),t=Object(y.p)(t),(e instanceof ul||e instanceof cl)&&(t instanceof ul||t instanceof cl)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pl(e,t){return e=Object(y.p)(e),t=Object(y.p)(t),e instanceof sl&&t instanceof sl&&e.firestore===t.firestore&&Bn(e._query,t._query)&&e.converter===t.converter}var vl=function(){function e(){var t=this;Object(h.a)(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new du(this,"async_queue_retry"),this.qc=function(){var e=fu();e&&S("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=fu();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return Object(d.a)(e,[{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=fu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise(function(){});var n=new F;return this.Kc(function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.kc.push(e),t.Gc()})}},{key:"Gc",value:function(){var e=Object(u.a)(w().mark(function e(){var t=this;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),xe(e.t0)){e.next=12;break}throw e.t0;case 12:S("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao(function(){return t.Gc()});case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then(function(){return t.Fc=!0,e().catch(function(e){throw t.Mc=e,t.Fc=!1,T("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Fc=!1,e})});return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=us.createAndSchedule(this,e,t,n,function(e){return r.Qc(e)});return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&N()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Object(u.a)(w().mark(function e(){var t;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=b(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then(function(){t.$c.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=b(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()})}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}},{key:"isShuttingDown",get:function(){return this.Oc}}]),e}();function ml(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=b(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var yl=function(){function e(){Object(h.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new F,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(d.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),gl=-1,bl=function(e){function t(e,n,r,i){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e,n,r,i))).type="firestore",a._queue=new vl,a._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]",a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_terminate",value:function(){return this._firestoreClient||wl(this),this._firestoreClient.terminate()}}]),t}(al);function kl(e){return e._firestoreClient||wl(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wl(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new St(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ac(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Ol(e,t){Al(e=nl(e,bl));var n=kl(e);if(n._uninitializedComponentsProvider)throw new M(P.FAILED_PRECONDITION,"SDK cache is already specified.");C("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new jc;return _l(n,i,new xc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function xl(e){Al(e=nl(e,bl));var t=kl(e);if(t._uninitializedComponentsProvider)throw new M(P.FAILED_PRECONDITION,"SDK cache is already specified.");C("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new jc;return _l(t,r,new _c(r,n.cacheSizeBytes))}function _l(e,t,n){var r=new F;return e.asyncQueue.enqueue(Object(u.a)(w().mark(function i(){var a;return w().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Nc(e,n);case 3:return i.next=5,Rc(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),Pc(a=i.t0)){i.next=13;break}throw a;case 13:C("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function jl(e){if(e._initialized&&!e._terminated)throw new M(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new F;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(u.a)(w().mark(function n(){return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(u.a)(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ke.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ke.delete(n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(xo(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}function El(e){return function(e){var t=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function n(){return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Gs,n.next=3,Gc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)}))),t.promise}(kl(e=nl(e,bl)))}function Il(e){return function(e){return e.asyncQueue.enqueue(Object(u.a)(w().mark(function t(){var n,r;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zc(e);case 2:return n=t.sent,t.next=5,qc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=L(r);return t.du.delete(0),ku(t)}()));case 7:case"end":return t.stop()}},t)})))}(kl(e=nl(e,bl)))}function Sl(e){return function(e){return e.asyncQueue.enqueue(Object(u.a)(w().mark(function t(){var n,r;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zc(e);case 2:return n=t.sent,t.next=5,qc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(u.a)(w().mark(function e(t){var n;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=L(t)).du.add(0),e.next=4,Ou(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}},t)})))}(kl(e=nl(e,bl)))}function Tl(e,t){var n=kl(e=nl(e,bl)),r=new yl;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Sc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ec(e,t);if(e instanceof ArrayBuffer)return Ec(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,hu(t));e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function t(){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wc,t.next=3,Gc(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}function Cl(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(u.a)(w().mark(function n(){return w().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=L(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.xs.getNamedQuery(e,t)})},n.next=3,Bc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(kl(e=nl(e,bl)),t).then(function(t){return t?new sl(e,null,t.query):null})}function Al(e){if(e._initialized||e._terminated)throw new M(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Nl=function(){function e(t){Object(h.a)(this,e),this._byteString=t}return Object(d.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(wt.fromBase64String(t))}catch(t){throw new M(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(wt.fromUint8Array(t))}}]),e}(),Dl=function(){function e(){Object(h.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new M(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new re(n)}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Rl=function e(t){Object(h.a)(this,e),this._methodName=t},Ll=function(){function e(t,n){if(Object(h.a)(this,e),!isFinite(t)||t<-90||t>90)throw new M(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new M(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $(this._lat,e._lat)||$(this._long,e._long)}},{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}}]),e}(),Pl=/^__.*__$/,Ml=function(){function e(t,n,r){Object(h.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(d.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rr(e,this.data,t,this.fieldTransforms)}}]),e}(),Fl=function(){function e(t,n,r){Object(h.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(d.a)(e,[{key:"toMutation",value:function(e,t){return new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ul(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}var Vl=function(){function e(t,n,r,i,a,o){Object(h.a)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(d.a)(e,[{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return uf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Ul(this.Yc)&&Pl.test(e))throw this.ia('Document fields cannot begin and end with "__"')}},{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}}]),e}(),zl=function(){function e(t,n,r){Object(h.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hu(t)}return Object(d.a)(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vl({Yc:e,methodName:t,oa:n,path:re.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Bl(e){var t=e._freezeSettings(),n=hu(e._databaseId);return new zl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ql(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);nf("Data must be an object, but it was:",o,r);var u,s,c=ef(r,o);if(a.merge)u=new gt(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=b(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=rf(t,l.value,n);if(!o.contains(d))throw new M(P.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));sf(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new gt(f),s=o.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,s=o.fieldTransforms;return new Ml(new Yt(c),u,s)}var Gl=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(Rl);function Kl(e,t,n){return new Vl({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Wl=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){return new _r(e.path,new mr)}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(Rl),Hl=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).ca=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){var t=Kl(this,e,!0),n=this.ca.map(function(e){return Zl(e,t)}),r=new yr(n);return new _r(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(Rl),Ql=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).ca=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){var t=Kl(this,e,!0),n=this.ca.map(function(e){return Zl(e,t)}),r=new br(n);return new _r(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(Rl),$l=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).aa=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){var t=new wr(e.serializer,fr(e.serializer,this.aa));return new _r(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),t}(Rl);function Yl(e,t,n,r){var i=e.ua(1,t,n);nf("Data must be an object, but it was:",i,r);var a=[],o=Yt.empty();lt(r,function(e,r){var u=of(t,e,n);r=Object(y.p)(r);var s=i.na(u);if(r instanceof Gl)a.push(u);else{var c=Zl(r,s);null!=c&&(a.push(u),o.set(u,c))}});var u=new gt(a);return new Fl(o,u,i.fieldTransforms)}function Jl(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[rf(t,r,n)],s=[i];if(a.length%2!=0)throw new M(P.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(rf(t,a[c])),s.push(a[c+1]);for(var l=[],f=Yt.empty(),h=u.length-1;h>=0;--h)if(!sf(l,u[h])){var d=u[h],p=s[h];p=Object(y.p)(p);var v=o.na(d);if(p instanceof Gl)l.push(d);else{var m=Zl(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new gt(l);return new Fl(f,g,o.fieldTransforms)}function Xl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Zl(n,e.ua(r?4:3,t))}function Zl(e,t){if(tf(e=Object(y.p)(e)))return nf("Unsupported field value:",t,e),ef(e,t);if(e instanceof Rl)return function(e,t){if(!Ul(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=b(e);try{for(a.s();!(n=a.n()).done;){var o=Zl(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(y.p)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=X.fromDate(e);return{timestampValue:li(t.serializer,n)}}if(e instanceof X){var r=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:li(t.serializer,r)}}if(e instanceof Ll)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nl)return{bytesValue:fi(t.serializer,e._byteString)};if(e instanceof ul){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:pi(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(tl(e)))}(e,t)}function ef(e,t){var n={};return ft(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lt(e,function(e,r){var i=Zl(r,t.Xc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function tf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof Ll||e instanceof Nl||e instanceof ul||e instanceof Rl)}function nf(e,t,n){if(!tf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=tl(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function rf(e,t,n){if((t=Object(y.p)(t))instanceof Dl)return t._internalPath;if("string"==typeof t)return of(e,t);throw uf("Field path arguments must be of type string or ",e,!1,void 0,n)}var af=new RegExp("[~\\*/\\[\\]]");function of(e,t,n){if(t.search(af)>=0)throw uf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(Dl,Object(f.a)(t.split(".")))._internalPath}catch(i){throw uf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uf(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new M(P.INVALID_ARGUMENT,u+e+s)}function sf(e,t){return e.some(function(e){return e.isEqual(t)})}var cf=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(d.a)(e,[{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new lf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ff("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ul(this._firestore,this._converter,this._key)}}]),e}(),lf=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"data",value:function(){return Object(i.a)(Object(c.a)(t.prototype),"data",this).call(this)}}]),t}(cf);function ff(e,t){return"string"==typeof t?of(e,t):t instanceof Dl?t._internalPath:t._delegate._internalPath}function hf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var df=function e(){Object(h.a)(this,e)},pf=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),t}(df);function vf(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof df&&n.push(t),function(e){var t=e.filter(function(e){return e instanceof gf}).length,n=e.filter(function(e){return e instanceof mf}).length;if(t>1||t>0&&n>0)throw new M(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=b(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var mf=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this)))._field=e,i._op=n,i._value=r,i.type="where",i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=this._parse(e);return Df(e._query,t),new sl(e.firestore,e.converter,Vn(e._query,t))}},{key:"_parse",value:function(e){var t=Bl(e.firestore);return function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new M(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Nf(o,a);var s,c=[],l=b(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Af(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Af(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Nf(o,a),u=Xl(n,"where",o,"in"===a||"not-in"===a);return on.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function yf(e,t,n){var r=t,i=ff("where",e);return mf._create(i,r,n)}var gf=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,r._queryConstraints=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_parse",value:function(e){var t=this._queryConstraints.map(function(t){return t._parse(e)}).filter(function(e){return e.getFilters().length>0});return 1===t.length?t[0]:un.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=b(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Df(r,a),r=Vn(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new sl(e.firestore,e.converter,Vn(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(df);var bf=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this)))._field=e,r._direction=n,r.type="orderBy",r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new M(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nn(t,n);return function(e,t){if(null===Ln(e)){var n=Pn(e);null!==n&&Rf(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new sl(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new An(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(pf);function kf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ff("orderBy",e);return bf._create(n,t)}var wf=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,i._limit=n,i._limitType=r,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){return new sl(e.firestore,e.converter,zn(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function Of(e){return rl("limit",e),wf._create("limit",e,"F")}function xf(e){return rl("limitToLast",e),wf._create("limitToLast",e,"L")}var _f=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,i._docOrFields=n,i._inclusive=r,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=Cf(e,this.type,this._docOrFields,this._inclusive);return new sl(e.firestore,e.converter,function(e,t){return new An(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function jf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _f._create("startAt",t,!0)}function Ef(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _f._create("startAfter",t,!1)}var If=function(e){function t(e,n,r){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,i._docOrFields=n,i._inclusive=r,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=Cf(e,this.type,this._docOrFields,this._inclusive);return new sl(e.firestore,e.converter,function(e,t){return new An(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function Sf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return If._create("endBefore",t,!1)}function Tf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return If._create("endAt",t,!0)}function Cf(e,t,n,r){if(n[0]=Object(y.p)(n[0]),n[0]instanceof cf)return function(e,t,n,r,i){if(!r)throw new M(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=b(Fn(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ft(t,r.key));else{var c=r.data.field(s.field);if(Et(c))throw new M(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new M(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Zt(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Bl(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new M(P.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new M(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Mn(e)&&-1!==c.indexOf("/"))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(te.fromString(c));if(!ie.isDocumentKey(l))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ie(l);u.push(Ft(t,f))}else{var h=Xl(n,r,c);u.push(h)}}return new Zt(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Af(e,t,n){if("string"==typeof(n=Object(y.p)(n))){if(""===n)throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mn(t)&&-1!==n.indexOf("/"))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(te.fromString(n));if(!ie.isDocumentKey(r))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ft(e,new ie(r))}if(n instanceof ul)return Ft(e,n._key);throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tl(n),"."))}function Nf(e,t){if(!Array.isArray(e)||0===e.length)throw new M(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Df(e,t){if(t.isInequality()){var n=Pn(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new M(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Ln(e);null!==i&&Rf(e,r,i)}var a=function(e,t){var n,r=b(e);try{for(r.s();!(n=r.n()).done;){var i,a=b(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}());if(null!==a)throw a===t.op?new M(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(P.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Rf(e,t,n){if(!n.isEqual(t))throw new M(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Lf=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw N()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lt(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new Ll(_t(e.latitude),_t(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Et(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(It(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xt(e);return new X(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=te.fromString(e);D(Pi(n));var r=new Tt(n.get(1),n.get(3)),i=new ie(n.popFirst(5));return r.isEqual(t)||T("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Pf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Mf=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).firestore=e,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"convertBytes",value:function(e){return new Nl(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ul(this.firestore,null,t)}}]),t}(Lf);var Ff=function(){function e(t,n){Object(h.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Uf=function(e){function t(e,n,r,i,a,o){var u;return Object(h.a)(this,t),(u=Object(s.a)(this,Object(c.a)(t).call(this,e,n,r,i,o)))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return Object(l.a)(t,e),Object(d.a)(t,[{key:"exists",value:function(){return Object(i.a)(Object(c.a)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ff("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),t}(cf),Vf=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(c.a)(t.prototype),"data",this).call(this,e)}}]),t}(Uf),zf=function(){function e(t,n,r,i){Object(h.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ff(i.hasPendingWrites,i.fromCache),this.query=r}return Object(d.a)(e,[{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Vf(n._firestore,n._userDataWriter,r.key,r,new Ff(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){var r=new Vf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ff(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Vf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ff(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Bf(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}}]),e}();function Bf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function qf(e,t){return e instanceof Uf&&t instanceof Uf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zf&&t instanceof zf&&e._firestore===t._firestore&&pl(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Gf(e){e=nl(e,ul);var t=nl(e.firestore,bl);return Qc(kl(t),e._key).then(function(n){return ih(t,e,n)})}var Kf=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).firestore=e,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"convertBytes",value:function(e){return new Nl(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ul(this.firestore,null,t)}}]),t}(Lf);function Wf(e){e=nl(e,ul);var t=nl(e.firestore,bl),n=kl(t),r=new Kf(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function r(){return w().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(u.a)(w().mark(function e(t,n,r){var i,a;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=L(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.localDocuments.getDocument(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new M(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ss(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new Uf(t,r,e._key,n,new Ff(null!==n&&n.hasLocalMutations,!0),e.converter)})}function Hf(e){e=nl(e,ul);var t=nl(e.firestore,bl);return Qc(kl(t),e._key,{source:"server"}).then(function(n){return ih(t,e,n)})}function Qf(e){e=nl(e,sl);var t=nl(e.firestore,bl),n=kl(t),r=new Kf(t);return hf(e._query),$c(n,e._query).then(function(n){return new zf(t,r,e,n)})}function $f(e){e=nl(e,sl);var t=nl(e.firestore,bl),n=kl(t),r=new Kf(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function r(){return w().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(u.a)(w().mark(function e(t,n,r){var i,a,o,u,s;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo(t,n,!0);case 3:i=e.sent,a=new Es(n,i.Wi),o=a.zu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ss(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new zf(t,r,e,n)})}function Yf(e){e=nl(e,sl);var t=nl(e.firestore,bl),n=kl(t),r=new Kf(t);return $c(n,e._query,{source:"server"}).then(function(n){return new zf(t,r,e,n)})}function Jf(e,t,n){e=nl(e,ul);var r=nl(e.firestore,bl),i=Pf(e.converter,t,n);return rh(r,[ql(Bl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Er.none())])}function Xf(e,t,n){e=nl(e,ul);for(var r=nl(e.firestore,bl),i=Bl(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return rh(r,[("string"==typeof(t=Object(y.p)(t))||t instanceof Dl?Jl(i,"updateDoc",e._key,t,n,o):Yl(i,"updateDoc",e._key,t)).toMutation(e._key,Er.exists(!0))])}function Zf(e){return rh(nl(e.firestore,bl),[new zr(e._key,Er.none())])}function eh(e,t){var n=nl(e.firestore,bl),r=hl(e),i=Pf(e.converter,t);return rh(n,[ql(Bl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Er.exists(!1))]).then(function(){return r})}function th(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(y.p)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||ml(n[c])||(s=n[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(ml(n[c])){var p=n[c];n[c]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[c+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof ul)f=nl(e.firestore,bl),h=Dn(e._key.path),l={next:function(t){n[c]&&n[c](ih(f,e,t))},error:n[c+1],complete:n[c+2]};else{var v=nl(e,sl);f=nl(v.firestore,bl),h=v._query;var m=new Kf(f);l={next:function(e){n[c]&&n[c](new zf(f,m,v,e))},error:n[c+1],complete:n[c+2]},hf(e._query)}return function(e,t,n,r){var i=new Ic(l),a=new bs(t,i,n);return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function t(){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ps,t.next=3,Wc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){i.yc(),e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function t(){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ms,t.next=3,Wc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(kl(f),h,d)}function nh(e,t){return function(e,t){var n=new Ic(t);return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function t(){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){L(e).Au.add(t),t.next()},t.next=3,Wc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){n.yc(),e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function t(){return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){L(e).Au.delete(t)},t.next=3,Wc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(kl(e=nl(e,bl)),ml(t)?t:{next:t})}function rh(e,t){return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function r(){return w().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ps,r.next=3,Gc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(kl(e),t)}function ih(e,t,n){var r=n.docs.get(t._key),i=new Kf(e);return new Uf(e,i,t._key,r,new Ff(n.hasPendingWrites,n.fromCache),t.converter)}var ah={maxAttempts:5},oh=function(){function e(t,n){Object(h.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bl(t)}return Object(d.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=uh(e,this._firestore),i=Pf(r.converter,t,n),a=ql(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Er.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=uh(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.p)(t))||t instanceof Dl?Jl(this._dataReader,"WriteBatch.update",i._key,t,n,o):Yl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Er.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new zr(t._key,Er.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new M(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function uh(e,t){if((e=Object(y.p)(e)).firestore!==t)throw new M(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var sh=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,n)))._firestore=e,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"get",value:function(e){var n=this,r=uh(e,this._firestore),a=new Kf(this._firestore);return Object(i.a)(Object(c.a)(t.prototype),"get",this).call(this,e).then(function(e){return new Uf(n._firestore,a,r._key,e._document,new Ff(!1,!1),r.converter)})}}]),t}(function(){function e(t,n){Object(h.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Bl(t)}return Object(d.a)(e,[{key:"get",value:function(e){var t=this,n=uh(e,this._firestore),r=new Mf(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return N();var i=e[0];if(i.isFoundDocument())return new cf(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cf(t._firestore,r,n._key,null,n.converter);throw N()})}},{key:"set",value:function(e,t,n){var r=uh(e,this._firestore),i=Pf(r.converter,t,n),a=ql(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=uh(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.p)(t))||t instanceof Dl?Jl(this._dataReader,"Transaction.update",i._key,t,n,o):Yl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ch(e,t,n){e=nl(e,bl);var r=Object.assign(Object.assign({},ah),n);return function(e){if(r.maxAttempts<1)throw new M(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(),function(e,t,n){var r=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(w().mark(function i(){var a;return w().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Kc(e);case 2:a=i.sent,new Cc(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}},i)}))),r.promise}(kl(e),function(n){return t(new sh(e,n))},r)}function lh(){return new Gl("deleteField")}function fh(){return new Wl("serverTimestamp")}function hh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hl("arrayUnion",t)}function dh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ql("arrayRemove",t)}function ph(e){return new $l("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_=e}(p.SDK_VERSION),Object(p._registerComponent)(new v.a("firestore",function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new bl(new B(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tt(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Object(p.registerVersion)(O,"3.10.0",void 0),Object(p.registerVersion)(O,"3.10.0","esm2017")}()}).call(this,n(38))},function(e,t,n){"use strict";n.d(t,"a",function(){return W}),n.d(t,"b",function(){return H}),n.d(t,"c",function(){return Q}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return O}),n.d(t,"g",function(){return _}),n.d(t,"h",function(){return Y}),n.d(t,"i",function(){return G}),n.d(t,"j",function(){return I}),n.d(t,"k",function(){return T}),n.d(t,"l",function(){return B}),n.d(t,"m",function(){return C}),n.d(t,"n",function(){return z}),n.d(t,"o",function(){return A});var r=n(14),i=n(1),a=n(3),o=n(9),u=n(6),s=n(8),c=n(12),l=n(13),f=n(2);var h="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},d=f.useState,p=f.useEffect,v=f.useLayoutEffect,m=f.useDebugValue;function y(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!h(n,r)}catch(i){return!0}}var g=!!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){var r=t(),i=d({inst:{value:r,getSnapshot:t}}),a=Object(c.a)(i,2),o=a[0].inst,u=a[1];return v(function(){o.value=r,o.getSnapshot=t,y(o)&&u({inst:o})},[e,r,t]),p(function(){return y(o)&&u({inst:o}),e(function(){y(o)&&u({inst:o})})},[e]),m(r),r},b=("useSyncExternalStore"in f&&f.useSyncExternalStore,f.createContext(null));var k=f.createContext(null);var w=f.createContext(null);var O=f.createContext(null);var x=f.createContext(null);var _=f.createContext({outlet:null,matches:[]});var j=f.createContext(null);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){var n=(void 0===t?{}:t).relative;S()||Object(l.e)(!1);var r=f.useContext(O),i=r.basename,a=r.navigator,o=A(e,{relative:n}),u=o.hash,s=o.pathname,c=o.search,h=s;return"/"!==i&&(h="/"===s?i:Object(l.l)([i,s])),a.createHref({pathname:h,search:c,hash:u})}function S(){return null!=f.useContext(x)}function T(){return S()||Object(l.e)(!1),f.useContext(x).location}function C(){S()||Object(l.e)(!1);var e=f.useContext(O),t=e.basename,n=e.navigator,r=f.useContext(_).matches,i=T().pathname,a=JSON.stringify(Object(l.d)(r).map(function(e){return e.pathnameBase})),o=f.useRef(!1);return f.useEffect(function(){o.current=!0}),f.useCallback(function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=Object(l.p)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:Object(l.l)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)},[t,n,a,i])}function A(e,t){var n=(void 0===t?{}:t).relative,r=f.useContext(_).matches,i=T().pathname,a=JSON.stringify(Object(l.d)(r).map(function(e){return e.pathnameBase}));return f.useMemo(function(){return Object(l.p)(e,JSON.parse(a),i,"path"===n)},[e,a,i,n])}function N(){var e=function(){var e,t=f.useContext(j),n=U(R.UseRouteError),r=V(R.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Object(l.k)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:r},n):null,null)}var D,R,L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={location:e.location,error:e.error},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?f.createElement(_.Provider,{value:this.props.routeContext},f.createElement(j.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),t}(f.Component);function P(e){var t=e.routeContext,n=e.match,r=e.children,i=f.useContext(b);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(_.Provider,{value:t},r)}function M(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex(function(e){return e.route.id&&(null==i?void 0:i[e.route.id])});a>=0||Object(l.e)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight(function(e,a,o){var u=a.route.id?null==i?void 0:i[a.route.id]:null,s=null;n&&(s=a.route.ErrorBoundary?f.createElement(a.route.ErrorBoundary,null):a.route.errorElement?a.route.errorElement:f.createElement(N,null));var c=t.concat(r.slice(0,o+1)),l=function(){var t=e;return u?t=s:a.route.Component?t=f.createElement(a.route.Component,null):a.route.element&&(t=a.route.element),f.createElement(P,{match:a,routeContext:{outlet:e,matches:c},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?f.createElement(L,{location:n.location,component:s,error:u,children:l(),routeContext:{outlet:null,matches:c}}):l()},null)}function F(e){var t=f.useContext(b);return t||Object(l.e)(!1),t}function U(e){var t=f.useContext(k);return t||Object(l.e)(!1),t}function V(e){var t=function(e){var t=f.useContext(_);return t||Object(l.e)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Object(l.e)(!1),n.route.id}function z(){return U(R.UseNavigation).navigation}function B(){var e=U(R.UseMatches),t=e.matches,n=e.loaderData;return f.useMemo(function(){return t.map(function(e){var t=e.pathname,r=e.params;return{id:e.route.id,pathname:t,params:r,data:n[e.route.id],handle:e.route.handle}})},[t,n])}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(D||(D={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(R||(R={}));var q=0;function G(e){var t=F(D.UseBlocker).router,n=U(R.UseBlocker),r=f.useState(function(){return String(++q)}),i=Object(c.a)(r,1)[0],a=f.useCallback(function(t){return"function"===typeof e?!!e(t):!!e},[e]),o=t.getBlocker(i,a);return f.useEffect(function(){return function(){return t.deleteBlocker(i)}},[t,i]),n.blockers.get(i)||o}var K;function W(e){Object(l.e)(!1)}function H(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?l.b.Pop:o,s=e.navigator,c=e.static,h=void 0!==c&&c;S()&&Object(l.e)(!1);var d=n.replace(/^\/*/,"/"),p=f.useMemo(function(){return{basename:d,navigator:s,static:h}},[d,s,h]);"string"===typeof a&&(a=Object(l.o)(a));var v=a,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,_=v.state,j=void 0===_?null:_,E=v.key,I=void 0===E?"default":E,T=f.useMemo(function(){var e=Object(l.q)(y,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:j,key:I},navigationType:u}},[d,y,b,w,j,I,u]);return null==T?null:f.createElement(O.Provider,{value:p},f.createElement(x.Provider,{children:i,value:T}))}function Q(e){var t=e.children,n=e.location,i=f.useContext(b);return function(e,t){S()||Object(l.e)(!1);var n,r=f.useContext(O).navigator,i=f.useContext(k),a=f.useContext(_).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,T());if(t){var h,d="string"===typeof t?Object(l.o)(t):t;"/"===s||null!=(h=d.pathname)&&h.startsWith(s)||Object(l.e)(!1),n=d}else n=c;var p=n.pathname||"/",v="/"===s?p:p.slice(s.length)||"/",m=Object(l.n)(e,{pathname:v}),y=M(m&&m.map(function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Object(l.l)([s,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Object(l.l)([s,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})}),a,i||void 0);return t&&y?f.createElement(x.Provider,{value:{location:E({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:l.b.Pop}},y):y}(i&&!t?i.router.routes:function e(t,n){void 0===n&&(n=[]);var i=[];f.Children.forEach(t,function(t,a){if(f.isValidElement(t)){var o=[].concat(Object(r.a)(n),[a]);if(t.type!==f.Fragment){t.type!==W&&Object(l.e)(!1),t.props.index&&t.props.children&&Object(l.e)(!1);var u={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(u.children=e(t.props.children,o)),i.push(u)}else i.push.apply(i,e(t.props.children,o))}});return i}(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(K||(K={}));var $=new Promise(function(){});f.Component;function Y(e){return Boolean(e.ErrorBoundary)||Boolean(e.errorElement)}},function(e,t,n){"use strict";var r=n(31);var i=n(32);function a(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||Object(i.a)()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";n.d(t,"a",function(){return X}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return Z}),n.d(t,"d",function(){return W}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return w}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return pe}),n.d(t,"k",function(){return ee}),n.d(t,"l",function(){return Q}),n.d(t,"m",function(){return B}),n.d(t,"n",function(){return N}),n.d(t,"o",function(){return S}),n.d(t,"p",function(){return H}),n.d(t,"q",function(){return G});var r,i=n(0),a=n(4),o=(n(3),n(1)),u=n(9),s=n(6),c=n(8),l=n(25),f=n(12),h=n(34),d=n(14);function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,a,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(b),s(b,u,"Generator"),s(b,a,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var g,b="popstate";function k(e){void 0===e&&(e={});var t,n=e,i=n.initialEntries,a=void 0===i?["/"]:i,o=n.initialIndex,u=n.v5Compat,s=void 0!==u&&u;t=a.map(function(e,t){return p(e,"string"===typeof e?null:e.state,0===t?"default":void 0)});var c=h(null==o?t.length-1:o),l=r.Pop,f=null;function h(e){return Math.min(Math.max(e,0),t.length-1)}function d(){return t[c]}function p(e,n,r){void 0===n&&(n=null);var i=E(t?d().pathname:"/",e,n,r);return _("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function v(e){return"string"===typeof e?e:I(e)}return{get index(){return c},get action(){return l},get location(){return d()},createHref:v,createURL:function(e){return new URL(v(e),"http://localhost")},encodeLocation:function(e){var t="string"===typeof e?S(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push:function(e,n){l=r.Push;var i=p(e,n);c+=1,t.splice(c,t.length,i),s&&f&&f({action:l,location:i,delta:1})},replace:function(e,n){l=r.Replace;var i=p(e,n);t[c]=i,s&&f&&f({action:l,location:i,delta:0})},go:function(e){l=r.Pop;var n=h(c+e),i=t[n];c=n,f&&f({action:l,location:i,delta:e})},listen:function(e){return f=e,function(){f=null}}}}function w(e){return void 0===e&&(e={}),T(function(e,t){var n=e.location;return E("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:I(t)},null,e)}function O(e){return void 0===e&&(e={}),T(function(e,t){var n=S(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return E("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:I(t))},function(e,t){_("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t,n,r){return void 0===n&&(n=null),y({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function I(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function S(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=r.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=r.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:I(e);return x(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(y({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(b,v),h=e,function(){u.removeEventListener(b,v),h=null}},createHref:function(e){return t(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var i=E(g.location,e,t);n&&n(i,e);var a=j(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=r.Replace;var i=E(g.location,e,t);n&&n(i,e);var a=j(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));var C=new Set(["lazy","caseSensitive","path","id","index","children"]);function A(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(function(e,i){var a=[].concat(Object(d.a)(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(x(!0!==e.index||!e.children,"Cannot specify children on an index route"),x(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var u=y({},e,{hasErrorBoundary:t(e),id:o});return r[o]=u,u}var s=y({},e,{id:o,hasErrorBoundary:t(e),children:void 0});return r[o]=s,e.children&&(s.children=A(e.children,t,a,r)),s})}function N(e,t,n){void 0===n&&(n="/");var r=G(("string"===typeof t?S(t):t).pathname||"/",n);if(null==r)return null;var i=function e(t,n,r,i){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===i&&(i="");var a=function(t,a,o){var u={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};u.relativePath.startsWith("/")&&(x(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(i.length));var s=Q([i,u.relativePath]),c=r.concat(u);t.children&&t.children.length>0&&(x(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),e(t.children,n,c,s)),(null!=t.path||t.index)&&n.push({path:s,score:V(s,t.index),routesMeta:c})};t.forEach(function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,i=v(function e(t){var n=t.split("/");if(0===n.length)return[];var r=Object(h.a)(n),i=r[0],a=r.slice(1);var o=i.endsWith("?");var u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=e(a.join("/"));var c=[];c.push.apply(c,Object(d.a)(s.map(function(e){return""===e?u:[u,e].join("/")})));o&&c.push.apply(c,Object(d.a)(s));return c.map(function(e){return t.startsWith("/")&&""===e?"/":e})}(e.path));try{for(i.s();!(r=i.n()).done;){var o=r.value;a(e,t,o)}}catch(u){i.e(u)}finally{i.f()}}else a(e,t)});return n}(e);!function(e){e.sort(function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(function(e,n){return e===t[n]})?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(function(e){return e.childrenIndex}),t.routesMeta.map(function(e){return e.childrenIndex}))})}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=z(i[o],q(r));return a}var D=/^:\w+$/,R=3,L=2,P=1,M=10,F=-2,U=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(U)&&(r+=F),t&&(r+=L),n.filter(function(e){return!U(e)}).reduce(function(e,t){return e+(D.test(t)?R:""===t?P:M)},r)}function z(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=B({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Q([i,l.pathname]),pathnameBase:$(Q([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Q([i,l.pathnameBase]))}return a}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,function(e,t){return r.push(t),"/([^\\/]+)"});e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Object(f.a)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce(function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return _(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e},{}),pathname:u,pathnameBase:s,pattern:e}}function q(e){try{return decodeURI(e)}catch(t){return _(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function W(e){return e.filter(function(e,t){return 0===t||e.route.path&&e.route.path.length>0})}function H(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=S(e):(x(!(i=y({},e)).pathname||!i.pathname.includes("?"),K("?","pathname","search",i)),x(!i.pathname||!i.pathname.includes("#"),K("#","pathname","hash",i)),x(!i.search||!i.search.includes("#"),K("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?S(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(r,t):t,search:Y(a),hash:J(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Q=function(e){return e.join("/").replace(/\/\/+/g,"/")},$=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Y=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},J=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},X=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(Object(l.a)(Error));var Z=function e(t,n,r,i){Object(o.a)(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r};function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["post","put","patch","delete"],ne=new Set(te),re=["get"].concat(te),ie=new Set(re),ae=new Set([301,302,303,307,308]),oe=new Set([307,308]),ue={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},se={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ce={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,he=!fe,de=function(e){return Boolean(e.hasErrorBoundary)};function pe(e){x(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t,n=e.detectErrorBoundary||de,o={},u=A(e.routes,n,void 0,o),s=y({v7_normalizeFormMethod:!1},e.future),c=null,l=new Set,h=null,m=null,b=null,k=null!=e.hydrationData,w=N(u,e.history.location,e.basename),O=null;if(null==w){var j=Ae(404,{pathname:e.history.location.pathname}),I=Ce(u),S=I.matches,T=I.route;w=S,O=Object(a.a)({},T.id,j)}var C,D,R=!w.some(function(e){return e.route.lazy})&&(!w.some(function(e){return e.route.loader})||null!=e.hydrationData),L={historyAction:e.history.action,location:e.history.location,matches:w,initialized:R,navigation:ue,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},P=r.Pop,M=!1,F=!1,U=!1,V=[],z=[],B=new Map,q=0,K=-1,W=new Map,H=new Set,Q=new Map,$=new Map,Y=new Map,J=!1;function X(e){L=y({},L,e),l.forEach(function(e){return e(L)})}function Z(n,i){var a,o,s,c=null!=L.actionData&&null!=L.navigation.formMethod&&Ve(L.navigation.formMethod)&&"loading"===L.navigation.state&&!0!==(null==(a=n.state)?void 0:a._isRedirect);s=i.actionData?Object.keys(i.actionData).length>0?i.actionData:null:c?L.actionData:null;var l,h=i.loaderData?Se(L.loaderData,i.loaderData,i.matches||[],i.errors):L.loaderData,d=v(Y);try{for(d.s();!(l=d.n()).done;){Qe(Object(f.a)(l.value,1)[0])}}catch(m){d.e(m)}finally{d.f()}var p=!0===M||null!=L.navigation.formMethod&&Ve(L.navigation.formMethod)&&!0!==(null==(o=n.state)?void 0:o._isRedirect);t&&(u=t,t=void 0),X(y({},i,{actionData:s,loaderData:h,historyAction:P,location:n,initialized:!0,navigation:ue,revalidation:"idle",restoreScrollPosition:Ze(n,i.matches||L.matches),preventScrollReset:p,blockers:new Map(L.blockers)})),F||P===r.Pop||(P===r.Push?e.history.push(n,n.state):P===r.Replace&&e.history.replace(n,n.state)),P=r.Pop,M=!1,F=!1,U=!1,V=[],z=[]}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(i.a)(p().mark(function t(n,i){var a,o,u,c,l,f,h,d,v,m;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(a=ve(n,s,i),o=a.path,u=a.submission,c=a.error,l=L.location,f=y({},f=E(L.location,o,i&&i.state),e.history.encodeLocation(f)),h=i&&null!=i.replace?i.replace:void 0,d=r.Push,!0===h?d=r.Replace:!1===h||null!=u&&Ve(u.formMethod)&&u.formAction===L.location.pathname+L.location.search&&(d=r.Replace),v=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,!(m=Ye({currentLocation:l,nextLocation:f,historyAction:d}))){t.next=15;break}return $e(m,{state:"blocked",location:f,proceed:function(){$e(m,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),ee(n,i)},reset:function(){Qe(m),X({blockers:new Map(L.blockers)})}}),t.abrupt("return");case 15:return t.next=17,ne(d,f,{submission:u,pendingError:c,preventScrollReset:v,replace:i&&i.replace});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(i.a)(p().mark(function n(r,i,o){var s,c,l,f,h,d,v,m,g,b,k,w,O,x,_,j;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(D&&D.abort(),D=null,P=r,F=!0===(o&&o.startUninterruptedRevalidation),Xe(L.location,L.matches),M=!0===(o&&o.preventScrollReset),s=t||u,c=o&&o.overrideNavigation,l=N(s,i,e.basename)){n.next=15;break}return f=Ae(404,{pathname:i.pathname}),h=Ce(s),d=h.matches,v=h.route,Je(),Z(i,{matches:d,loaderData:{},errors:Object(a.a)({},v.id,f)}),n.abrupt("return");case 15:if(p=L.location,E=i,p.pathname!==E.pathname||p.search!==E.search||p.hash===E.hash||o&&o.submission&&Ve(o.submission.formMethod)){n.next=18;break}return Z(i,{matches:l}),n.abrupt("return");case 18:if(D=new AbortController,m=_e(e.history,i,D.signal,o&&o.submission),!o||!o.pendingError){n.next=24;break}b=Object(a.a)({},Te(l).route.id,o.pendingError),n.next=35;break;case 24:if(!(o&&o.submission&&Ve(o.submission.formMethod))){n.next=35;break}return n.next=27,ie(m,i,o.submission,l,{replace:o.replace});case 27:if(!(k=n.sent).shortCircuited){n.next=30;break}return n.abrupt("return");case 30:g=k.pendingActionData,b=k.pendingActionError,w=y({state:"loading",location:i},o.submission),c=w,m=new Request(m.url,{signal:m.signal});case 35:return n.next=37,pe(m,i,l,c,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,g,b);case 37:if(O=n.sent,x=O.shortCircuited,_=O.loaderData,j=O.errors,!x){n.next=43;break}return n.abrupt("return");case 43:D=null,Z(i,y({matches:l},g?{actionData:g}:{},{loaderData:_,errors:j}));case 45:case"end":return n.stop()}var p,E},n)}))).apply(this,arguments)}function ie(e,t,n,r,i){return ae.apply(this,arguments)}function ae(){return(ae=Object(i.a)(p().mark(function e(t,i,u,s,c){var l,f,h,d;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(De(),X({navigation:y({state:"submitting",location:i},u)}),(f=He(s,i)).route.action||f.route.lazy){e.next=8;break}l={type:g.error,error:Ae(405,{method:t.method,pathname:i.pathname,routeId:f.route.id})},e.next=13;break;case 8:return e.next=10,Oe("action",t,f,s,o,n,C.basename);case 10:if(l=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!Pe(l)){e.next=18;break}return h=c&&null!=c.replace?c.replace:l.location===L.location.pathname+L.location.search,e.next=17,we(L,l,{submission:u,replace:h});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!Le(l)){e.next=22;break}return d=Te(s,f.route.id),!0!==(c&&c.replace)&&(P=r.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:Object(a.a)({},d.route.id,l.error)});case 22:if(!Re(l)){e.next=24;break}throw Ae(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:Object(a.a)({},f.route.id,l.data)});case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e,t,n,r,i,a,o,u,s){return me.apply(this,arguments)}function me(){return(me=Object(i.a)(p().mark(function n(r,i,a,o,s,c,l,h,d){var v,m,g,b,k,w,O,x,_,j,E,I,S,T,C,A,N,R;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((v=o)||(m=y({state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s),v=m),g=s||c?s||c:v.formMethod&&v.formAction&&v.formData&&v.formEncType?{formMethod:v.formMethod,formAction:v.formAction,formData:v.formData,formEncType:v.formEncType}:void 0,b=t||u,k=ye(e.history,L,a,g,i,U,V,z,Q,b,e.basename,h,d),w=Object(f.a)(k,2),O=w[0],x=w[1],Je(function(e){return!(a&&a.some(function(t){return t.route.id===e}))||O&&O.some(function(t){return t.route.id===e})}),0!==O.length||0!==x.length){n.next=9;break}return Z(i,y({matches:a,loaderData:{},errors:d||null},h?{actionData:h}:{})),n.abrupt("return",{shortCircuited:!0});case 9:return F||(x.forEach(function(e){var t=L.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};L.fetchers.set(e.key,n)}),_=h||L.actionData,X(y({navigation:v},_?0===Object.keys(_).length?{actionData:null}:{actionData:_}:{},x.length>0?{fetchers:new Map(L.fetchers)}:{}))),K=++q,x.forEach(function(e){return B.set(e.key,D)}),n.next=14,je(L.matches,a,O,x,r);case 14:if(j=n.sent,E=j.results,I=j.loaderResults,S=j.fetcherResults,!r.signal.aborted){n.next=20;break}return n.abrupt("return",{shortCircuited:!0});case 20:if(x.forEach(function(e){return B.delete(e.key)}),!(T=Ne(E))){n.next=26;break}return n.next=25,we(L,T,{replace:l});case 25:return n.abrupt("return",{shortCircuited:!0});case 26:return C=Ie(L,a,O,I,d,x,S,$),A=C.loaderData,N=C.errors,$.forEach(function(e,t){e.subscribe(function(n){(n||e.done)&&$.delete(t)})}),Ge(),R=Ke(K),n.abrupt("return",y({loaderData:A,errors:N},R||x.length>0?{fetchers:new Map(L.fetchers)}:{}));case 31:case"end":return n.stop()}},n)}))).apply(this,arguments)}function ge(e){return L.fetchers.get(e)||se}function be(){return(be=Object(i.a)(p().mark(function r(i,s,c,l,h,d){var v,m,g,b,k,w,O,_,j,E,I,S,T,A,R,M,F,G,Y,J,ee,te,ne,re,ie,ae,oe;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(De(),Q.delete(i),l.route.action||l.route.lazy){r.next=6;break}return v=Ae(405,{method:d.formMethod,pathname:c,routeId:s}),Me(i,s,v),r.abrupt("return");case 6:return m=L.fetchers.get(i),g=y({state:"submitting"},d,{data:m&&m.data," _hasFetcherDoneAnything ":!0}),L.fetchers.set(i,g),X({fetchers:new Map(L.fetchers)}),b=new AbortController,k=_e(e.history,c,b.signal,d),B.set(i,b),r.next=15,Oe("action",k,l,h,o,n,C.basename);case 15:if(w=r.sent,!k.signal.aborted){r.next=19;break}return B.get(i)===b&&B.delete(i),r.abrupt("return");case 19:if(!Pe(w)){r.next=26;break}return B.delete(i),H.add(i),O=y({state:"loading"},d,{data:void 0," _hasFetcherDoneAnything ":!0}),L.fetchers.set(i,O),X({fetchers:new Map(L.fetchers)}),r.abrupt("return",we(L,w,{submission:d,isFetchActionRedirect:!0}));case 26:if(!Le(w)){r.next=29;break}return Me(i,s,w.error),r.abrupt("return");case 29:if(!Re(w)){r.next=31;break}throw Ae(400,{type:"defer-action"});case 31:return _=L.navigation.location||L.location,j=_e(e.history,_,b.signal),E=t||u,x(I="idle"!==L.navigation.state?N(E,L.navigation.location,e.basename):L.matches,"Didn't find any matches after fetcher action"),S=++q,W.set(i,S),T=y({state:"loading",data:w.data},d,{" _hasFetcherDoneAnything ":!0}),L.fetchers.set(i,T),A=ye(e.history,L,I,d,_,U,V,z,Q,E,e.basename,Object(a.a)({},l.route.id,w.data),void 0),R=Object(f.a)(A,2),M=R[0],(F=R[1]).filter(function(e){return e.key!==i}).forEach(function(e){var t=e.key,n=L.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};L.fetchers.set(t,r),B.set(t,b)}),X({fetchers:new Map(L.fetchers)}),r.next=45,je(L.matches,I,M,F,j);case 45:if(G=r.sent,Y=G.results,J=G.loaderResults,ee=G.fetcherResults,!b.signal.aborted){r.next=51;break}return r.abrupt("return");case 51:if(W.delete(i),B.delete(i),F.forEach(function(e){return B.delete(e.key)}),!(te=Ne(Y))){r.next=57;break}return r.abrupt("return",we(L,te));case 57:ne=Ie(L,L.matches,M,J,void 0,F,ee,$),re=ne.loaderData,ie=ne.errors,ae={state:"idle",data:w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},L.fetchers.set(i,ae),oe=Ke(S),"loading"===L.navigation.state&&S>K?(x(P,"Expected pending action"),D&&D.abort(),Z(L.navigation.location,{matches:I,loaderData:re,errors:ie,fetchers:new Map(L.fetchers)})):(X(y({errors:ie,loaderData:Se(L.loaderData,re,I,ie)},oe?{fetchers:new Map(L.fetchers)}:{})),U=!1);case 62:case"end":return r.stop()}},r)}))).apply(this,arguments)}function ke(){return(ke=Object(i.a)(p().mark(function t(r,i,u,s,c,l){var f,h,d,v,m,g,b;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f=L.fetchers.get(r),h=y({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l,{data:f&&f.data," _hasFetcherDoneAnything ":!0}),L.fetchers.set(r,h),X({fetchers:new Map(L.fetchers)}),d=new AbortController,v=_e(e.history,u,d.signal),B.set(r,d),t.next=9,Oe("loader",v,s,c,o,n,C.basename);case 9:if(!Re(m=t.sent)){t.next=17;break}return t.next=13,qe(m,v.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=m;case 16:m=t.t0;case 17:if(B.get(r)===d&&B.delete(r),!v.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!Pe(m)){t.next=24;break}return t.next=23,we(L,m);case 23:return t.abrupt("return");case 24:if(!Le(m)){t.next=29;break}return g=Te(L.matches,i),L.fetchers.delete(r),X({fetchers:new Map(L.fetchers),errors:Object(a.a)({},g.route.id,m.error)}),t.abrupt("return");case 29:x(!Re(m),"Unhandled fetcher deferred data"),b={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},L.fetchers.set(r,b),X({fetchers:new Map(L.fetchers)});case 33:case"end":return t.stop()}},t)}))).apply(this,arguments)}function we(e,t,n){return xe.apply(this,arguments)}function xe(){return(xe=Object(i.a)(p().mark(function t(n,i,a){var o,u,s,c,l,f,h,d,v,m,g,b,k,w;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(u=void 0===a?{}:a).submission,c=u.replace,l=u.isFetchActionRedirect,i.revalidate&&(U=!0),x(f=E(n.location,i.location,y({_isRedirect:!0},l?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!le.test(i.location)||!fe||"undefined"===typeof(null==(o=window)?void 0:o.location)){t.next=10;break}if(h=e.history.createURL(i.location),d=null==G(h.pathname,e.basename||"/"),window.location.origin===h.origin&&!d){t.next=10;break}return c?window.location.replace(i.location):window.location.assign(i.location),t.abrupt("return");case 10:if(D=null,v=!0===c?r.Replace:r.Push,m=n.navigation,g=m.formMethod,b=m.formAction,k=m.formEncType,w=m.formData,!s&&g&&b&&w&&k&&(s={formMethod:g,formAction:b,formEncType:k,formData:w}),!(oe.has(i.status)&&s&&Ve(s.formMethod))){t.next=19;break}return t.next=17,ne(v,f,{submission:y({},s,{formAction:i.location}),preventScrollReset:M});case 17:t.next=26;break;case 19:if(!l){t.next=24;break}return t.next=22,ne(v,f,{overrideNavigation:{state:"loading",location:f,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:s,preventScrollReset:M});case 22:t.next=26;break;case 24:return t.next=26,ne(v,f,{overrideNavigation:{state:"loading",location:f,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:M});case 26:case"end":return t.stop()}},t)}))).apply(this,arguments)}function je(e,t,n,r,i){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(i.a)(p().mark(function t(r,i,a,u,s){var c,l,f;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(Object(d.a)(a.map(function(e){return Oe("loader",s,e,i,o,n,C.basename)})),Object(d.a)(u.map(function(t){return t.matches&&t.match?Oe("loader",_e(e.history,t.path,s.signal),t.match,t.matches,o,n,C.basename):{type:g.error,error:Ae(404,{pathname:t.path})}}))));case 2:return c=t.sent,l=c.slice(0,a.length),f=c.slice(a.length),t.next=7,Promise.all([ze(r,a,l,s.signal,!1,L.loaderData),ze(r,u.map(function(e){return e.match}),f,s.signal,!0)]);case 7:return t.abrupt("return",{results:c,loaderResults:l,fetcherResults:f});case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function De(){var e;U=!0,(e=V).push.apply(e,Object(d.a)(Je())),Q.forEach(function(e,t){B.has(t)&&(z.push(t),Ue(t))})}function Me(e,t,n){var r=Te(L.matches,t);Fe(e),X({errors:Object(a.a)({},r.route.id,n),fetchers:new Map(L.fetchers)})}function Fe(e){B.has(e)&&Ue(e),Q.delete(e),W.delete(e),H.delete(e),L.fetchers.delete(e)}function Ue(e){var t=B.get(e);x(t,"Expected fetch controller: "+e),t.abort(),B.delete(e)}function Be(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:ge(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};L.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Ge(){var e,t=[],n=v(H);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=L.fetchers.get(r);x(i,"Expected fetcher: "+r),"loading"===i.state&&(H.delete(r),t.push(r))}}catch(a){n.e(a)}finally{n.f()}Be(t)}function Ke(e){var t,n=[],r=v(W);try{for(r.s();!(t=r.n()).done;){var i=Object(f.a)(t.value,2),a=i[0];if(i[1]<e){var o=L.fetchers.get(a);x(o,"Expected fetcher: "+a),"loading"===o.state&&(Ue(a),W.delete(a),n.push(a))}}}catch(u){r.e(u)}finally{r.f()}return Be(n),n.length>0}function Qe(e){L.blockers.delete(e),Y.delete(e)}function $e(e,t){var n=L.blockers.get(e)||ce;x("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),L.blockers.set(e,t),X({blockers:new Map(L.blockers)})}function Ye(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==Y.size){Y.size>1&&_(!1,"A router only supports one blocker at a time");var i=Array.from(Y.entries()),a=Object(f.a)(i[i.length-1],2),o=a[0],u=a[1],s=L.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Je(e){var t=[];return $.forEach(function(n,r){e&&!e(r)||(n.cancel(),t.push(r),$.delete(r))}),t}function Xe(e,t){if(h&&m&&b){var n=t.map(function(e){return We(e,L.loaderData)}),r=m(e,n)||e.key;h[r]=b()}}function Ze(e,t){if(h&&m&&b){var n=t.map(function(e){return We(e,L.loaderData)}),r=m(e,n)||e.key,i=h[r];if("number"===typeof i)return i}return null}return C={get basename(){return e.basename},get state(){return L},get routes(){return u},initialize:function(){return c=e.history.listen(function(t){var n=t.action,r=t.location,i=t.delta;if(!J){_(0===Y.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Ye({currentLocation:L.location,nextLocation:r,historyAction:n});return a&&null!=i?(J=!0,e.history.go(-1*i),void $e(a,{state:"blocked",location:r,proceed:function(){$e(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){Qe(a),X({blockers:new Map(C.state.blockers)})}})):ne(n,r)}J=!1}),L.initialized||ne(r.Pop,L.location),C},subscribe:function(e){return l.add(e),function(){return l.delete(e)}},enableScrollRestoration:function(e,t,n){if(h=e,b=t,m=n||function(e){return e.key},!k&&L.navigation===ue){k=!0;var r=Ze(L.location,L.matches);null!=r&&X({restoreScrollPosition:r})}return function(){h=null,b=null,m=null}},navigate:ee,fetch:function(n,r,i,a){if(he)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(n)&&Ue(n);var o=N(t||u,i,e.basename);if(o){var c=ve(i,s,a,!0),l=c.path,f=c.submission,h=He(o,l);M=!0===(a&&a.preventScrollReset),f&&Ve(f.formMethod)?function(e,t,n,r,i,a){be.apply(this,arguments)}(n,r,l,h,o,f):(Q.set(n,{routeId:r,path:l}),function(e,t,n,r,i,a){ke.apply(this,arguments)}(n,r,l,h,o,f))}else Me(n,r,Ae(404,{pathname:i}))},revalidate:function(){De(),X({revalidation:"loading"}),"submitting"!==L.navigation.state&&("idle"!==L.navigation.state?ne(P||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation}):ne(L.historyAction,L.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:ge,deleteFetcher:Fe,dispose:function(){c&&c(),l.clear(),D&&D.abort(),L.fetchers.forEach(function(e,t){return Fe(t)}),L.blockers.forEach(function(e,t){return Qe(t)})},getBlocker:function(e,t){var n=L.blockers.get(e)||ce;return Y.get(e)!==t&&Y.set(e,t),n},deleteBlocker:Qe,_internalFetchControllers:B,_internalActiveDeferreds:$,_internalSetRoutes:function(e){t=e}}}Symbol("deferred");function ve(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?e:I(e);if(!n||!function(e){return null!=e&&"formData"in e}(n))return{path:a};if(n.formMethod&&!Ue(n.formMethod))return{path:a,error:Ae(405,{method:n.formMethod})};if(n.formData){var o=n.formMethod||"get";if(Ve((i={formMethod:t.v7_normalizeFormMethod?o.toUpperCase():o.toLowerCase(),formAction:De(a),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData}).formMethod))return{path:a,submission:i}}var u=S(a),s=je(n.formData);return r&&u.search&&Ke(u.search)&&s.append("index",""),u.search="?"+s,{path:I(u),submission:i}}function me(e,t){var n=e;if(t){var r=e.findIndex(function(e){return e.route.id===t});r>=0&&(n=e.slice(0,r))}return n}function ye(e,t,n,r,i,a,o,u,s,c,l,f,h){var d=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),m=a||p.toString()===v.toString()||p.search!==v.search,g=h?Object.keys(h)[0]:void 0,b=me(n,g).filter(function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some(function(t){return t===e.route.id}))return!0;var i=t.matches[n],a=e;return be(e,y({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:a.params},r,{actionResult:d,defaultShouldRevalidate:m||ge(i,a)}))}),k=[];return s.forEach(function(e,i){if(n.some(function(t){return t.route.id===e.routeId})){var a=N(c,e.path,l);if(a){var o=He(a,e.path);if(u.includes(i))k.push(y({key:i,matches:a,match:o},e));else be(o,y({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:m}))&&k.push(y({key:i,matches:a,match:o},e))}else k.push(y({key:i},e,{matches:null,match:null}))}}),[b,k]}function ge(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function be(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function ke(e,t,n){return we.apply(this,arguments)}function we(){return(we=Object(i.a)(p().mark(function e(t,n,r){var i,a,o,u,s,c;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(u in x(a=r[t.id],"No route found in manifest"),o={},i)s=a[u],_(!(c=void 0!==s&&"hasErrorBoundary"!==u),'Route "'+a.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+u+'" will be ignored.'),c||C.has(u)||(o[u]=i[u]);Object.assign(a,o),Object.assign(a,{hasErrorBoundary:n(y({},a)),lazy:void 0});case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oe(e,t,n,r,i,a,o,u,s,c){return xe.apply(this,arguments)}function xe(){return(xe=Object(i.a)(p().mark(function e(t,n,r,i,a,o,u,s,c,l){var f,h,d,v,m,y,b,k,w,O,_,j,E,S,T,C,A,N,D;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u="/"),void 0===s&&(s=!1),void 0===c&&(c=!1),v=function(e){var t,i=new Promise(function(e,n){return t=n});return d=function(){return t()},n.signal.addEventListener("abort",d),Promise.race([e({request:n,params:r.params,context:l}),i])},e.prev=4,m=r.route[t],!r.route.lazy){e.next=30;break}if(!m){e.next=14;break}return e.next=10,Promise.all([v(m),ke(r.route,o,a)]);case 10:y=e.sent,h=y[0],e.next=28;break;case 14:return e.next=16,ke(r.route,o,a);case 16:if(!(m=r.route[t])){e.next=23;break}return e.next=20,v(m);case 20:h=e.sent,e.next=28;break;case 23:if("action"!==t){e.next=27;break}throw Ae(405,{method:n.method,pathname:new URL(n.url).pathname,routeId:r.route.id});case 27:return e.abrupt("return",{type:g.data,data:void 0});case 28:e.next=34;break;case 30:return x(m,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=33,v(m);case 33:h=e.sent;case 34:x(void 0!==h,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(4),f=g.error,h=e.t0;case 41:return e.prev=41,d&&n.signal.removeEventListener("abort",d),e.finish(41);case 44:if(!Fe(h)){e.next=69;break}if(b=h.status,!ae.has(b)){e.next=54;break}if(x(k=h.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),le.test(k)?s||(E=new URL(n.url),S=k.startsWith("//")?new URL(E.protocol+k):new URL(k),T=null!=G(S.pathname,u),S.origin===E.origin&&T&&(k=S.pathname+S.search+S.hash)):(w=i.slice(0,i.indexOf(r)+1),O=W(w).map(function(e){return e.pathnameBase}),x(I(_=H(k,O,new URL(n.url).pathname)),"Unable to resolve redirect location: "+k),u&&(j=_.pathname,_.pathname="/"===j?u:Q([u,j])),k=I(_)),!s){e.next=53;break}throw h.headers.set("Location",k),h;case 53:return e.abrupt("return",{type:g.redirect,status:b,location:k,revalidate:null!==h.headers.get("X-Remix-Revalidate")});case 54:if(!c){e.next=56;break}throw{type:f||g.data,response:h};case 56:if(!(A=h.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(A)){e.next=63;break}return e.next=60,h.json();case 60:C=e.sent,e.next=66;break;case 63:return e.next=65,h.text();case 65:C=e.sent;case 66:if(f!==g.error){e.next=68;break}return e.abrupt("return",{type:f,error:new Z(b,h.statusText,C),headers:h.headers});case 68:return e.abrupt("return",{type:g.data,data:C,statusCode:h.status,headers:h.headers});case 69:if(f!==g.error){e.next=71;break}return e.abrupt("return",{type:f,error:h});case 71:if(!Me(h)){e.next=73;break}return e.abrupt("return",{type:g.deferred,deferredData:h,statusCode:null==(N=h.init)?void 0:N.status,headers:(null==(D=h.init)?void 0:D.headers)&&new Headers(h.init.headers)});case 73:return e.abrupt("return",{type:g.data,data:h});case 74:case"end":return e.stop()}},e,null,[[4,37,41,44]])}))).apply(this,arguments)}function _e(e,t,n,r){var i=e.createURL(De(t)).toString(),a={signal:n};if(r&&Ve(r.formMethod)){var o=r.formMethod,u=r.formEncType,s=r.formData;a.method=o.toUpperCase(),a.body="application/x-www-form-urlencoded"===u?je(s):s}return new Request(i,a)}function je(e){var t,n=new URLSearchParams,r=v(e.entries());try{for(r.s();!(t=r.n()).done;){var i=Object(f.a)(t.value,2),a=i[0],o=i[1];n.append(a,o instanceof File?o.name:o)}}catch(u){r.e(u)}finally{r.f()}return n}function Ee(e,t,n,r,i){var a,o={},u=null,s=!1,c={};return n.forEach(function(n,l){var f=t[l].route.id;if(x(!Pe(n),"Cannot handle redirect results in processLoaderData"),Le(n)){var h=Te(e,f),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(u=u||{})[h.route.id]&&(u[h.route.id]=d),o[f]=void 0,s||(s=!0,a=ee(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Re(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||s||(a=n.statusCode),n.headers&&(c[f]=n.headers)}),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function Ie(e,t,n,r,i,o,u,s){for(var c=Ee(t,n,r,i,s),l=c.loaderData,f=c.errors,h=0;h<o.length;h++){var d=o[h],p=d.key,v=d.match;x(void 0!==u&&void 0!==u[h],"Did not find corresponding fetcher result");var m=u[h];if(Le(m)){var g=Te(e.matches,null==v?void 0:v.route.id);f&&f[g.route.id]||(f=y({},f,Object(a.a)({},g.route.id,m.error))),e.fetchers.delete(p)}else if(Pe(m))x(!1,"Unhandled fetcher revalidation redirect");else if(Re(m))x(!1,"Unhandled fetcher deferred data");else{var b={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(p,b)}}return{loaderData:l,errors:f}}function Se(e,t,n,r){var i,a=y({},t),o=v(n);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&u.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(c){o.e(c)}finally{o.f()}return a}function Te(e,t){return(t?e.slice(0,e.findIndex(function(e){return e.route.id===t})+1):Object(d.a)(e)).reverse().find(function(e){return!0===e.route.hasErrorBoundary})||e[0]}function Ce(e){var t=e.find(function(e){return e.index||!e.path||"/"===e.path})||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ae(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",a&&r&&i?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o&&(s="defer() is not supported in actions")):403===e?(u="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new Z(e||500,u,new Error(s),!0)}function Ne(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Pe(n))return n}}function De(e){return I(y({},"string"===typeof e?S(e):e,{hash:""}))}function Re(e){return e.type===g.deferred}function Le(e){return e.type===g.error}function Pe(e){return(e&&e.type)===g.redirect}function Me(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function Fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ue(e){return ie.has(e.toLowerCase())}function Ve(e){return ne.has(e.toLowerCase())}function ze(e,t,n,r,i,a){return Be.apply(this,arguments)}function Be(){return(Be=Object(i.a)(p().mark(function e(t,n,r,i,a,o){var u,s;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=p().mark(function e(u){var s,c,l,f;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r[u],c=n[u]){e.next=4;break}return e.abrupt("return","continue");case 4:if(l=t.find(function(e){return e.route.id===c.route.id}),f=null!=l&&!ge(l,c)&&void 0!==(o&&o[c.route.id]),!Re(s)||!a&&!f){e.next=9;break}return e.next=9,qe(s,i,a).then(function(e){e&&(r[u]=e||r[u])});case 9:case"end":return e.stop()}},e)}),s=0;case 2:if(!(s<r.length)){e.next=10;break}return e.delegateYield(u(s),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:s++,e.next=2;break;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qe(e,t,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(i.a)(p().mark(function e(t,n,r){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:g.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:g.error,error:e.t0});case 14:return e.abrupt("return",{type:g.data,data:t.deferredData.data});case 15:case"end":return e.stop()}},e,null,[[7,11]])}))).apply(this,arguments)}function Ke(e){return new URLSearchParams(e).getAll("index").some(function(e){return""===e})}function We(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function He(e,t){var n="string"===typeof t?S(t).search:t.search;if(e[e.length-1].route.index&&Ke(n||""))return e[e.length-1];var r=W(e);return r[r.length-1]}},function(e,t,n){"use strict";var r=n(33);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.r(t);var r,i,a=n(14),o=n(0),u=n(4),s=n(1),c=n(3),l=n(18),f=n(19),h=n(5),d=n(30),p=function(e,t){return t.some(function(t){return e instanceof t})};var v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap;var k={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return m.get(e);if("objectStoreNames"===t)return e.objectStoreNames||y.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return x(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_(this),n),x(v.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(e.apply(_(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_(this),t].concat(r));return y.set(a,t.sort?t.sort():[t]),x(a)}}function O(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&function(e){if(!m.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});m.set(e,t)}}(e),p(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,k):e)}function x(e){if(e instanceof IDBRequest)return function(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(x(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(function(t){t instanceof IDBCursor&&v.set(t,e)}).catch(function(){}),b.set(t,e),t}(e);if(g.has(e))return g.get(e);var t=O(e);return t!==e&&(g.set(e,t),b.set(t,e)),t}var _=function(e){return b.get(e)};function j(){j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),s(g,u,"Generator"),s(g,a,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var E,I,S=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],C=new Map;function A(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(C.get(t))return C.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=T.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||S.includes(n))){var a=function(){var e=Object(o.a)(j().mark(function e(t){var a,o,u,s,c,l,f=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return C.set(t,a),a}}}function N(){N=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new j(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),s(g,u,"Generator"),s(g,a,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function D(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}k=function(e){return Object(d.a)({},e,{get:function(t,n,r){return A(t,n)||e.get(t,n,r)},has:function(t,n){return!!A(t,n)||e.has(t,n)}})}(k),n.d(t,"SDK_VERSION",function(){return X}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return U}),n.d(t,"_addComponent",function(){return q}),n.d(t,"_addOrOverwriteComponent",function(){return G}),n.d(t,"_apps",function(){return z}),n.d(t,"_clearComponents",function(){return Q}),n.d(t,"_components",function(){return B}),n.d(t,"_getProvider",function(){return W}),n.d(t,"_registerComponent",function(){return K}),n.d(t,"_removeServiceInstance",function(){return H}),n.d(t,"deleteApp",function(){return ne}),n.d(t,"getApp",function(){return ee}),n.d(t,"getApps",function(){return te}),n.d(t,"initializeApp",function(){return Z}),n.d(t,"onLog",function(){return ae}),n.d(t,"registerVersion",function(){return ie}),n.d(t,"setLogLevel",function(){return oe}),n.d(t,"FirebaseError",function(){return h.c});var L=function(){function e(t){Object(s.a)(this,e),this.container=t}return Object(c.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var P="@firebase/app",M="0.9.7",F=new f.b("@firebase/app"),U="[DEFAULT]",V=(E={},Object(u.a)(E,P,"fire-core"),Object(u.a)(E,"@firebase/app-compat","fire-core-compat"),Object(u.a)(E,"@firebase/analytics","fire-analytics"),Object(u.a)(E,"@firebase/analytics-compat","fire-analytics-compat"),Object(u.a)(E,"@firebase/app-check","fire-app-check"),Object(u.a)(E,"@firebase/app-check-compat","fire-app-check-compat"),Object(u.a)(E,"@firebase/auth","fire-auth"),Object(u.a)(E,"@firebase/auth-compat","fire-auth-compat"),Object(u.a)(E,"@firebase/database","fire-rtdb"),Object(u.a)(E,"@firebase/database-compat","fire-rtdb-compat"),Object(u.a)(E,"@firebase/functions","fire-fn"),Object(u.a)(E,"@firebase/functions-compat","fire-fn-compat"),Object(u.a)(E,"@firebase/installations","fire-iid"),Object(u.a)(E,"@firebase/installations-compat","fire-iid-compat"),Object(u.a)(E,"@firebase/messaging","fire-fcm"),Object(u.a)(E,"@firebase/messaging-compat","fire-fcm-compat"),Object(u.a)(E,"@firebase/performance","fire-perf"),Object(u.a)(E,"@firebase/performance-compat","fire-perf-compat"),Object(u.a)(E,"@firebase/remote-config","fire-rc"),Object(u.a)(E,"@firebase/remote-config-compat","fire-rc-compat"),Object(u.a)(E,"@firebase/storage","fire-gcs"),Object(u.a)(E,"@firebase/storage-compat","fire-gcs-compat"),Object(u.a)(E,"@firebase/firestore","fire-fst"),Object(u.a)(E,"@firebase/firestore-compat","fire-fst-compat"),Object(u.a)(E,"fire-js","fire-js"),Object(u.a)(E,"firebase","fire-js-all"),E),z=new Map,B=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){F.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function G(e,t){e.container.addOrOverwriteComponent(t)}function K(e){var t=e.name;if(B.has(t))return F.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);var n,r=D(z.values());try{for(r.s();!(n=r.n()).done;){q(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function W(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;W(e,t).clearInstance(n)}function Q(){B.clear()}var $=(I={},Object(u.a)(I,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(u.a)(I,"bad-app-name","Illegal App name: '{$appName}"),Object(u.a)(I,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(u.a)(I,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(u.a)(I,"no-options","Need to provide options, when not being deployed to hosting via source."),Object(u.a)(I,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(u.a)(I,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(u.a)(I,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(I,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(I,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(I,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),I),Y=new h.b("app","Firebase",$),J=function(){function e(t,n,r){var i=this;Object(s.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l.a("app",function(){return i},"PUBLIC"))}return Object(c.a)(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Y.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),X="9.19.1";function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:U,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Y.create("bad-app-name",{appName:String(i)});if(n||(n=Object(h.l)()),!n)throw Y.create("no-options");var a=z.get(i);if(a){if(Object(h.i)(n,a.options)&&Object(h.i)(r,a.config))return a;throw Y.create("duplicate-app",{appName:i})}var o,u=new l.b(i),s=D(B.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(d){s.e(d)}finally{s.f()}var f=new J(n,r,u);return z.set(i,f),f}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=z.get(e);if(!t&&e===U)return Z();if(!t)throw Y.create("no-app",{appName:e});return t}function te(){return Array.from(z.values())}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(o.a)(N().mark(function e(t){var n;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!z.has(n)){e.next=6;break}return z.delete(n),e.next=5,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(e,t,n){var r,i=null!==(r=V[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void F.warn(u.join(" "))}K(new l.a("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function ae(e,t){if(null!==e&&"function"!==typeof e)throw Y.create("invalid-log-argument");Object(f.d)(e,t)}function oe(e){Object(f.c)(e)}var ue="firebase-heartbeat-database",se=1,ce="firebase-heartbeat-store",le=null;function fe(){return le||(le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=x(u);return i&&u.addEventListener("upgradeneeded",function(e){i(x(u.result),e.oldVersion,e.newVersion,x(u.transaction))}),r&&u.addEventListener("blocked",function(){return r()}),s.then(function(e){o&&e.addEventListener("close",function(){return o()}),a&&e.addEventListener("versionchange",function(){return a()})}).catch(function(){}),s}(ue,se,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(ce)}}}).catch(function(e){throw Y.create("idb-open",{originalErrorMessage:e.message})})),le}function he(e){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(N().mark(function e(t){var n,r;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe();case 3:return n=e.sent,e.abrupt("return",n.transaction(ce).objectStore(ce).get(me(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof h.c?F.warn(e.t0.message):(r=Y.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),F.warn(r.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function pe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(N().mark(function e(t,n){var r,i,a,o;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe();case 3:return r=e.sent,i=r.transaction(ce,"readwrite"),a=i.objectStore(ce),e.next=8,a.put(n,me(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof h.c?F.warn(e.t0.message):(o=Y.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),F.warn(o.message));case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function me(e){return"".concat(e.name,"!").concat(e.options.appId)}var ye=1024,ge=function(){function e(t){var n=this;Object(s.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Oe(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})}return Object(c.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(o.a)(N().mark(function e(){var t,n,r;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=be(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===r})){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(o.a)(N().mark(function e(){var t,n,r,i,a;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=be(),n=ke(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Object(h.e)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function be(){return(new Date).toISOString().substring(0,10)}function ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye,r=[],i=e.slice(),a=D(e);try{var o=function(){var e=t.value,a=r.find(function(t){return t.agent===e.agent});if(a){if(a.dates.push(e.date),xe(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),xe(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var we,Oe=function(){function e(t){Object(s.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(c.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(o.a)(N().mark(function e(){return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.v)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(h.C)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(o.a)(N().mark(function e(){var t;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,he(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(o.a)(N().mark(function e(t){var n,r;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(o.a)(N().mark(function e(t){var n,r;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Object(a.a)(r.heartbeats),Object(a.a)(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function xe(e){return Object(h.e)(JSON.stringify({version:2,heartbeats:e})).length}we="",K(new l.a("platform-logger",function(e){return new L(e)},"PRIVATE")),K(new l.a("heartbeat",function(e){return new ge(e)},"PRIVATE")),ie(P,M,we),ie(P,M,"esm2017"),ie("fire-js","")},,function(e,t,n){"use strict";var r=n(6);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return v});var r=n(14),i=n(0),a=n(12),o=n(1),u=n(3),s=n(5);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(l).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(b),s(b,u,"Generator"),s(b,a,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(t,n,r){Object(o.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(u.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(o.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(u.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(c){}var t,n=l(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(a.a)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(r.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),Object(r.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=l(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=Object(a.a)(i.value,2),c=s[0],f=s[1];r===this.normalizeInstanceIdentifier(c)&&f.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(o.a)(this,e),this.name=t,this.providers=new Map}return Object(u.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y});var r,i=n(1),a=n(3),o=n(4);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,l=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(c||(c={}));var f={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},h=c.INFO,d=(r={},Object(o.a)(r,c.DEBUG,"log"),Object(o.a)(r,c.VERBOSE,"log"),Object(o.a)(r,c.INFO,"info"),Object(o.a)(r,c.WARN,"warn"),Object(o.a)(r,c.ERROR,"error"),r),p=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=d[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){Object(i.a)(this,e),this.name=t,this._logLevel=h,this._logHandler=p,this._userLogHandler=null,l.push(this)}return Object(a.a)(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?f[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.DEBUG].concat(t)),this._logHandler.apply(this,[this,c.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.VERBOSE].concat(t)),this._logHandler.apply(this,[this,c.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.INFO].concat(t)),this._logHandler.apply(this,[this,c.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.WARN].concat(t)),this._logHandler.apply(this,[this,c.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.ERROR].concat(t)),this._logHandler.apply(this,[this,c.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in c))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}();function m(e){l.forEach(function(t){t.setLogLevel(e)})}function y(e,t){var n,r=u(l);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=f[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:c[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ur}),n.d(t,"b",function(){return cr}),n.d(t,"c",function(){return sr}),n.d(t,"d",function(){return fr}),n.d(t,"e",function(){return lr}),n.d(t,"f",function(){return hr}),n.d(t,"g",function(){return dr}),n.d(t,"h",function(){return ar}),n.d(t,"i",function(){return or});var r=n(12),i=n(9),a=n(17),o=n(6),u=n(8),s=n(1),c=n(3);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h,d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},p={},v=v||{},m=d||self;function y(){}function g(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var k="closure_uid_"+(1e9*Math.random()>>>0),w=0;function O(e,t,n){return e.call.apply(e.bind,arguments)}function x(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O:x).apply(null,arguments)}function j(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function I(){this.s=this.s,this.o=this.o}I.prototype.s=!1,I.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,k)&&e[k]||(e[k]=++w))},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function T(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(g(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{m.addEventListener("test",y,t),m.removeEventListener("test",y,t)}catch(n){}return e}();function D(e){return/^[\s\xa0]*$/.test(e)}var R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function L(e,t){return e<t?-1:e>t?1:0}function P(){var e=m.navigator;return e&&(e=e.userAgent)?e:""}function M(e){return-1!=P().indexOf(e)}function F(e){return F[" "](e),e}F[" "]=y;var U,V=M("Opera"),z=M("Trident")||M("MSIE"),B=M("Edge"),q=B||z,G=M("Gecko")&&!(-1!=P().toLowerCase().indexOf("webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),K=-1!=P().toLowerCase().indexOf("webkit")&&!M("Edge");function W(){var e=m.document;return e?e.documentMode:void 0}e:{var H="",Q=function(){var e=P();return G?/rv:([^\);]+)(\)|;)/.exec(e):B?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):K?/WebKit\/(\S+)/.exec(e):V?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Q&&(H=Q?Q[1]:""),z){var $=W();if(null!=$&&$>parseFloat(H)){U=String($);break e}}U=H}var Y,J={};function X(){return function(e){var t=J;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=R(String(U)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=L(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||L(0==a[2].length,0==o[2].length)||L(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e})}if(m.document&&z){var Z=W();Y=Z||(parseInt(U,10)||void 0)}else Y=void 0;var ee=Y;function te(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{F(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.X.h.call(this)}}E(te,A);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ie,this.ba=this.ea=!1}function oe(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ue(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function se(e){var t={};for(var n in e)t[n]=e[n];return t}var ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ce.length;a++)n=ce[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=S(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=de(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ae(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function me(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=xe(r);return t&&t[re]?t.O(n,r,b(i)?!!i.capture:!!i,a):ye(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)me(e,t[a],n,r,i);return null}return n=xe(n),e&&e[re]?e.N(t,n,b(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=b(i)?!!i.capture:!!i,u=we(e);if(u||(e[pe]=u=new fe(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=ke;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[re])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=we(t))?(he(n,e),0==n.h&&(n.src=null,t[pe]=null)):oe(e)}}}function be(e){return e in ve?ve[e]:ve[e]="on"+e}function ke(e,t){if(e.ba)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ge(e),e=n.call(r,t)}return e}function we(e){return(e=e[pe])instanceof fe?e:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(e){return"function"===typeof e?e:(e[Oe]||(e[Oe]=function(t){return e.handleEvent(t)}),e[Oe])}function _e(){I.call(this),this.i=new fe(this),this.P=this,this.I=null}function je(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;le(t=new A(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ee(o,r,!0,t)&&i}if(i=Ee(o=t.g=e,r,!0,t)&&i,i=Ee(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ee(o=t.g=n[a],r,!1,t)&&i}function Ee(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&he(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}E(_e,I),_e.prototype[re]=!0,_e.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=b(i)?!!i.capture:!!i,r=xe(r),t&&t[re]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=de(o=t.g[n],r,i,a))&&(oe(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=we(t))&&(n=t.g[n.toString()],t=-1,n&&(t=de(n,r,i,a)),(r=-1<t?n[t]:null)&&ge(r))}(this,e,t,n,r)},_e.prototype.M=function(){if(_e.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.I=null},_e.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ie=m.JSON.stringify;function Se(){var e=Pe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Te,Ce=function(){function e(){Object(s.a)(this,e),this.h=this.g=null}return Object(c.a)(e,[{key:"add",value:function(e,t){var n=Ae.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ae=new(function(){function e(t,n){Object(s.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(c.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new Ne},function(e){return e.reset()}),Ne=function(){function e(){Object(s.a)(this,e),this.next=this.g=this.h=null}return Object(c.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function De(e){m.setTimeout(function(){throw e},0)}function Re(e,t){Te||function(){var e=m.Promise.resolve(void 0);Te=function(){e.then(Me)}}(),Le||(Te(),Le=!0),Pe.add(e,t)}var Le=!1,Pe=new Ce;function Me(){for(var e;e=Se();){try{e.h.call(e.g)}catch(n){De(n)}var t=Ae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Fe(e,t){_e.call(this),this.h=e||1,this.g=t||m,this.j=_(this.lb,this),this.l=Date.now()}function Ue(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ve(e,t,n){if("function"===typeof e)n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:m.setTimeout(e,t||0)}E(Fe,_e),(h=Fe.prototype).ca=!1,h.R=null,h.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),je(this,"tick"),this.ca&&(Ue(this),this.start()))}},h.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},h.M=function(){Fe.X.M.call(this),Ue(this),delete this.g};var ze=function(e){function t(e,n){var r;return Object(s.a)(this,t),(r=Object(i.a)(this,Object(o.a)(t).call(this))).m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return Object(u.a)(t,e),Object(c.a)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Ve(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(a.a)(Object(o.a)(t.prototype),"M",this).call(this),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),t}(I);function Be(e){I.call(this),this.h=e,this.g={}}E(Be,I);var qe=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var i=0;i<n.length;i++){var a=me(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ke(e){ue(e.g,function(e,t){this.g.hasOwnProperty(t)&&ge(e)},e),e.g={}}function We(){this.g=!0}function He(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ie(n)}catch(u){return t}}(e,n)+(r?" "+r:"")})}Be.prototype.M=function(){Be.X.M.call(this),Ke(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Aa=function(){this.g=!1},We.prototype.info=function(){};var Qe={},$e=null;function Ye(){return $e=$e||new _e}function Je(e){A.call(this,Qe.Pa,e)}function Xe(e){var t=Ye();je(t,new Je(t))}function Ze(e,t){A.call(this,Qe.STAT_EVENT,e),this.stat=t}function et(e){var t=Ye();je(t,new Ze(t,e))}function tt(e,t){A.call(this,Qe.Qa,e),this.size=t}function nt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){e()},t)}Qe.Pa="serverreachability",E(Je,A),Qe.STAT_EVENT="statevent",E(Ze,A),Qe.Qa="timingevent",E(tt,A);var rt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},it={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function at(){}function ot(e){return e.h||(e.h=e.i())}function ut(){}at.prototype.h=null;var st,ct={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function lt(){A.call(this,"d")}function ft(){A.call(this,"c")}function ht(){}function dt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Be(this),this.O=vt,e=q?125:void 0,this.T=new Fe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}E(lt,A),E(ft,A),E(ht,at),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},st=new ht;var vt=45e3,mt={},yt={};function gt(e,t,n){e.K=1,e.v=Mt(Nt(t)),e.s=n,e.P=!0,bt(e,null)}function bt(e,t){e.F=Date.now(),xt(e),e.A=Nt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Yt(n.i,"t",r),e.C=0,n=e.l.H,e.h=new pt,e.g=Xn(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ze(_(e.La,e,e.g),e.N)),Ge(e.S,e.g,"readystatechange",e.ib),t=e.H?se(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Xe(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.U,e.s)}function kt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function wt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ot(e,n))==yt){4==t&&(e.o=4,et(14),i=!1),He(e.j,e.m,null,"[Incomplete Response]");break}if(r==mt){e.o=4,et(15),He(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}He(e.j,e.m,r,null),St(e,r)}kt(e)&&r!=yt&&r!=mt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,et(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.K=!0,et(11))):(He(e.j,e.m,n,"[Invalid Chunked Response]"),It(e),Et(e))}function Ot(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yt:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1)+n>t.length?yt:(t=t.substr(r,n),e.C=r+n,t))}function xt(e){e.V=Date.now()+e.O,_t(e,e.O)}function _t(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nt(_(e.gb,e),t)}function jt(e){e.B&&(m.clearTimeout(e.B),e.B=null)}function Et(e){0==e.l.G||e.I||Hn(e.l,e)}function It(e){jt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ue(e.T),Ke(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function St(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||an(n.h,e)))if(!e.J&&an(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Wn(n),Pn(n)}qn(n),et(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=nt(_(n.cb,n),6e3));if(1>=rn(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else $n(n,11)}else if((e.J||n.g==e)&&Wn(n),!D(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(on(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Pt(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Jn(r,r.H?r.ka:null,r.V),d.J){un(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(jt(p),xt(p)),r.g=d}else Bn(r);0<n.i.length&&Fn(n)}else"stop"!=a[0]&&"close"!=a[0]||$n(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?$n(n,7):Ln(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Xe()}catch(a){}}function Tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(g(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(h=dt.prototype).setTimeout=function(e){this.O=e},h.ib=function(e){e=e.target;var t=this.L;t&&3==Tn(e)?t.l():this.La(e)},h.La=function(e){try{if(e==this.g)e:{var t=Tn(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||q||this.g&&(this.h.h||this.g.fa()||Cn(this.g)))){this.I||4!=t||7==n||Xe(),jt(this);var r=this.g.aa();this.Y=r;t:if(kt(this)){var i=Cn(this.g);e="";var a=i.length,o=4==Tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){It(this),Et(this);var u="";break t}this.h.i=new m.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,et(12),It(this),Et(this);break e}He(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,St(this,r)}this.P?(wt(this,t,u),q&&this.i&&3==t&&(Ge(this.S,this.T,"tick",this.hb),this.T.start())):(He(this.j,this.m,u,null),St(this,u)),4==t&&It(this),this.i&&!this.I&&(4==t?Hn(this.l,this):(this.i=!1,xt(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),It(this),Et(this)}}}catch(t){}},h.hb=function(){if(this.g){var e=Tn(this.g),t=this.g.fa();this.C<t.length&&(jt(this),wt(this,e,t),this.i&&4!=e&&xt(this))}},h.cancel=function(){this.I=!0,It(this)},h.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Xe(),et(17)),It(this),this.o=2,Et(this)):_t(this,this.V-e)};var Ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function At(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof At){this.h=void 0!==t?t:e.h,Dt(this,e.j),this.s=e.s,this.g=e.g,Rt(this,e.m),this.l=e.l,t=e.i;var n=new Wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Lt(this,n),this.o=e.o}else e&&(n=String(e).match(Ct))?(this.h=!!t,Dt(this,n[1]||"",!0),this.s=Ft(n[2]||""),this.g=Ft(n[3]||"",!0),Rt(this,n[4]),this.l=Ft(n[5]||"",!0),Lt(this,n[6]||"",!0),this.o=Ft(n[7]||"")):(this.h=!!t,this.i=new Wt(null,this.h))}function Nt(e){return new At(e)}function Dt(e,t,n){e.j=n?Ft(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lt(e,t,n){t instanceof Wt?(e.i=t,function(e,t){t&&!e.j&&(Ht(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),Yt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Ut(t,Gt)),e.i=new Wt(t,e.h))}function Pt(e,t,n){e.i.set(t,n)}function Mt(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ut(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ut(t,zt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ut(t,zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ut(n,"/"==n.charAt(0)?qt:Bt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ut(n,Kt)),e.join("")};var zt=/[#\/\?@]/g,Bt=/[#\?:]/g,qt=/[#\?]/g,Gt=/[#\?@]/g,Kt=/#/g;function Wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ht(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Qt(e,t){Ht(e),t=Jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $t(e,t){return Ht(e),t=Jt(e,t),e.g.has(t)}function Yt(e,t,n){Qt(e,t),0<n.length&&(e.i=null,e.g.set(Jt(e,t),T(n)),e.h+=n.length)}function Jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(h=Wt.prototype).add=function(e,t){Ht(this),this.i=null,e=Jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},h.forEach=function(e,t){Ht(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},h.oa=function(){Ht(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},h.W=function(e){Ht(this);var t=[];if("string"===typeof e)$t(this,e)&&(t=t.concat(this.g.get(Jt(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},h.set=function(e,t){return Ht(this),this.i=null,$t(this,e=Jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},h.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},h.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Xt=function e(t,n){Object(s.a)(this,e),this.h=t,this.g=n};function Zt(e){this.l=e||tn,m.PerformanceNavigationTiming?e=0<(e=m.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(m.g&&m.g.Ga&&m.g.Ga()&&m.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var en,tn=10;function nn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rn(e){return e.h?1:e.g?e.g.size:0}function an(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function on(e,t){e.g?e.g.add(t):e.h=t}function un(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=l(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return T(e.i)}function cn(){}function ln(){this.g=new cn}function fn(e,t,n){var r=n||"";try{Tt(e,function(e,n){var i=e;b(e)&&(i=Ie(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function hn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function dn(e){this.l=e.ac||null,this.j=e.jb||!1}function pn(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=l(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},cn.prototype.stringify=function(e){return m.JSON.stringify(e,void 0)},cn.prototype.parse=function(e){return m.JSON.parse(e,void 0)},E(dn,at),dn.prototype.g=function(){return new pn(this.l,this.j)},dn.prototype.i=(en={},function(){return en}),E(pn,_e);var vn=0;function mn(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function yn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gn(e)}function gn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(h=pn.prototype).open=function(e,t){if(this.readyState!=vn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gn(this)},h.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||m).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(function(){}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yn(this)),this.readyState=vn},h.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gn(this)),this.g&&(this.readyState=3,gn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof m.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mn(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},h.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yn(this):gn(this),3==this.readyState&&mn(this)}},h.Va=function(e){this.g&&(this.response=this.responseText=e,yn(this))},h.Ua=function(e){this.g&&(this.response=e,yn(this))},h.ga=function(){this.g&&yn(this)},h.setRequestHeader=function(e,t){this.v.append(e,t)},h.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},h.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bn=m.JSON.parse;function kn(e){_e.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wn,this.K=this.L=!1}E(kn,_e);var wn="",On=/^https?$/i,xn=["POST","PUT"];function _n(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jn(e),In(e)}function jn(e){e.D||(e.D=!0,je(e,"complete"),je(e,"error"))}function En(e){if(e.h&&"undefined"!=typeof v&&(!e.C[1]||4!=Tn(e)||2!=e.aa()))if(e.v&&4==Tn(e))Ve(e.Ha,0,e);else if(je(e,"readystatechange"),4==Tn(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ct)[1]||null;if(!a&&m.self&&m.self.location){var o=m.self.location.protocol;a=o.substr(0,o.length-1)}i=!On.test(a?a.toLowerCase():"")}t=i}if(t)je(e,"complete"),je(e,"success");else{e.m=6;try{var u=2<Tn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",jn(e)}}finally{In(e)}}}function In(e,t){if(e.g){Sn(e);var n=e.g,r=e.C[0]?y:null;e.g=null,e.C=null,t||je(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Sn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(m.clearTimeout(e.A),e.A=null)}function Tn(e){return e.g?e.g.readyState:0}function Cn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case wn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function An(e){var t="";return ue(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Nn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=An(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pt(e,t,n))}function Dn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.Ca=0,this.i=[],this.j=new We,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Dn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Dn("baseRetryDelayMs",5e3,e),this.bb=Dn("retryDelaySeedMs",1e4,e),this.$a=Dn("forwardChannelMaxRetries",2,e),this.ta=Dn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Zt(e&&e.concurrentRequestLimit),this.Fa=new ln,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ln(e){if(Mn(e),3==e.G){var t=e.U++,n=Nt(e.F);Pt(n,"SID",e.I),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),Vn(e,n),(t=new dt(e,e.j,t,void 0)).K=2,t.v=Mt(Nt(n)),n=!1,m.navigator&&m.navigator.sendBeacon&&(n=m.navigator.sendBeacon(t.v.toString(),"")),!n&&m.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xn(t.l,null),t.g.da(t.v)),t.F=Date.now(),xt(t)}Yn(e)}function Pn(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function Mn(e){Pn(e),e.u&&(m.clearTimeout(e.u),e.u=null),Wn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&m.clearTimeout(e.m),e.m=null)}function Fn(e){nn(e.h)||e.m||(e.m=!0,Re(e.Ja,e),e.C=0)}function Un(e,t){var n;n=t?t.m:e.U++;var r=Nt(e.F);Pt(r,"SID",e.I),Pt(r,"RID",n),Pt(r,"AID",e.T),Vn(e,r),e.o&&e.s&&Nn(r,e.o,e.s),n=new dt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),on(e.h,n),gt(n,r,t)}function Vn(e,t){e.ia&&ue(e.ia,function(e,n){Pt(t,n,e)}),e.l&&Tt({},function(e,n){Pt(t,n,e)})}function zn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?_(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{fn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Bn(e){e.g||e.u||(e.Z=1,Re(e.Ia,e),e.A=0)}function qn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=nt(_(e.Ia,e),Qn(e,e.A)),e.A++,!0)}function Gn(e){null!=e.B&&(m.clearTimeout(e.B),e.B=null)}function Kn(e){e.g=new dt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Nt(e.sa);Pt(t,"RID","rpc"),Pt(t,"SID",e.I),Pt(t,"CI",e.L?"0":"1"),Pt(t,"AID",e.T),Pt(t,"TYPE","xmlhttp"),Vn(e,t),e.o&&e.s&&Nn(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Mt(Nt(t)),n.s=null,n.P=!0,bt(n,e)}function Wn(e){null!=e.v&&(m.clearTimeout(e.v),e.v=null)}function Hn(e,t){var n=null;if(e.g==t){Wn(e),Gn(e),e.g=null;var r=2}else{if(!an(e.h,t))return;n=t.D,un(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;je(r=Ye(),new tt(r,n)),Fn(e)}else Bn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(rn(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=nt(_(e.Ja,e,t),Qn(e,e.C)),e.C++,!0))}(e,t)||2==r&&qn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:$n(e,5);break;case 4:$n(e,10);break;case 3:$n(e,6);break;default:$n(e,2)}}function Qn(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function $n(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=_(e.kb,e);n||(n=new At("//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||Dt(n,"https"),Mt(n)),function(e,t){var n=new We;if(m.Image){var r=new Image;r.onload=j(hn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=j(hn,n,r,"TestLoadImage: error",!1,t),r.onabort=j(hn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=j(hn,n,r,"TestLoadImage: timeout",!1,t),m.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else et(2);e.G=0,e.l&&e.l.va(t),Yn(e),Mn(e)}function Yn(e){if(e.G=0,e.la=[],e.l){var t=sn(e.h);0==t.length&&0==e.i.length||(C(e.la,t),C(e.la,e.i),e.h.i.length=0,T(e.i),e.i.length=0),e.l.ua()}}function Jn(e,t,n){var r=n instanceof At?Nt(n):new At(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Rt(r,r.m);else{var i=m.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new At(null,void 0);r&&Dt(a,r),t&&(a.g=t),i&&Rt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Pt(r,n,t),Pt(r,"VER",e.ma),Vn(e,r),r}function Xn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new kn(new dn({jb:!0})):new kn(e.ra)).Ka(e.H),t}function Zn(){}function er(){if(z&&!(10<=Number(ee)))throw Error("Environmental error: no available transport.")}function tr(e,t){_e.call(this),this.g=new Rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!D(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ir(this)}function nr(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rr(){ft.call(this),this.status=1}function ir(e){this.g=e}(h=kn.prototype).Ka=function(e){this.L=e},h.da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?ot(this.u):ot(st),this.g.onreadystatechange=_(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void _n(this,s)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)n.set(a,i[a]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));var o,u=l(i.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,i.get(s))}}catch(v){u.e(v)}finally{u.f()}}i=Array.from(n.keys()).find(function(e){return"content-type"==e.toLowerCase()}),a=m.FormData&&e instanceof m.FormData,!(0<=S(xn,t))||i||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,f=l(n);try{for(f.s();!(c=f.n()).done;){var h=Object(r.a)(c.value,2),d=h[0],p=h[1];this.g.setRequestHeader(d,p)}}catch(v){f.e(v)}finally{f.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sn(this),0<this.B&&((this.K=function(e){return z&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.qa,this)):this.A=Ve(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){_n(this,s)}},h.qa=function(){"undefined"!=typeof v&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},h.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,je(this,"complete"),je(this,"abort"),In(this))},h.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),In(this,!0)),kn.X.M.call(this)},h.Ha=function(){this.s||(this.F||this.v||this.l?En(this):this.fb())},h.fb=function(){En(this)},h.aa=function(){try{return 2<Tn(this)?this.g.status:-1}catch(en){return-1}},h.fa=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},h.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bn(t)}},h.Ea=function(){return this.m},h.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(h=Rn.prototype).ma=8,h.G=1,h.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new dt(this,this.j,e,void 0),n=this.s;if(this.S&&(n?le(n=se(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zn(this,t,r),Pt(i=Nt(this.F),"RID",e),Pt(i,"CVER",22),this.D&&Pt(i,"X-HTTP-Session-Id",this.D),Vn(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(An(n)))+"&"+r:this.o&&Nn(i,this.o,n)),on(this.h,t),this.Ya&&Pt(i,"TYPE","init"),this.O?(Pt(i,"$req",r),Pt(i,"SID","null"),t.Z=!0,gt(t,i,null)):gt(t,i,r),this.G=2}}else 3==this.G&&(e?Un(this,e):0==this.i.length||nn(this.h)||Un(this))},h.Ia=function(){if(this.u=null,Kn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=nt(_(this.eb,this),e)}},h.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,et(10),Pn(this),Kn(this))},h.cb=function(){null!=this.v&&(this.v=null,Pn(this),qn(this),et(19))},h.kb=function(e){e?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))},(h=Zn.prototype).xa=function(){},h.wa=function(){},h.va=function(){},h.ua=function(){},h.Ra=function(){},er.prototype.g=function(e,t){return new tr(e,t)},E(tr,_e),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;et(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Jn(e,null,e.V),Fn(e)},tr.prototype.close=function(){Ln(this.g)},tr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ie(e),e=n);t.i.push(new Xt(t.ab++,e)),3==t.G&&Fn(t)},tr.prototype.M=function(){this.g.l=null,delete this.j,Ln(this.g),delete this.g,tr.X.M.call(this)},E(nr,lt),E(rr,ft),E(ir,Zn),ir.prototype.xa=function(){je(this.g,"a")},ir.prototype.wa=function(e){je(this.g,new nr(e))},ir.prototype.va=function(e){je(this.g,new rr)},ir.prototype.ua=function(){je(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,it.COMPLETE="complete",ut.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",_e.prototype.listen=_e.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.Oa,kn.prototype.getLastErrorCode=kn.prototype.Ea,kn.prototype.getStatus=kn.prototype.aa,kn.prototype.getResponseJson=kn.prototype.Sa,kn.prototype.getResponseText=kn.prototype.fa,kn.prototype.send=kn.prototype.da,kn.prototype.setWithCredentials=kn.prototype.Ka;var ar=p.createWebChannelTransport=function(){return new er},or=p.getStatEventTarget=function(){return Ye()},ur=p.ErrorCode=rt,sr=p.EventType=it,cr=p.Event=Qe,lr=p.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},fr=p.FetchXmlHttpFactory=dn,hr=p.WebChannel=ut,dr=p.XhrIo=kn}).call(this,n(29))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,i=n(4),a=n(1),o=n(3),u=n(5),s=n(18),c=n(15),l=n(19),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}},{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.f)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.j)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.f)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.j)(t,e)},createSubscribe:u.h,ErrorFactory:u.b,deepExtend:u.j}),t}(),v=new l.b("@firebase/app-compat"),m="@firebase/app-compat",y="0.2.7";if(Object(u.r)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b,k=p;Object(c.registerVersion)(m,y,b)},function(e,t,n){"use strict";e.exports=n(63)},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});n(14);var r=n(12),i=n(2),a=n(11),o=n(13);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function l(e){var t=e.basename,n=e.children,u=e.window,s=i.useRef();null==s.current&&(s.current=Object(o.f)({window:u,v5Compat:!0}));var c=s.current,l=i.useState({action:c.action,location:c.location}),f=Object(r.a)(l,2),h=f[0],d=f[1];return i.useLayoutEffect(function(){return c.listen(d)},[c]),i.createElement(a.b,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d=i.forwardRef(function(e,t){var n,r=e.onClick,l=e.relative,d=e.reloadDocument,p=e.replace,v=e.state,m=e.target,y=e.to,g=e.preventScrollReset,b=s(e,c),k=i.useContext(a.f).basename,w=!1;if("string"===typeof y&&h.test(y)&&(n=y,f)){var O=new URL(window.location.href),x=y.startsWith("//")?new URL(O.protocol+y):new URL(y),_=Object(o.q)(x.pathname,k);x.origin===O.origin&&null!=_?y=_+x.search+x.hash:w=!0}var j=Object(a.j)(y,{relative:l}),E=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,c=n.preventScrollReset,l=n.relative,f=Object(a.m)(),h=Object(a.k)(),d=Object(a.o)(e,{relative:l});return i.useCallback(function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==u?u:Object(o.i)(h)===Object(o.i)(d);f(e,{replace:n,state:s,preventScrollReset:c,relative:l})}},[h,f,d,u,s,r,e,c,l])}(y,{replace:p,state:v,target:m,preventScrollReset:g,relative:l});return i.createElement("a",u({},b,{href:n||j,onClick:w||d?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:t,target:m}))});var p,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},function(e,t,n){"use strict";var r=n(6),i=n(26);var a=n(27);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(26);function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(4);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(31),i=n(33),a=n(32);function o(e){return Object(r.a)(e)||Object(i.a)(e)||Object(a.a)()}},function(e,t,n){"use strict";var r=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(40)),a=n(23),o=(0,i.default)((0,a.jsx)("path",{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41-.25-.29-.37-.68-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"}),"Storefront");t.default=o},,,function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(73)},function(e,t,n){"use strict";var r=n(22);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","9.19.1","app-compat")},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(53)},function(e,t,n){"use strict";var r=n(65),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(40)),a=n(23),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=o},function(e,t,n){"use strict";var r=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(40)),a=n(23),o=(0,i.default)((0,a.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.default=o},,,,,,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function b(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var w=k.prototype=new b;w.constructor=k,m(w,g.prototype),w.isPureReactComponent=!0;var O=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!j.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:r,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,n,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,O(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(o,t,n,"",function(e){return e})):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",O(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=u,t.PureComponent=k,t.StrictMode=o,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!j.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(2),i=n(54);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P,M=Object.assign;function F(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case x:return"Fragment";case O:return"Portal";case j:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case S:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ee(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Oe=null,xe=null;function _e(e){if(e=hi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=pi(t),we(e.stateNode,e.type,t))}}function je(e){Oe?xe?xe.push(e):xe=[e]:Oe=e}function Ee(){if(Oe){var e=Oe,t=xe;if(xe=Oe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ie(e,t){return e(t)}function Se(){}var Te=!1;function Ce(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ie(e,t,n)}finally{Te=!1,(null!==Oe||null!==xe)&&(Se(),Ee())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Ne=!1}var Re=!1,Le=null,Pe=!1,Me=null,Fe={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,i,a,o,u,s){Re=!1,Le=null,function(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,We=i.unstable_shouldYield,He=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,Xe=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/at|0)|0},it=Math.log,at=Math.LN2;var ot=64,ut=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=st(u):0!==(a&=o)&&(r=st(a))}else 0!==(o=n&~i)?r=st(o):0!==a&&(r=st(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var gt,bt,kt,wt,Ot,xt=!1,_t=[],jt=null,Et=null,It=null,St=new Map,Tt=new Map,Ct=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=hi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=fi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ot(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=hi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Pt(e,t,n){Lt(e)&&n.delete(t)}function Mt(){xt=!1,null!==jt&&Lt(jt)&&(jt=null),null!==Et&&Lt(Et)&&(Et=null),null!==It&&Lt(It)&&(It=null),St.forEach(Pt),Tt.forEach(Pt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<_t.length){Ft(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Ft(jt,e),null!==Et&&Ft(Et,e),null!==It&&Ft(It,e),St.forEach(t),Tt.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Rt(n),null===n.blockedOn&&Ct.shift()}var Vt=k.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,r){var i=mt,a=Vt.transition;Vt.transition=null;try{mt=1,Gt(e,t,n,r)}finally{mt=i,Vt.transition=a}}function qt(e,t,n,r){var i=mt,a=Vt.transition;Vt.transition=null;try{mt=4,Gt(e,t,n,r)}finally{mt=i,Vt.transition=a}}function Gt(e,t,n,r){if(zt){var i=Wt(e,t,n,r);if(null===i)Mr(e,t,r,Kt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Dt(jt,e,t,n,r,i),!0;case"dragenter":return Et=Dt(Et,e,t,n,r,i),!0;case"mouseover":return It=Dt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Dt(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Dt(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=hi(i);if(null!==a&&gt(a),null===(a=Wt(e,t,n,r))&&Mr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Mr(e,t,r,null,n)}}var Kt=null;function Wt(e,t,n,r){if(Kt=null,null!==(e=fi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Ht(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ye:return 1;case Je:return 4;case Xe:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Yt=null;function Jt(){if(Yt)return Yt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:en,this.isPropagationStopped=en,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=tn(on),sn=M({},on,{view:0,detail:0}),cn=tn(sn),ln=M({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(nn=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=nn=0,an=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),hn=tn(M({},ln,{dataTransfer:0})),dn=tn(M({},sn,{relatedTarget:0})),pn=tn(M({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(M({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=tn(M({},on,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function wn(){return kn}var On=tn(M({},sn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=tn(M({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=tn(M({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),jn=tn(M({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=tn(M({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],Sn=l&&"CompositionEvent"in window,Tn=null;l&&"documentMode"in document&&(Tn=document.documentMode);var Cn=l&&"TextEvent"in window&&!Tn,An=l&&(!Sn||Tn&&8<Tn&&11>=Tn),Nn=String.fromCharCode(32),Dn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){je(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Bn(e){Ar(e,0)}function qn(e){if(W(di(e)))return e}function Gn(e,t){if("change"===e)return t}var Kn=!1;if(l){var Wn;if(l){var Hn="oninput"in document;if(!Hn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Hn="function"===typeof Qn.oninput}Wn=Hn}else Wn=!1;Kn=Wn&&(!document.documentMode||9<document.documentMode)}function $n(){Vn&&(Vn.detachEvent("onpropertychange",Yn),zn=Vn=null)}function Yn(e){if("value"===e.propertyName&&qn(zn)){var t=[];Un(t,zn,e,ke(e)),Ce(Bn,t)}}function Jn(e,t,n){"focusin"===e?($n(),zn=n,(Vn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&$n()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(zn)}function Zn(e,t){if("click"===e)return qn(t)}function er(e,t){if("input"===e||"change"===e)return qn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function ar(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=ar(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&or(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ir(n,a);var o=ir(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sr=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==cr||cr!==H(r)||("selectionStart"in(r=cr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Ur(lr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},mr={},yr={};function gr(e){if(mr[e])return mr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return mr[e]=n[t];return e}l&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var br=gr("animationend"),kr=gr("animationiteration"),wr=gr("animationstart"),Or=gr("transitionend"),xr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){xr.set(e,t),s(t,[e])}for(var Er=0;Er<_r.length;Er++){var Ir=_r[Er];jr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}jr(br,"onAnimationEnd"),jr(kr,"onAnimationIteration"),jr(wr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(a(198));var l=Le;Re=!1,Le=null,Pe||(Pe=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Pe)throw e=Me,Pe=!1,Me=null,e}function Nr(e,t){var n=t[si];void 0===n&&(n=t[si]=new Set);var r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}function Dr(e,t,n){var r=0;t&&(r|=4),Pr(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[Rr]){e[Rr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Tr.has(t)||Dr(t,!1,e),Dr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Dr("selectionchange",!1,t))}}function Pr(e,t,n,r){switch(Ht(t)){case 1:var i=Bt;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=fi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ce(function(){var r=a,i=ke(n),o=[];e:{var u=xr.get(e);if(void 0!==u){var s=un,c=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":s=On;break;case"focusin":c="focus",s=dn;break;case"focusout":c="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case br:case kr:case wr:s=pn;break;case Or:s=jn;break;case"scroll":s=cn;break;case"wheel":s=En;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=xn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!fi(c)&&!c[ui])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?fi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=fn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:di(s),d=null==c?u:di(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,fi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==s&&zr(o,u,s,l,!1),null!==c&&null!==f&&zr(o,f,c,l,!0)}if("select"===(s=(u=r?di(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Gn;else if(Fn(u))if(Kn)m=er;else{m=Xn;var y=Jn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=Zn);switch(m&&(m=m(e,r))?Un(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&Z(u,"number",u.value)),y=r?di(r):window,e){case"focusin":(Fn(y)||"true"===y.contentEditable)&&(cr=y,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(o,n,i)}var g;if(Sn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(g=Jt()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Pn=!0)),0<(y=Ur(r,b)).length&&(b=new mn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Ln(n))&&(b.data=g))),(g=Cn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Dn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Sn&&Rn(e,t)?(e=Jt(),Yt=$t=Qt=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new mn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Fr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Fr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ae(n,a))&&o.unshift(Fr(n,s,u)):i||null!=(s=Ae(n,a))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Br=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Br,"\n").replace(qr,"")}function Kr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(a(425))}function Wr(){}var Hr=null,Qr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,Jr="function"===typeof clearTimeout?clearTimeout:void 0,Xr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Xr?function(e){return Xr.resolve(null).then(e).catch(ei)}:Yr;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),ai="__reactFiber$"+ii,oi="__reactProps$"+ii,ui="__reactContainer$"+ii,si="__reactEvents$"+ii,ci="__reactListeners$"+ii,li="__reactHandles$"+ii;function fi(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[ai]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[ai])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function hi(e){return!(e=e[ai]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function pi(e){return e[oi]||null}var vi=[],mi=-1;function yi(e){return{current:e}}function gi(e){0>mi||(e.current=vi[mi],vi[mi]=null,mi--)}function bi(e,t){vi[++mi]=e.current,e.current=t}var ki={},wi=yi(ki),Oi=yi(!1),xi=ki;function _i(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){gi(Oi),gi(wi)}function Ii(e,t,n){if(wi.current!==ki)throw Error(a(168));bi(wi,t),bi(Oi,n)}function Si(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,xi=wi.current,bi(wi,e),bi(Oi,Oi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Si(e,t,xi),r.__reactInternalMemoizedMergedChildContext=e,gi(Oi),gi(wi),bi(wi,e)):gi(Oi),bi(Oi,n)}var Ai=null,Ni=!1,Di=!1;function Ri(e){null===Ai?Ai=[e]:Ai.push(e)}function Li(){if(!Di&&null!==Ai){Di=!0;var e=0,t=mt;try{var n=Ai;for(mt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ai=null,Ni=!1}catch(i){throw null!==Ai&&(Ai=Ai.slice(e+1)),Ge(Ye,Li),i}finally{mt=t,Di=!1}}return null}var Pi=[],Mi=0,Fi=null,Ui=0,Vi=[],zi=0,Bi=null,qi=1,Gi="";function Ki(e,t){Pi[Mi++]=Ui,Pi[Mi++]=Fi,Fi=e,Ui=t}function Wi(e,t,n){Vi[zi++]=qi,Vi[zi++]=Gi,Vi[zi++]=Bi,Bi=e;var r=qi;e=Gi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var a=32-rt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qi=1<<32-rt(t)+i|n<<i|r,Gi=a+e}else qi=1<<a|n<<i|r,Gi=e}function Hi(e){null!==e.return&&(Ki(e,1),Wi(e,1,0))}function Qi(e){for(;e===Fi;)Fi=Pi[--Mi],Pi[Mi]=null,Ui=Pi[--Mi],Pi[Mi]=null;for(;e===Bi;)Bi=Vi[--zi],Vi[zi]=null,Gi=Vi[--zi],Vi[zi]=null,qi=Vi[--zi],Vi[zi]=null}var $i=null,Yi=null,Ji=!1,Xi=null;function Zi(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,$i=e,Yi=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,$i=e,Yi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Bi?{id:qi,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,$i=e,Yi=null,!0);default:return!1}}function ta(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function na(e){if(Ji){var t=Yi;if(t){var n=t;if(!ea(e,t)){if(ta(e))throw Error(a(418));t=ni(n.nextSibling);var r=$i;t&&ea(e,t)?Zi(r,n):(e.flags=-4097&e.flags|2,Ji=!1,$i=e)}}else{if(ta(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ji=!1,$i=e}}}function ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$i=e}function ia(e){if(e!==$i)return!1;if(!Ji)return ra(e),Ji=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Yi)){if(ta(e))throw aa(),Error(a(418));for(;t;)Zi(e,t),t=ni(t.nextSibling)}if(ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yi=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yi=null}}else Yi=$i?ni(e.stateNode.nextSibling):null;return!0}function aa(){for(var e=Yi;e;)e=ni(e.nextSibling)}function oa(){Yi=$i=null,Ji=!1}function ua(e){null===Xi?Xi=[e]:Xi.push(e)}var sa=k.ReactCurrentBatchConfig;function ca(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var la=yi(null),fa=null,ha=null,da=null;function pa(){da=ha=fa=null}function va(e){var t=la.current;gi(la),e._currentValue=t}function ma(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ya(e,t){fa=e,da=ha=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(lu=!0),e.firstContext=null)}function ga(e){var t=e._currentValue;if(da!==e)if(e={context:e,memoizedValue:t,next:null},null===ha){if(null===fa)throw Error(a(308));ha=e,fa.dependencies={lanes:0,firstContext:e}}else ha=ha.next=e;return t}var ba=null;function ka(e){null===ba?ba=[e]:ba.push(e)}function wa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xa=!1;function _a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ea(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ms)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function Sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ca(e,t,n,r){var i=e.updateQueue;xa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:xa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);_s|=o,e.lanes=o,e.memoizedState=f}}function Aa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Na=(new r.Component).refs;function Da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ra={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=Ea(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(Gs(t,e,i,r),Sa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=Ea(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(Gs(t,e,i,r),Sa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=Ea(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(Gs(t,e,r,n),Sa(t,e,r))}};function La(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,a))}function Pa(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"===typeof a&&null!==a?a=ga(a):(i=ji(t)?xi:wi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ra,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ra.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,_a(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ga(a):(a=ji(t)?xi:wi.current,i.context=_i(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ra.enqueueReplaceState(i,i.state,null),Ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Na&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=yc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=gc(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=bc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=wc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=gc(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case O:return(t=Oc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(ee(t)||L(t))return(t=bc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case O:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(ee(n)||L(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Ji&&Ki(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Ji&&Ki(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(i,e)}),Ji&&Ki(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Ji&&Ki(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Ji&&Ki(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach(function(e){return t(i,e)}),Ji&&Ki(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=bc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=gc(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case O:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Oc(o,r.mode,s)).return=r,r=a}return u(r);case N:return e(r,a,(l=o._init)(o._payload),s)}if(ee(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=wc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Ga=Ba(!1),Ka={},Wa=yi(Ka),Ha=yi(Ka),Qa=yi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(bi(Qa,t),bi(Ha,e),bi(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}gi(Wa),bi(Wa,t)}function Ja(){gi(Wa),gi(Ha),gi(Qa)}function Xa(e){$a(Qa.current);var t=$a(Wa.current),n=ue(t,e.type);t!==n&&(bi(Ha,e),bi(Wa,n))}function Za(e){Ha.current===e&&(gi(Wa),gi(Ha))}var eo=yi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Jo:Xo,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=Zo,e=n(r,i)}while(fo)}if(io.current=Yo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,_s|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,tr(r,t.memoizedState)||(lu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,_s|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);tr(o,t.memoizedState)||(lu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function jo(e,t){var n=uo,r=ko(),i=t(),o=!tr(r.memoizedState,i);if(o&&(r.memoizedState=i,lu=!0),r=r.queue,Mo(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,r,i,t),void 0,null),null===ys)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&Co(e)}function So(e,t,n){return n(function(){To(t)&&Co(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function Co(e){var t=Oa(e,1);null!==t&&Gs(t,e,1,-1)}function Ao(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,tr(u,o)){var s=t.interleaved;return null===s?(i.next=i,ka(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=wa(e,t,i,r))&&(i=Bs(),Gs(n,e,r,i),$o(n,t,r))}}.bind(null,uo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return ko().memoizedState}function Ro(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}uo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Po(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Lo(2048,8,e,t)}function Fo(e,t){return Lo(4,2,e,t)}function Uo(e,t){return Lo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Vo.bind(null,t,e),n)}function Bo(){}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,lu=!0),e.memoizedState=n):(tr(n,t)||(n=ht(),uo.lanes|=n,_s|=n,e.baseState=!0),t)}function Wo(){return ko().memoizedState}function Ho(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Yo={readContext:ga,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Jo={readContext:ga,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:ga,useEffect:Po,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?Qo(t,n):null!==(n=wa(e,t,n,r))&&(Gs(n,e,r,Bs()),$o(n,t,r))}.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=function(e,t){var n=mt;mt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{mt=n,ao.transition=r}}.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Ji){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ys)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Po(So.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=ys.identifierPrefix;if(Ji){var n=Gi;t=":"+t+"R"+(n=(qi&~(1<<32-rt(qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:ga,useCallback:qo,useContext:ga,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:Oo,useRef:Do,useState:function(){return Oo(wo)},useDebugValue:Bo,useDeferredValue:function(e){return Ko(ko(),so.memoizedState,e)},useTransition:function(){return[Oo(wo)[0],ko().memoizedState]},useMutableSource:_o,useSyncExternalStore:jo,useId:Wo,unstable_isNewReconciler:!1},Zo={readContext:ga,useCallback:qo,useContext:ga,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:xo,useRef:Do,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=ko();return null===so?t.memoizedState=e:Ko(t,so.memoizedState,e)},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:_o,useSyncExternalStore:jo,useId:Wo,unstable_isNewReconciler:!1};function eu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function tu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ru="function"===typeof WeakMap?WeakMap:Map;function iu(e,t,n){(n=Ea(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ns||(Ns=!0,Ds=r),nu(0,t)},n}function au(e,t,n){(n=Ea(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){nu(0,t),"function"!==typeof r&&(null===Rs?Rs=new Set([this]):Rs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ru;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,ys===e&&(bs&n)===n&&(4===Os||3===Os&&(130023424&bs)===bs&&500>Qe()-Ts?Zs(e,0):Es|=n),Ks(e,t)}.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function su(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ea(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var cu=k.ReactCurrentOwner,lu=!1;function fu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):qa(t,e.child,n,r)}function hu(e,t,n,r,i){n=n.render;var a=t.ref;return ya(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||lu?(Ji&&n&&Hi(t),t.flags|=1,fu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lu(e,t,i))}function du(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=gc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,pu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(o,r)&&e.ref===t.ref)return Lu(e,t,i)}return t.flags|=1,(e=yc(a,r)).ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nr(a,r)&&e.ref===t.ref){if(lu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Lu(e,t,i);0!==(131072&e.flags)&&(lu=!0)}}return yu(e,t,n,r,i)}function vu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(ws,ks),ks|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(ws,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,bi(ws,ks),ks|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bi(ws,ks),ks|=r;return fu(e,t,i,n),t.child}function mu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,r,i){var a=ji(n)?xi:wi.current;return a=_i(t,a),ya(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||lu?(Ji&&r&&Hi(t),t.flags|=1,fu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lu(e,t,i))}function gu(e,t,n,r,i){if(ji(n)){var a=!0;Ti(t)}else a=!1;if(ya(t,i),null===t.stateNode)Ru(e,t),Pa(t,n,r),Fa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ga(c):c=_i(t,c=ji(n)?xi:wi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ma(t,o,r,c),xa=!1;var h=t.memoizedState;o.state=h,Ca(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Oi.current||xa?("function"===typeof l&&(Da(t,n,l,r),s=t.memoizedState),(u=xa||La(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ca(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ga(s):s=_i(t,s=ji(n)?xi:wi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ma(t,o,r,s),xa=!1,h=t.memoizedState,o.state=h,Ca(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Oi.current||xa?("function"===typeof d&&(Da(t,n,d,r),p=t.memoizedState),(c=xa||La(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bu(e,t,n,r,a,i)}function bu(e,t,n,r,i,a){mu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ci(t,n,!1),Lu(e,t,a);r=t.stateNode,cu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):fu(e,t,u,a),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),Ya(e,t.containerInfo)}function wu(e,t,n,r,i){return oa(),ua(i),t.flags|=256,fu(e,t,n,r),t.child}var Ou,xu,_u,ju,Eu={dehydrated:null,treeContext:null,retryLane:0};function Iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Su(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),bi(eo,1&o),null===e)return na(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=kc(s,i,0,null),e=bc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Iu(n),t.memoizedState=Eu,e):Tu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,r=tu(Error(a(422))),Cu(e,t,u,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=kc({mode:"visible",children:r.children},i,0,null),(o=bc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&qa(t,e.child,null,u),t.child.memoizedState=Iu(u),t.memoizedState=Eu,o);if(0===(1&t.mode))return Cu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,o=Error(a(419)),r=tu(o,r,void 0),Cu(e,t,u,r)}if(s=0!==(u&e.childLanes),lu||s){if(null!==(r=ys)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),Gs(r,e,i,-1))}return nc(),r=tu(Error(a(421))),Cu(e,t,u,r)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yi=ni(i.nextSibling),$i=t,Ji=!0,Xi=null,null!==e&&(Vi[zi++]=qi,Vi[zi++]=Gi,Vi[zi++]=Bi,qi=e.id,Gi=e.overflow,Bi=t),(t=Tu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=yc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=yc(r,u):(u=bc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Iu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Eu,i}return e=(u=e.child).sibling,i=yc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Tu(e,t){return(t=kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Cu(e,t,n,r){return null!==r&&ua(r),qa(t,e.child,null,n),(e=Tu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Au(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ma(e.return,t,n)}function Nu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Du(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(fu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Au(e,n,t);else if(19===e.tag)Au(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nu(t,!0,n,null,a);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ru(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_s|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=yc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Pu(e,t){if(!Ji)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fu(e,t,n){var r=t.pendingProps;switch(Qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mu(t),null;case 1:return ji(t.type)&&Ei(),Mu(t),null;case 3:return r=t.stateNode,Ja(),gi(Oi),gi(wi),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ia(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xi&&(Hs(Xi),Xi=null))),xu(e,t),Mu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)_u(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Mu(t),null}if(e=$a(Wa.current),ia(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ai]=t,r[oi]=o,e=0!==(1&t.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Sr.length;i++)Nr(Sr[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":$(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":re(r,o),Nr("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Nr("scroll",r)}switch(n){case"input":K(r),X(r,o,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Wr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ai]=t,e[oi]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=ge(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sr.length;i++)Nr(Sr[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Nr("invalid",e);break;default:i=r}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Nr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?te(e,!!r.multiple,o,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Wr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Mu(t),null;case 6:if(e&&null!=t.stateNode)ju(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Wa.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(o=r.nodeValue!==n)&&null!==(e=$i))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ai]=t,t.stateNode=r}return Mu(t),null;case 13:if(gi(eo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Ji&&null!==Yi&&0!==(1&t.mode)&&0===(128&t.flags))aa(),oa(),t.flags|=98560,o=!1;else if(o=ia(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ai]=t}else oa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Mu(t),o=!1}else null!==Xi&&(Hs(Xi),Xi=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Os&&(Os=3):nc())),null!==t.updateQueue&&(t.flags|=4),Mu(t),null);case 4:return Ja(),xu(e,t),null===e&&Lr(t.stateNode.containerInfo),Mu(t),null;case 10:return va(t.type._context),Mu(t),null;case 17:return ji(t.type)&&Ei(),Mu(t),null;case 19:if(gi(eo),null===(o=t.memoizedState))return Mu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Pu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,Pu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Cs&&(t.flags|=128,r=!0,Pu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Pu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ji)return Mu(t),null}else 2*Qe()-o.renderingStartTime>Cs&&1073741824!==n&&(t.flags|=128,r=!0,Pu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=eo.current,bi(eo,r?1&n|2:1&n),t):(Mu(t),null);case 22:case 23:return Xs(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ks)&&(Mu(t),6&t.subtreeFlags&&(t.flags|=8192)):Mu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Uu(e,t){switch(Qi(t),t.tag){case 1:return ji(t.type)&&Ei(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),gi(Oi),gi(wi),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(gi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return gi(eo),null;case 4:return Ja(),null;case 10:return va(t.type._context),null;case 22:case 23:return Xs(),null;case 24:default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xu=function(){},_u=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Wa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),r=ne(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Wr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Nr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ju=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vu=!1,zu=!1,Bu="function"===typeof WeakSet?WeakSet:Set,qu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function Ku(e,t,n){try{n()}catch(r){fc(e,t,r)}}var Wu=!1;function Hu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ku(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Yu(e){var t=e.alternate;null!==t&&(e.alternate=null,Yu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ai],delete t[oi],delete t[si],delete t[ci],delete t[li])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return 5===e.tag||3===e.tag||4===e.tag}function Xu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Zu=null,es=!1;function ts(e,t,n){for(n=n.child;null!==n;)ns(e,t,n),n=n.sibling}function ns(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(u){}switch(n.tag){case 5:zu||Gu(n,t);case 6:var r=Zu,i=es;Zu=null,ts(e,t,n),es=i,null!==(Zu=r)&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Zu.removeChild(n.stateNode));break;case 18:null!==Zu&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ut(e)):ti(Zu,n.stateNode));break;case 4:r=Zu,i=es,Zu=n.stateNode.containerInfo,es=!0,ts(e,t,n),Zu=r,es=i;break;case 0:case 11:case 14:case 15:if(!zu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)?Ku(n,t,o):0!==(4&a)&&Ku(n,t,o)),i=i.next}while(i!==r)}ts(e,t,n);break;case 1:if(!zu&&(Gu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fc(n,t,u)}ts(e,t,n);break;case 21:ts(e,t,n);break;case 22:1&n.mode?(zu=(r=zu)||null!==n.memoizedState,ts(e,t,n),zu=r):ts(e,t,n);break;default:ts(e,t,n)}}function rs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Bu),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),hc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function is(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:Zu=s.stateNode,es=!1;break e;case 3:case 4:Zu=s.stateNode.containerInfo,es=!0;break e}s=s.return}if(null===Zu)throw Error(a(160));ns(o,u,i),Zu=null,es=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){fc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)as(t,e),t=t.sibling}function as(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(is(t,e),os(e),4&r){try{Hu(3,e,e.return),Qu(3,e)}catch(m){fc(e,e.return,m)}try{Hu(5,e,e.return)}catch(m){fc(e,e.return,m)}}break;case 1:is(t,e),os(e),512&r&&null!==n&&Gu(n,n.return);break;case 5:if(is(t,e),os(e),512&r&&null!==n&&Gu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){fc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ge(s,u);var l=ge(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?le(i,h):"children"===f?fe(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ie(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?te(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?te(i,!!o.multiple,o.defaultValue,!0):te(i,!!o.multiple,o.multiple?[]:"",!1))}i[oi]=o}catch(m){fc(e,e.return,m)}}break;case 6:if(is(t,e),os(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){fc(e,e.return,m)}}break;case 3:if(is(t,e),os(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){fc(e,e.return,m)}break;case 4:is(t,e),os(e);break;case 13:is(t,e),os(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ts=Qe())),4&r&&rs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(zu=(l=zu)||f,is(t,e),zu=l):is(t,e),os(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(qu=e,f=e.child;null!==f;){for(h=qu=f;null!==qu;){switch(p=(d=qu).child,d.tag){case 0:case 11:case 14:case 15:Hu(4,d,d.return);break;case 1:Gu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){fc(r,n,m)}}break;case 5:Gu(d,d.return);break;case 22:if(null!==d.memoizedState){cs(h);continue}}null!==p?(p.return=d,qu=p):cs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(m){fc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){fc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:is(t,e),os(e),4&r&&rs(e);break;case 21:break;default:is(t,e),os(e)}}function os(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Ju(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Wr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xu(e),o);break;default:throw Error(a(161))}}catch(u){fc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function us(e,t,n){qu=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==qu;){var a=qu,o=a.child;if(22===a.tag&&i){var u=null!==a.memoizedState||Vu;if(!u){var s=a.alternate,c=null!==s&&null!==s.memoizedState||zu;s=Vu;var l=zu;if(Vu=u,(zu=c)&&!l)for(qu=a;null!==qu;)c=(u=qu).child,22===u.tag&&null!==u.memoizedState?ls(a):null!==c?(c.return=u,qu=c):ls(a);for(;null!==o;)qu=o,e(o,n,r),o=o.sibling;qu=a,Vu=s,zu=l}ss(t)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,qu=o):ss(t)}}(e,t,n)}function ss(e){for(;null!==qu;){var t=qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ca(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Aa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Aa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}zu||512&t.flags&&$u(t)}catch(d){fc(t,t.return,d)}}if(t===e){qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,qu=n;break}qu=t.return}}function cs(e){for(;null!==qu;){var t=qu;if(t===e){qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qu=n;break}qu=t.return}}function ls(e){for(;null!==qu;){var t=qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){fc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){fc(t,i,s)}}var a=t.return;try{$u(t)}catch(s){fc(t,a,s)}break;case 5:var o=t.return;try{$u(t)}catch(s){fc(t,o,s)}}}catch(s){fc(t,t.return,s)}if(t===e){qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,qu=u;break}qu=t.return}}var fs,hs=Math.ceil,ds=k.ReactCurrentDispatcher,ps=k.ReactCurrentOwner,vs=k.ReactCurrentBatchConfig,ms=0,ys=null,gs=null,bs=0,ks=0,ws=yi(0),Os=0,xs=null,_s=0,js=0,Es=0,Is=null,Ss=null,Ts=0,Cs=1/0,As=null,Ns=!1,Ds=null,Rs=null,Ls=!1,Ps=null,Ms=0,Fs=0,Us=null,Vs=-1,zs=0;function Bs(){return 0!==(6&ms)?Qe():-1!==Vs?Vs:Vs=Qe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ms)&&0!==bs?bs&-bs:null!==sa.transition?(0===zs&&(zs=ht()),zs):0!==(e=mt)?e:e=void 0===(e=window.event)?16:Ht(e.type)}function Gs(e,t,n,r){if(50<Fs)throw Fs=0,Us=null,Error(a(185));pt(e,n,r),0!==(2&ms)&&e===ys||(e===ys&&(0===(2&ms)&&(js|=n),4===Os&&Qs(e,bs)),Ks(e,r),1===n&&0===ms&&0===(1&t.mode)&&(Cs=Qe()+500,Ni&&Li()))}function Ks(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-rt(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=lt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ct(e,e===ys?bs:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ni=!0,Ri(e)}($s.bind(null,e)):Ri($s.bind(null,e)),Zr(function(){0===(6&ms)&&Li()}),n=null;else{switch(yt(r)){case 1:n=Ye;break;case 4:n=Je;break;case 16:n=Xe;break;case 536870912:n=et;break;default:n=Xe}n=dc(n,function e(t,n){Vs=-1;zs=0;if(0!==(6&ms))throw Error(a(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var i=ct(t,t===ys?bs:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=rc(t,i);else{n=i;var o=ms;ms|=2;var u=tc();for(ys===t&&bs===n||(As=null,Cs=Qe()+500,Zs(t,n));;)try{ac();break}catch(c){ec(t,c)}pa(),ds.current=u,ms=o,null!==gs?n=0:(ys=null,bs=0,n=Os)}if(0!==n){if(2===n&&(0!==(o=ft(t))&&(i=o,n=Ws(t,o))),1===n)throw r=xs,Zs(t,0),Qs(t,i),Ks(t,Qe()),r;if(6===n)Qs(t,i);else{if(o=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!tr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(n=rc(t,i))&&(0!==(u=ft(t))&&(i=u,n=Ws(t,u))),1===n))throw r=xs,Zs(t,0),Qs(t,i),Ks(t,Qe()),r;switch(t.finishedWork=o,t.finishedLanes=i,n){case 0:case 1:throw Error(a(345));case 2:sc(t,Ss,As);break;case 3:if(Qs(t,i),(130023424&i)===i&&10<(n=Ts+500-Qe())){if(0!==ct(t,0))break;if(((o=t.suspendedLanes)&i)!==i){Bs(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Yr(sc.bind(null,t,Ss,As),n);break}sc(t,Ss,As);break;case 4:if(Qs(t,i),(4194240&i)===i)break;for(n=t.eventTimes,o=-1;0<i;){var s=31-rt(i);u=1<<s,(s=n[s])>o&&(o=s),i&=~u}if(i=o,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hs(i/1960))-i)){t.timeoutHandle=Yr(sc.bind(null,t,Ss,As),i);break}sc(t,Ss,As);break;case 5:sc(t,Ss,As);break;default:throw Error(a(329))}}}Ks(t,Qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ws(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),2!==(e=rc(e,t))&&(t=Ss,Ss=n,null!==t&&Hs(t)),e}function Hs(e){null===Ss?Ss=e:Ss.push.apply(Ss,e)}function Qs(e,t){for(t&=~Es,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function $s(e){if(0!==(6&ms))throw Error(a(327));cc();var t=ct(e,0);if(0===(1&t))return Ks(e,Qe()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=Ws(e,r))}if(1===n)throw n=xs,Zs(e,0),Qs(e,t),Ks(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,Ss,As),Ks(e,Qe()),null}function Ys(e,t){var n=ms;ms|=1;try{return e(t)}finally{0===(ms=n)&&(Cs=Qe()+500,Ni&&Li())}}function Js(e){null!==Ps&&0===Ps.tag&&0===(6&ms)&&cc();var t=ms;ms|=1;var n=vs.transition,r=mt;try{if(vs.transition=null,mt=1,e)return e()}finally{mt=r,vs.transition=n,0===(6&(ms=t))&&Li()}}function Xs(){ks=ws.current,gi(ws)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Jr(n)),null!==gs)for(n=gs.return;null!==n;){var r=n;switch(Qi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:Ja(),gi(Oi),gi(wi),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:gi(eo);break;case 10:va(r.type._context);break;case 22:case 23:Xs()}n=n.return}if(ys=e,gs=e=yc(e.current,null),bs=ks=t,Os=0,xs=null,Es=js=_s=0,Ss=Is=null,null!==ba){for(t=0;t<ba.length;t++)if(null!==(r=(n=ba[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ba=null}return e}function ec(e,t){for(;;){var n=gs;try{if(pa(),io.current=Yo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,ps.current=null,null===n||null===n.return){Os=1,xs=t,gs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uu(u);if(null!==p){p.flags&=-257,su(p,u,s,0,t),1&p.mode&&ou(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ou(o,l,t),nc();break e}c=Error(a(426))}else if(Ji&&1&s.mode){var y=uu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),su(y,u,s,0,t),ua(eu(c,s));break e}}o=c=eu(c,s),4!==Os&&(Os=2),null===Is?Is=[o]:Is.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ta(o,iu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Rs||!Rs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ta(o,au(o,s,t));break e}}o=o.return}while(null!==o)}uc(n)}catch(k){t=k,gs===n&&null!==n&&(gs=n=n.return);continue}break}}function tc(){var e=ds.current;return ds.current=Yo,null===e?Yo:e}function nc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===ys||0===(268435455&_s)&&0===(268435455&js)||Qs(ys,bs)}function rc(e,t){var n=ms;ms|=2;var r=tc();for(ys===e&&bs===t||(As=null,Zs(e,t));;)try{ic();break}catch(i){ec(e,i)}if(pa(),ms=n,ds.current=r,null!==gs)throw Error(a(261));return ys=null,bs=0,Os}function ic(){for(;null!==gs;)oc(gs)}function ac(){for(;null!==gs&&!We();)oc(gs)}function oc(e){var t=fs(e.alternate,e,ks);e.memoizedProps=e.pendingProps,null===t?uc(e):gs=t,ps.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fu(n,t,ks)))return void(gs=n)}else{if(null!==(n=Uu(n,t)))return n.flags&=32767,void(gs=n);if(null===e)return Os=6,void(gs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(gs=t);gs=t=e}while(null!==t);0===Os&&(Os=5)}function sc(e,t,n){var r=mt,i=vs.transition;try{vs.transition=null,mt=1,function(e,t,n,r){do{cc()}while(null!==Ps);if(0!==(6&ms))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ys&&(gs=ys=null,bs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ls||(Ls=!0,dc(Xe,function(){return cc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=vs.transition,vs.transition=null;var u=mt;mt=1;var s=ms;ms|=4,ps.current=null,function(e,t){if(Hr=zt,or(e=ar())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},zt=!1,qu=t;null!==qu;)if(e=(t=qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qu=e;else for(;null!==qu;){t=qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ca(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(w){fc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qu=e;break}qu=t.return}v=Wu,Wu=!1}(e,n),as(n,e),ur(Qr),zt=!!Hr,Qr=Hr=null,e.current=n,us(n,e,i),He(),ms=s,mt=u,vs.transition=o}else e.current=n;if(Ls&&(Ls=!1,Ps=e,Ms=i),0===(o=e.pendingLanes)&&(Rs=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ks(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ns)throw Ns=!1,e=Ds,Ds=null,e;0!==(1&Ms)&&0!==e.tag&&cc(),0!==(1&(o=e.pendingLanes))?e===Us?Fs++:(Fs=0,Us=e):Fs=0,Li()}(e,t,n,r)}finally{vs.transition=i,mt=r}return null}function cc(){if(null!==Ps){var e=yt(Ms),t=vs.transition,n=mt;try{if(vs.transition=null,mt=16>e?16:e,null===Ps)var r=!1;else{if(e=Ps,Ps=null,Ms=0,0!==(6&ms))throw Error(a(331));var i=ms;for(ms|=4,qu=e.current;null!==qu;){var o=qu,u=o.child;if(0!==(16&qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(qu=l;null!==qu;){var f=qu;switch(f.tag){case 0:case 11:case 15:Hu(8,f,o)}var h=f.child;if(null!==h)h.return=f,qu=h;else for(;null!==qu;){var d=(f=qu).sibling,p=f.return;if(Yu(f),f===l){qu=null;break}if(null!==d){d.return=p,qu=d;break}qu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,qu=u;else e:for(;null!==qu;){if(0!==(2048&(o=qu).flags))switch(o.tag){case 0:case 11:case 15:Hu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,qu=g;break e}qu=o.return}}var b=e.current;for(qu=b;null!==qu;){var k=(u=qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,qu=k;else e:for(u=b;null!==qu;){if(0!==(2048&(s=qu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(O){fc(s,s.return,O)}if(s===u){qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,qu=w;break e}qu=s.return}}if(ms=i,Li(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(O){}r=!0}return r}finally{mt=n,vs.transition=t}}return!1}function lc(e,t,n){e=Ia(e,t=iu(0,t=eu(n,t),1),1),t=Bs(),null!==e&&(pt(e,1,t),Ks(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rs||!Rs.has(r))){t=Ia(t,e=au(t,e=eu(n,e),1),1),e=Bs(),null!==t&&(pt(t,1,e),Ks(t,e));break}}t=t.return}}function hc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Bs();null!==(e=Oa(e,t))&&(pt(e,t,n),Ks(e,n))}function dc(e,t){return Ge(e,t)}function pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,r){return new pc(e,t,n,r)}function mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)mc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return bc(n.children,i,o,t);case _:u=8,i|=8;break;case j:return(e=vc(12,n,t,2|i)).elementType=j,e.lanes=o,e;case T:return(e=vc(13,n,t,i)).elementType=T,e.lanes=o,e;case C:return(e=vc(19,n,t,i)).elementType=C,e.lanes=o,e;case D:return kc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case I:u=9;break e;case S:u=11;break e;case A:u=14;break e;case N:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=vc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function bc(e,t,n,r){return(e=vc(7,e,r,t)).lanes=n,e}function kc(e,t,n,r){return(e=vc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function wc(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dt(0),this.expirationTimes=dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _c(e,t,n,r,i,a,o,u,s){return e=new xc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=vc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(a),e}function jc(e){if(!e)return ki;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return Si(e,n,t)}return t}function Ec(e,t,n,r,i,a,o,u,s){return(e=_c(n,r,!0,e,0,a,0,u,s)).context=jc(null),n=e.current,(a=Ea(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,Ia(n,a,i),e.current.lanes=i,pt(e,i,r),Ks(e,r),e}function Ic(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ea(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(Gs(e,i,o,a),Sa(e,i,o)),o}function Sc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cc(e,t){Tc(e,t),(e=e.alternate)&&Tc(e,t)}fs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)lu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return lu=!1,function(e,t,n){switch(t.tag){case 3:ku(t),oa();break;case 5:Xa(t);break;case 1:ji(t.type)&&Ti(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(la,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Su(e,t,n):(bi(eo,1&eo.current),null!==(e=Lu(e,t,n))?e.sibling:null);bi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Du(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,vu(e,t,n)}return Lu(e,t,n)}(e,t,n);lu=0!==(131072&e.flags)}else lu=!1,Ji&&0!==(1048576&t.flags)&&Wi(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ru(e,t),e=t.pendingProps;var i=_i(t,wi.current);ya(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Ti(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_a(t),i.updater=Ra,t.stateNode=i,i._reactInternals=t,Fa(t,r,e,n),t=bu(null,t,r,!0,o,n)):(t.tag=0,Ji&&o&&Hi(t),fu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ru(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===A)return 14}return 2}(r),e=ca(r,e),i){case 0:t=yu(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=du(null,t,r,ca(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,yu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 1:return r=t.type,i=t.pendingProps,gu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 3:e:{if(ku(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),Ca(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=wu(e,t,r,n,i=eu(Error(a(423)),t));break e}if(r!==i){t=wu(e,t,r,n,i=eu(Error(a(424)),t));break e}for(Yi=ni(t.stateNode.containerInfo.firstChild),$i=t,Ji=!0,Xi=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oa(),r===i){t=Lu(e,t,n);break e}fu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,$r(r,i)?u=null:null!==o&&$r(r,o)&&(t.flags|=32),mu(e,t),fu(e,t,u,n),t.child;case 6:return null===e&&na(t),null;case 13:return Su(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):fu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,hu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 7:return fu(e,t,t.pendingProps,n),t.child;case 8:case 12:return fu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,bi(la,r._currentValue),r._currentValue=u,null!==o)if(tr(o.value,u)){if(o.children===i.children&&!Oi.current){t=Lu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ea(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ma(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ma(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}fu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ya(t,n),r=r(i=ga(i)),t.flags|=1,fu(e,t,r,n),t.child;case 14:return i=ca(r=t.type,t.pendingProps),du(e,t,r,i=ca(r.type,i),n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ca(r,i),Ru(e,t),t.tag=1,ji(r)?(e=!0,Ti(t)):e=!1,ya(t,n),Pa(t,r,i),Fa(t,r,i,n),bu(null,t,r,!0,e,n);case 19:return Du(e,t,n);case 22:return vu(e,t,n)}throw Error(a(156,t.tag))};var Ac="function"===typeof reportError?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}function Dc(e){this._internalRoot=e}function Rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Pc(){}function Mc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Sc(o);u.call(e)}}Ic(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Sc(o);a.call(e)}}var o=Ec(t,r,e,0,null,!1,0,"",Pc);return e._reactRootContainer=o,e[ui]=o.current,Lr(8===e.nodeType?e.parentNode:e),Js(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Sc(s);u.call(e)}}var s=_c(e,0,!1,null,0,!1,0,"",Pc);return e._reactRootContainer=s,e[ui]=s.current,Lr(8===e.nodeType?e.parentNode:e),Js(function(){Ic(t,s,n,r)}),s}(n,t,e,i,r);return Sc(o)}Dc.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ic(e,t,null,null)},Dc.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Js(function(){Ic(null,e,null,null)}),t[ui]=null}},Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Rt(e)}},gt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(vt(t,1|n),Ks(t,Qe()),0===(6&ms)&&(Cs=Qe()+500,Li()))}break;case 13:Js(function(){var t=Oa(e,1);if(null!==t){var n=Bs();Gs(t,e,1,n)}}),Cc(e,1)}},bt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)Gs(t,e,134217728,Bs());Cc(e,134217728)}},kt=function(e){if(13===e.tag){var t=qs(e),n=Oa(e,t);if(null!==n)Gs(n,e,t,Bs());Cc(e,t)}},wt=function(){return mt},Ot=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Ie=Ys,Se=Js;var Fc={usingClientEntryPoint:!1,Events:[hi,di,pi,je,Ee,Ys]},Uc={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vc={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{tt=zc.inject(Vc),nt=zc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Rc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Rc(e))throw Error(a(299));var n=!1,r="",i=Ac;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=_c(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Lr(8===e.nodeType?e.parentNode:e),new Nc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Js(e)},t.hydrate=function(e,t,n){if(!Lc(t))throw Error(a(200));return Mc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Rc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Ac;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Ec(t,null,e,1,null!=n?n:null,i,0,o,u),e[ui]=t.current,Lr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Dc(t)},t.render=function(e,t,n){if(!Lc(t))throw Error(a(200));return Mc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Lc(e))throw Error(a(40));return!!e._reactRootContainer&&(Js(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0)},t.unstable_batchedUpdates=Ys,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Mc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(55)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(O);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function O(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,_=!1,j=null,E=-1,I=5,S=-1;function T(){return!(t.unstable_now()-S<I)}function C(){if(null!==j){var e=t.unstable_now();S=e;var n=!0;try{n=j(!0,e)}finally{n?x():(_=!1,j=null)}}else _=!1}if("function"===typeof b)x=function(){b(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=C,x=function(){N.postMessage(null)}}else x=function(){y(C,0)};function D(e){j=e,_||(_=!0,x())}function R(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(O))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(O))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}).call(this,n(56).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(57),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(29))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},s.clearImmediate=c}function c(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(29),n(38))},,,,,,function(e,t,n){"use strict";var r=n(2),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=n(66)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case m:case c:return e;default:return t}}case a:return t}}}function x(e){return O(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||O(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return O(e)===d},t.isFragment=function(e){return O(e)===o},t.isLazy=function(e){return O(e)===y},t.isMemo=function(e){return O(e)===m},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===s},t.isStrictMode=function(e){return O(e)===u},t.isSuspense=function(e){return O(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=O},,,,,function(e,t,n){"use strict";n(72)},function(e,t,n){"use strict";(function(e){var t=n(1),r=n(3),i=n(0),a=n(22),o=n(7),u=n(18),s=n(5);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(l).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(b),s(b,u,"Generator"),s(b,a,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}var l="@firebase/auth-compat",f="0.3.7",h=1e3;function d(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.q)();return!("file:"!==d()&&"ionic:"!==d()&&"capacitor:"!==d()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.q)();return Object(s.u)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.q)();return/Edge\/\d+/.test(e)}(e)}function m(){try{var e=self.localStorage,t=o.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!v()||Object(s.v)()}catch(n){return y()&&Object(s.v)()}return!1}function y(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function g(){return("http:"===d()||"https:"===d()||Object(s.s)()||p())&&!(Object(s.y)()||Object(s.x)())&&m()&&!y()}function b(){return p()&&"undefined"!==typeof document}function k(){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){e(!1)},h);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O={LOCAL:"local",NONE:"none",SESSION:"session"},x=o.p,_="persistence";function j(e,t){x(Object.values(O).includes(t),e,"invalid-persistence-type"),Object(s.y)()?x(t!==O.SESSION,e,"unsupported-persistence-type"):Object(s.x)()?x(t===O.NONE,e,"unsupported-persistence-type"):y()?x(t===O.NONE||t===O.LOCAL&&Object(s.v)(),e,"unsupported-persistence-type"):x(t===O.NONE||m(),e,"unsupported-persistence-type")}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=S(),r=o.w(_,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var T=o.p,C=function(){function e(){Object(t.a)(this,e),this.browserResolver=o.t(o.A),this.cordovaResolver=o.t(o.F),this.underlyingResolver=null,this._redirectPersistence=o.B,this._completeRedirectFn=o.u,this._overrideRedirectResult=o.v}return Object(r.a)(e,[{key:"_initialize",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(i.a)(c().mark(function e(t,n,r,i){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t,n,r,i){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"selectUnderlyingResolver",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_shouldInitProactively",get:function(){return b()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return T(this.underlyingResolver,"internal-error"),this.underlyingResolver}}]),e}();function A(e){return e.unwrap()}function N(e){var t=(e instanceof s.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof s.c)&&"temporaryProof"in t&&"phoneNumber"in t)return o.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===o.k.PASSWORD)return null;switch(r){case o.k.GOOGLE:n=o.f;break;case o.k.FACEBOOK:n=o.d;break;case o.k.GITHUB:n=o.e;break;case o.k.TWITTER:n=o.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,u=t.oauthTokenSecret,c=t.pendingToken,l=t.nonce;return a||u||i||c?c?r.startsWith("saml.")?o.m._create(r,c):o.g._fromParams({providerId:r,signInMethod:r,pendingToken:c,idToken:i,accessToken:a}):new o.h(r).credential({idToken:i,accessToken:a,rawNonce:l}):null}return e instanceof s.c?n.credentialFromError(e):n.credentialFromResult(e)}function D(e,t){return t.catch(function(t){throw t instanceof s.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new P(e,o.K(e,t));else if(r){var i=N(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,N(t)),additionalUserInfo:o.J(e),user:M.getOrCreate(r)}})}function R(e,t){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(c().mark(function e(t,n){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return D(t,r.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P=function(){function e(n,r){Object(t.a)(this,e),this.resolver=r,this.auth=n.wrapped()}return Object(r.a)(e,[{key:"resolveSignIn",value:function(e){return D(A(this.auth),this.resolver.resolveSignIn(e))}},{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}}]),e}(),M=function(){function e(n){Object(t.a)(this,e),this._delegate=n,this.multiFactor=o.T(n)}return Object(r.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,o.P(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(i.a)(c().mark(function e(t,n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,o.Q(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,o.R(this._delegate,t,C)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(o.q(this.auth));case 2:return e.abrupt("return",o.S(this._delegate,t,C));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,o.U(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return R(this.auth,o.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return D(this.auth,o.W(this._delegate,e,C))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(o.q(this.auth));case 2:return e.abrupt("return",o.X(this._delegate,t,C));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return o.Y(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.jb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return o.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return o.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return o.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return o.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return o.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();M.USER_MAP=new WeakMap;var F=o.p,U=function(){function e(n,r){if(Object(t.a)(this,e),this.app=n,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();var i=n.options.apiKey;F(i,"invalid-api-key",{appName:n.name}),F(i,"invalid-api-key",{appName:n.name});var a="undefined"!==typeof window?C:void 0;this._delegate=r.initialize({options:{persistence:z(i,n.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(o.H),this.linkUnderlyingAuth()}return Object(r.a)(e,[{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){o.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return o.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return o.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return o.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(i.a)(c().mark(function e(t,n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this._delegate,o.G(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return o.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return o.O(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(g(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,o.L(this._delegate,C);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",D(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){o.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=V(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=V(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return o.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return o.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(i.a)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,t),e.t0=t,e.next=e.t0===O.SESSION?4:e.t0===O.LOCAL?6:e.t0===O.NONE?11:13;break;case 4:return n=o.B,e.abrupt("break",14);case 6:return e.next=8,o.t(o.N)._isAvailable();case 8:return r=e.sent,n=r?o.N:o.z,e.abrupt("break",14);case 11:return n=o.M,e.abrupt("break",14);case 13:return e.abrupt("return",o.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return D(this._delegate,o.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return D(this._delegate,o.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return D(this._delegate,o.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return D(this._delegate,o.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return D(this._delegate,o.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return R(this._delegate,o.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(g(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",D(this._delegate,o.hb(this._delegate,t,C)));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(g(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,E(this._delegate);case 3:return e.abrupt("return",o.ib(this._delegate,t,C));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return o.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}},{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?M.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}}]),e}();function V(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&M.getOrCreate(e))},error:t,complete:n}}function z(e,t){var n=function(e,t){var n=S();if(!n)return[];var r=o.w(_,e,t);switch(n.getItem(r)){case O.NONE:return[o.M];case O.LOCAL:return[o.N,o.B];case O.SESSION:return[o.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(o.N)||n.push(o.N),"undefined"!==typeof window)for(var r=0,i=[o.z,o.B];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(o.M)||n.push(o.M),n}U.Persistence=O;var B=function(){function e(){Object(t.a)(this,e),this.providerId="phone",this._delegate=new o.i(A(a.a.auth()))}return Object(r.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return o.i.credential(e,t)}}]),e}();B.PHONE_SIGN_IN_METHOD=o.i.PHONE_SIGN_IN_METHOD,B.PROVIDER_ID=o.i.PROVIDER_ID;var q,G=o.p,K=function(){function e(n,r){var i,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.app();Object(t.a)(this,e),G(null===(i=u.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:u.name}),this._delegate=new o.l(n,r,u.auth()),this.type=this._delegate.type}return Object(r.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),W="auth-compat";(q=a.a).INTERNAL.registerComponent(new u.a(W,function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new U(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.a.EMAIL_SIGNIN,PASSWORD_RESET:o.a.PASSWORD_RESET,RECOVER_EMAIL:o.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.a.VERIFY_EMAIL}},EmailAuthProvider:o.c,FacebookAuthProvider:o.d,GithubAuthProvider:o.e,GoogleAuthProvider:o.f,OAuthProvider:o.h,SAMLAuthProvider:o.n,PhoneAuthProvider:B,PhoneMultiFactorGenerator:o.j,RecaptchaVerifier:K,TwitterAuthProvider:o.o,Auth:U,AuthCredential:o.b,Error:s.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion(l,f)}).call(this,n(29))},function(e,t,n){"use strict";n.r(t);var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},function(){})};function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n(2);function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function h(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var d=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r};function p(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function e(t,n){var r=c({},n);return Object.keys(t).forEach(function(i){if(i.toString().match(/^(components|slots)$/))r[i]=c({},t[i],r[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var a=t[i]||{},o=n[i];r[i]={},o&&Object.keys(o)?a&&Object.keys(a)?(r[i]=c({},o),Object.keys(a).forEach(function(t){r[i][t]=e(a[t],o[t])})):r[i]=o:r[i]=a}else void 0===r[i]&&(r[i]=t[i])}),r}(t.components[n].defaultProps,r):r}function v(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return v(e)&&v(t)&&Object.keys(t).forEach(function(i){"__proto__"!==i&&(v(t[i])&&i in e&&v(e[i])?r[i]=m(e[i],t[i],n):n.clone?r[i]=v(t[i])?function e(t){if(!v(t))return t;var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r])}),n}(t[i]):t[i]:r[i]=t[i])}),r}var y=n(4),g=["values","unit","step"],b=function(e){var t=Object.keys(e).map(function(t){return{key:t,val:e[t]}})||[];return t.sort(function(e,t){return e.val-t.val}),t.reduce(function(e,t){return c({},e,Object(y.a)({},t.key,t.val))},{})};var k={borderRadius:4},w=n(12),O=n(14);var x=function(e,t){return t?m(e,t,{clone:!1}):e},_={xs:0,sm:600,md:900,lg:1200,xl:1536},j={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(_[e],"px)")}};function E(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||j;return t.reduce(function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e},{})}if("object"===typeof t){var a=r.breakpoints||j;return Object.keys(t).reduce(function(e,r){if(-1!==Object.keys(a.values||_).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e},{})}return n(t)}function I(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce(function(e,n){return e[t.up(n)]={},e},{}))||{}}function S(e,t){return e.reduce(function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function T(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e);if(null!=r)return r}return t.split(".").reduce(function(e,t){return e&&null!=e[t]?e[t]:null},e)}function C(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:T(e,n)||i,t&&(r=t(r,i,e)),r}var A=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=T(e.theme,i)||{};return E(e,n,function(e){var n=C(u,a,e);return e===n&&"string"===typeof e&&(n=C(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:Object(y.a)({},r,n)})};return u.propTypes={},u.filterProps=[t],u};var N={m:"margin",p:"padding"},D={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!R[e])return[e];e=R[e]}var t=e.split(""),n=Object(w.a)(t,2),r=n[0],i=n[1],a=N[r],o=D[i]||"";return Array.isArray(o)?o.map(function(e){return a+e}):[a+o]}),P=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],M=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],F=[].concat(P,M);function U(e,t,n,r){var i,a=null!=(i=T(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function V(e){return U(e,"spacing",8)}function z(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function B(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce(function(e,r){return e[r]=z(t,n),e},{})}}(L(n),r);return E(e,e[n],i)}function q(e,t){var n=V(e.theme);return Object.keys(e).map(function(r){return B(e,t,r,n)}).reduce(x,{})}function G(e){return q(e,P)}function K(e){return q(e,M)}function W(e){return q(e,F)}G.propTypes={},G.filterProps=P,K.propTypes={},K.filterProps=M,W.propTypes={},W.filterProps=F;var H=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return t.filterProps.forEach(function(n){e[n]=t}),e},{}),i=function(e){return Object.keys(e).reduce(function(t,n){return r[n]?x(t,r[n](e)):t},{})};return i.propTypes={},i.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),i};function Q(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var $=A({prop:"border",themeKey:"borders",transform:Q}),Y=A({prop:"borderTop",themeKey:"borders",transform:Q}),J=A({prop:"borderRight",themeKey:"borders",transform:Q}),X=A({prop:"borderBottom",themeKey:"borders",transform:Q}),Z=A({prop:"borderLeft",themeKey:"borders",transform:Q}),ee=A({prop:"borderColor",themeKey:"palette"}),te=A({prop:"borderTopColor",themeKey:"palette"}),ne=A({prop:"borderRightColor",themeKey:"palette"}),re=A({prop:"borderBottomColor",themeKey:"palette"}),ie=A({prop:"borderLeftColor",themeKey:"palette"}),ae=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=U(e.theme,"shape.borderRadius",4);return E(e,e.borderRadius,function(e){return{borderRadius:z(t,e)}})}return null};ae.propTypes={},ae.filterProps=["borderRadius"];H($,Y,J,X,Z,ee,te,ne,re,ie,ae);var oe=function(e){if(void 0!==e.gap&&null!==e.gap){var t=U(e.theme,"spacing",8);return E(e,e.gap,function(e){return{gap:z(t,e)}})}return null};oe.propTypes={},oe.filterProps=["gap"];var ue=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=U(e.theme,"spacing",8);return E(e,e.columnGap,function(e){return{columnGap:z(t,e)}})}return null};ue.propTypes={},ue.filterProps=["columnGap"];var se=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=U(e.theme,"spacing",8);return E(e,e.rowGap,function(e){return{rowGap:z(t,e)}})}return null};se.propTypes={},se.filterProps=["rowGap"];H(oe,ue,se,A({prop:"gridColumn"}),A({prop:"gridRow"}),A({prop:"gridAutoFlow"}),A({prop:"gridAutoColumns"}),A({prop:"gridAutoRows"}),A({prop:"gridTemplateColumns"}),A({prop:"gridTemplateRows"}),A({prop:"gridTemplateAreas"}),A({prop:"gridArea"}));function ce(e,t){return"grey"===t?t:e}H(A({prop:"color",themeKey:"palette",transform:ce}),A({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ce}),A({prop:"backgroundColor",themeKey:"palette",transform:ce}));function le(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var fe=A({prop:"width",transform:le}),he=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return E(e,e.maxWidth,function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)?void 0:null==(r=n.breakpoints)?void 0:null==(i=r.values)?void 0:i[t])||_[t]||le(t)}})}return null};he.filterProps=["maxWidth"];var de=A({prop:"minWidth",transform:le}),pe=A({prop:"height",transform:le}),ve=A({prop:"maxHeight",transform:le}),me=A({prop:"minHeight",transform:le}),ye=(A({prop:"size",cssProperty:"width",transform:le}),A({prop:"size",cssProperty:"height",transform:le}),H(fe,he,de,pe,ve,me,A({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Q},borderTop:{themeKey:"borders",transform:Q},borderRight:{themeKey:"borders",transform:Q},borderBottom:{themeKey:"borders",transform:Q},borderLeft:{themeKey:"borders",transform:Q},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ae},color:{themeKey:"palette",transform:ce},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ce},backgroundColor:{themeKey:"palette",transform:ce},p:{style:K},pt:{style:K},pr:{style:K},pb:{style:K},pl:{style:K},px:{style:K},py:{style:K},padding:{style:K},paddingTop:{style:K},paddingRight:{style:K},paddingBottom:{style:K},paddingLeft:{style:K},paddingX:{style:K},paddingY:{style:K},paddingInline:{style:K},paddingInlineStart:{style:K},paddingInlineEnd:{style:K},paddingBlock:{style:K},paddingBlockStart:{style:K},paddingBlockEnd:{style:K},m:{style:G},mt:{style:G},mr:{style:G},mb:{style:G},ml:{style:G},mx:{style:G},my:{style:G},margin:{style:G},marginTop:{style:G},marginRight:{style:G},marginBottom:{style:G},marginLeft:{style:G},marginX:{style:G},marginY:{style:G},marginInline:{style:G},marginInlineStart:{style:G},marginInlineEnd:{style:G},marginBlock:{style:G},marginBlockStart:{style:G},marginBlockEnd:{style:G},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:oe},rowGap:{style:se},columnGap:{style:ue},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:le},maxWidth:{style:he},minWidth:{transform:le},height:{transform:le},maxHeight:{transform:le},minHeight:{transform:le},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var ge=function(){function e(e,t,n,r){var i,a=(i={},Object(y.a)(i,e,t),Object(y.a)(i,"theme",n),i),u=r[e];if(!u)return Object(y.a)({},e,t);var s=u.cssProperty,c=void 0===s?e:s,l=u.themeKey,f=u.transform,h=u.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return Object(y.a)({},e,t);var d=T(n,l)||{};return h?h(a):E(a,t,function(t){var n=C(d,f,t);return t===n&&"string"===typeof t&&(n=C(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:Object(y.a)({},c,n)})}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:ye;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=I(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach(function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=x(o,e(n,c,u,s));else{var l=E({theme:u},c,function(e){return Object(y.a)({},n,e)});!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return e.concat(Object.keys(t))},[]),i=new Set(r);return t.every(function(e){return i.size===Object.keys(e).length})}(l,c)?o=x(o,l):o[n]=t({sx:c,theme:u})}else o=x(o,e(n,c,u,s))}),S(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();ge.filterProps=["sx"];var be=ge,ke=["breakpoints","palette","spacing","shape"];var we=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=f(e,ke),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,g),s=b(n),l=Object.keys(s);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:s,up:h,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):h(e)},not:function(e){var t=l.indexOf(e);return 0===t?h(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=V({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(a),d=m({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:h,shape:c({},k,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),y=1;y<p;y++)v[y-1]=arguments[y];return(d=v.reduce(function(e,t){return m(e,t)},d)).unstable_sxConfig=c({},ye,null==s?void 0:s.unstable_sxConfig),d.unstable_sx=function(e){return be({sx:e,theme:this})},d};var Oe=l.createContext(null);var xe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(Oe);return n&&(e=n,0!==Object.keys(e).length)?n:t},_e=we();var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return xe(e)};function Ee(e,t){var n;return c({toolbar:(n={minHeight:56},Object(y.a)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Object(y.a)(n,e.up("sm"),{minHeight:64}),n)},t)}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Se(e){if(e.type)return e;if("#"===e.charAt(0))return Se(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map(function(e){return parseFloat(e)}),colorSpace:r}}function Te(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Ce(e){var t="hsl"===(e=Se(e)).type||"hsla"===e.type?Se(function(e){var t=(e=Se(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Te({type:u,values:s})}(e)).values:e.values;return t=t.map(function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ae(e,t){if(e=Se(e),t=Ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Te(e)}function Ne(e,t){if(e=Se(e),t=Ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Te(e)}var De={black:"#000",white:"#fff"},Re={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Le={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Pe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Me={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Fe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ve={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ze=["mode","contrastThreshold","tonalOffset"],Be={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:De.white,default:De.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},qe={text:{primary:De.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:De.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ge(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Ne(e.main,i):"dark"===t&&(e.dark=Ae(e.main,a)))}function Ke(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=f(e,ze),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fe[200],light:Fe[50],dark:Fe[400]}:{main:Fe[700],light:Fe[400],dark:Fe[800]}}(n),h=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Le[200],light:Le[50],dark:Le[400]}:{main:Le[500],light:Le[300],dark:Le[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pe[500],light:Pe[300],dark:Pe[700]}:{main:Pe[700],light:Pe[400],dark:Pe[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ue[400],light:Ue[300],dark:Ue[700]}:{main:Ue[700],light:Ue[500],dark:Ue[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ve[400],light:Ve[300],dark:Ve[700]}:{main:Ve[800],light:Ve[500],dark:Ve[900]}}(n),y=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Me[400],light:Me[300],dark:Me[700]}:{main:"#ed6c02",light:Me[500],dark:Me[900]}}(n);function g(e){return function(e,t){var n=Ce(e),r=Ce(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,qe.text.primary)>=i?qe.text.primary:Be.text.primary}var b=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ge(t,"light",s,u),Ge(t,"dark",f,u),t.contrastText||(t.contrastText=g(t.main)),t},k={dark:qe,light:Be};return m(c({common:c({},De),mode:n,primary:b({color:l,name:"primary"}),secondary:b({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:d,name:"error"}),warning:b({color:y,name:"warning"}),info:b({color:p,name:"info"}),success:b({color:v,name:"success"}),grey:Re,contrastThreshold:i,getContrastText:g,augmentColor:b,tonalOffset:u},k[n]),s)}var We=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var He={textTransform:"uppercase"},Qe='"Roboto", "Helvetica", "Arial", sans-serif';function $e(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Qe:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,h=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,y=void 0===v?700:v,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,O=f(n,We);var x=o/14,_=w||function(e){return"".concat(e/b*x,"rem")},j=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===Qe?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},E={h1:j(s,96,1.167,-1.5),h2:j(s,60,1.2,-.5),h3:j(h,48,1.167,0),h4:j(h,34,1.235,.25),h5:j(h,24,1.334,0),h6:j(p,20,1.6,.15),subtitle1:j(h,16,1.75,.15),subtitle2:j(p,14,1.57,.1),body1:j(h,16,1.5,.15),body2:j(h,14,1.43,.15),button:j(p,14,1.75,.4,He),caption:j(h,12,1.66,.4),overline:j(h,12,2.66,1,He),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return m(c({htmlFontSize:b,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:y},E),O,{clone:!1})}var Ye=.2,Je=.14,Xe=.12;function Ze(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Ye,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Je,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(Xe,")")].join(",")}var et=["none",Ze(0,2,1,-1,0,1,1,0,0,1,3,0),Ze(0,3,1,-2,0,2,2,0,0,1,5,0),Ze(0,3,3,-2,0,3,4,0,0,1,8,0),Ze(0,2,4,-1,0,4,5,0,0,1,10,0),Ze(0,3,5,-1,0,5,8,0,0,1,14,0),Ze(0,3,5,-1,0,6,10,0,0,1,18,0),Ze(0,4,5,-2,0,7,10,1,0,2,16,1),Ze(0,5,5,-3,0,8,10,1,0,3,14,2),Ze(0,5,6,-3,0,9,12,1,0,3,16,2),Ze(0,6,6,-3,0,10,14,1,0,4,18,3),Ze(0,6,7,-4,0,11,15,1,0,4,20,3),Ze(0,7,8,-4,0,12,17,2,0,5,22,4),Ze(0,7,8,-4,0,13,19,2,0,5,24,4),Ze(0,7,9,-4,0,14,21,2,0,5,26,4),Ze(0,8,9,-5,0,15,22,2,0,6,28,5),Ze(0,8,10,-5,0,16,24,2,0,6,30,5),Ze(0,8,11,-5,0,17,26,2,0,6,32,5),Ze(0,9,11,-5,0,18,28,2,0,7,34,6),Ze(0,9,12,-6,0,19,29,2,0,7,36,6),Ze(0,10,13,-6,0,20,31,3,0,8,38,7),Ze(0,10,13,-6,0,21,33,3,0,8,40,7),Ze(0,10,14,-6,0,22,35,3,0,8,42,7),Ze(0,11,14,-7,0,23,36,3,0,9,44,8),Ze(0,11,15,-7,0,24,38,3,0,9,46,8)],tt=["duration","easing","delay"],nt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function it(e){return"".concat(Math.round(e),"ms")}function at(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function ot(e){var t=c({},nt,e.easing),n=c({},rt,e.duration);return c({getAutoHeightDuration:at,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;f(r,tt);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof a?a:it(a)," ").concat(u," ").concat("string"===typeof c?c:it(c))}).join(",")}},e,{easing:t,duration:n})}var ut={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},st=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,u=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,h=f(e,st);if(e.vars)throw new Error(a(18));var d=Ke(i),p=we(e),v=m(p,{mixins:Ee(p.breakpoints,n),palette:d,shadows:et.slice(),typography:$e(d,l),transitions:ot(u),zIndex:c({},ut)});v=m(v,h);for(var y=arguments.length,g=new Array(y>1?y-1:0),b=1;b<y;b++)g[b-1]=arguments[b];return(v=g.reduce(function(e,t){return m(e,t)},v)).unstable_sxConfig=c({},ye,null==h?void 0:h.unstable_sxConfig),v.unstable_sx=function(e){return be({sx:e,theme:this})},v}var lt=ct();function ft(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return p({theme:je(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:lt})}n(64);var ht=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},dt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pt=ht(function(e){return dt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});var vt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(mt){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),mt="-ms-",yt="-moz-",gt="-webkit-",bt="comm",kt="rule",wt="decl",Ot="@import",xt="@keyframes",_t=Math.abs,jt=String.fromCharCode,Et=Object.assign;function It(e,t){return 45^Nt(e,0)?(((t<<2^Nt(e,0))<<2^Nt(e,1))<<2^Nt(e,2))<<2^Nt(e,3):0}function St(e){return e.trim()}function Tt(e,t){return(e=t.exec(e))?e[0]:e}function Ct(e,t,n){return e.replace(t,n)}function At(e,t){return e.indexOf(t)}function Nt(e,t){return 0|e.charCodeAt(t)}function Dt(e,t,n){return e.slice(t,n)}function Rt(e){return e.length}function Lt(e){return e.length}function Pt(e,t){return t.push(e),e}function Mt(e,t){return e.map(t).join("")}var Ft=1,Ut=1,Vt=0,zt=0,Bt=0,qt="";function Gt(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Ft,column:Ut,length:o,return:""}}function Kt(e,t){return Et(Gt("",null,null,"",null,null,0),e,{length:-e.length},t)}function Wt(){return Bt=zt<Vt?Nt(qt,zt++):0,Ut++,10===Bt&&(Ut=1,Ft++),Bt}function Ht(){return Nt(qt,zt)}function Qt(){return zt}function $t(e,t){return Dt(qt,e,t)}function Yt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jt(e){return Ft=Ut=1,Vt=Rt(qt=e),zt=0,[]}function Xt(e){return qt="",e}function Zt(e){return St($t(zt-1,function e(t){for(;Wt();)switch(Bt){case t:return zt;case 34:case 39:34!==t&&39!==t&&e(Bt);break;case 40:41===t&&e(t);break;case 92:Wt()}return zt}(91===e?e+2:40===e?e+1:e)))}function en(e){for(;(Bt=Ht())&&Bt<33;)Wt();return Yt(e)>2||Yt(Bt)>3?"":" "}function tn(e,t){for(;--t&&Wt()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return $t(e,Qt()+(t<6&&32==Ht()&&32==Wt()))}function nn(e,t){for(;Wt()&&e+Bt!==57&&(e+Bt!==84||47!==Ht()););return"/*"+$t(t,zt-1)+"*"+jt(47===e?e:Wt())}function rn(e){for(;!Yt(Ht());)Wt();return $t(e,zt)}function an(e){return Xt(function e(t,n,r,i,a,o,u,s,c){var l=0;var f=0;var h=u;var d=0;var p=0;var v=0;var m=1;var y=1;var g=1;var b=0;var k="";var w=a;var O=o;var x=i;var _=k;for(;y;)switch(v=b,b=Wt()){case 40:if(108!=v&&58==Nt(_,h-1)){-1!=At(_+=Ct(Zt(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:_+=Zt(b);break;case 9:case 10:case 13:case 32:_+=en(v);break;case 92:_+=tn(Qt()-1,7);continue;case 47:switch(Ht()){case 42:case 47:Pt(un(nn(Wt(),Qt()),n,r),c);break;default:_+="/"}break;case 123*m:s[l++]=Rt(_)*g;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+f:p>0&&Rt(_)-h&&Pt(p>32?sn(_+";",i,r,h-1):sn(Ct(_," ","")+";",i,r,h-2),c);break;case 59:_+=";";default:if(Pt(x=on(_,n,r,l,f,a,s,k,w=[],O=[],h),o),123===b)if(0===f)e(_,n,x,x,w,o,h,s,O);else switch(99===d&&110===Nt(_,3)?100:d){case 100:case 109:case 115:e(t,x,x,i&&Pt(on(t,x,x,0,0,a,s,k,a,w=[],h),O),a,O,h,s,i?w:O);break;default:e(_,x,x,x,[""],O,0,s,O)}}l=f=p=0,m=g=1,k=_="",h=u;break;case 58:h=1+Rt(_),p=v;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==(Bt=zt>0?Nt(qt,--zt):0,Ut--,10===Bt&&(Ut=1,Ft--),Bt))continue;switch(_+=jt(b),b*m){case 38:g=f>0?1:(_+="\f",-1);break;case 44:s[l++]=(Rt(_)-1)*g,g=1;break;case 64:45===Ht()&&(_+=Zt(Wt())),d=Ht(),f=h=Rt(k=_+=rn(Qt())),b++;break;case 45:45===v&&2==Rt(_)&&(m=0)}}return o}("",null,null,null,[""],e=Jt(e),0,[0],e))}function on(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Lt(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Dt(e,f+1,f=_t(v=o[p])),b=e;y<d;++y)(b=St(v>0?h[y]+" "+g:Ct(g,/&\f/g,h[y])))&&(s[m++]=b);return Gt(e,t,n,0===i?kt:u,s,c,l)}function un(e,t,n){return Gt(e,t,n,bt,jt(Bt),Dt(e,2,-2),0)}function sn(e,t,n,r){return Gt(e,t,n,wt,Dt(e,0,r),Dt(e,r+1,-1),r)}function cn(e,t){for(var n="",r=Lt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ln(e,t,n,r){switch(e.type){case Ot:case wt:return e.return=e.return||e.value;case bt:return"";case xt:return e.return=e.value+"{"+cn(e.children,r)+"}";case kt:e.value=e.props.join(",")}return Rt(n=cn(e.children,r))?e.return=e.value+"{"+n+"}":""}var fn=function(e,t,n){for(var r=0,i=0;r=i,i=Ht(),38===r&&12===i&&(t[n]=1),!Yt(i);)Wt();return $t(e,zt)},hn=function(e,t){return Xt(function(e,t){var n=-1,r=44;do{switch(Yt(r)){case 0:38===r&&12===Ht()&&(t[n]=1),e[n]+=fn(zt-1,t,n);break;case 2:e[n]+=Zt(r);break;case 4:if(44===r){e[++n]=58===Ht()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=jt(r)}}while(r=Wt());return e}(Jt(e),t))},dn=new WeakMap,pn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||dn.get(n))&&!r){dn.set(e,!0);for(var i=[],a=hn(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},vn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};var mn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case wt:e.return=function e(t,n){switch(It(t,n)){case 5103:return gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+t+yt+t+mt+t+t;case 6828:case 4268:return gt+t+mt+t+t;case 6165:return gt+t+mt+"flex-"+t+t;case 5187:return gt+t+Ct(t,/(\w+).+(:[^]+)/,gt+"box-$1$2"+mt+"flex-$1$2")+t;case 5443:return gt+t+mt+"flex-item-"+Ct(t,/flex-|-self/,"")+t;case 4675:return gt+t+mt+"flex-line-pack"+Ct(t,/align-content|flex-|-self/,"")+t;case 5548:return gt+t+mt+Ct(t,"shrink","negative")+t;case 5292:return gt+t+mt+Ct(t,"basis","preferred-size")+t;case 6060:return gt+"box-"+Ct(t,"-grow","")+gt+t+mt+Ct(t,"grow","positive")+t;case 4554:return gt+Ct(t,/([^-])(transform)/g,"$1"+gt+"$2")+t;case 6187:return Ct(Ct(Ct(t,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),t,"")+t;case 5495:case 3959:return Ct(t,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return Ct(Ct(t,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+mt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+t+t;case 4095:case 3583:case 4068:case 2532:return Ct(t,/(.+)-inline(.+)/,gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rt(t)-1-n>6)switch(Nt(t,n+1)){case 109:if(45!==Nt(t,n+4))break;case 102:return Ct(t,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+yt+(108==Nt(t,n+3)?"$3":"$2-$3"))+t;case 115:return~At(t,"stretch")?e(Ct(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==Nt(t,n+1))break;case 6444:switch(Nt(t,Rt(t)-3-(~At(t,"!important")&&10))){case 107:return Ct(t,":",":"+gt)+t;case 101:return Ct(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+(45===Nt(t,14)?"inline-":"")+"box$3$1"+gt+"$2$3$1"+mt+"$2box$3")+t}break;case 5936:switch(Nt(t,n+11)){case 114:return gt+t+mt+Ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gt+t+mt+Ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gt+t+mt+Ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gt+t+mt+t+t}return t}(e.value,e.length);break;case xt:return cn([Kt(e,{value:Ct(e.value,"@","@"+gt)})],r);case kt:if(e.length)return Mt(e.props,function(t){switch(Tt(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cn([Kt(e,{props:[Ct(t,/:(read-\w+)/,":"+yt+"$1")]})],r);case"::placeholder":return cn([Kt(e,{props:[Ct(t,/:(plac\w+)/,":"+gt+"input-$1")]}),Kt(e,{props:[Ct(t,/:(plac\w+)/,":"+yt+"$1")]}),Kt(e,{props:[Ct(t,/:(plac\w+)/,mt+"input-$1")]})],r)}return""})}}],yn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r=e.stylisPlugins||mn;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)});var s,c,l=[ln,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Lt(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([pn,vn].concat(r,l));a=function(e,t,n,r){s=n,cn(an(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new vt({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};n(43);function gn(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}var bn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},kn=function(e,t,n){bn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var wn=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},On={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xn=/[A-Z]|^ms/g,_n=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jn=function(e){return 45===e.charCodeAt(1)},En=function(e){return null!=e&&"boolean"!==typeof e},In=ht(function(e){return jn(e)?e:e.replace(xn,"-$&").toLowerCase()}),Sn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(_n,function(e,t,n){return Cn={name:t,styles:n,next:Cn},t})}return 1===On[e]||jn(e)||"number"!==typeof t||0===t?t:t+"px"};function Tn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Cn={name:n.name,styles:n.styles,next:Cn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Cn={name:r.name,styles:r.styles,next:Cn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tn(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":En(o)&&(r+=In(a)+":"+Sn(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Tn(e,t,o);switch(a){case"animation":case"animationName":r+=In(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)En(o[s])&&(r+=In(a)+":"+Sn(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Cn,a=n(e);return Cn=i,Tn(e,t,a)}break;case"string":}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Cn,An=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Nn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Cn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Tn(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Tn(n,t,e[o]),r&&(i+=a[o]);An.lastIndex=0;for(var u,s="";null!==(u=An.exec(i));)s+="-"+u[1];return{name:wn(i)+s,styles:i,next:Cn}},Dn=!!l.useInsertionEffect&&l.useInsertionEffect,Rn=Dn||function(e){return e()},Ln=(Dn||l.useLayoutEffect,Object(l.createContext)("undefined"!==typeof HTMLElement?yn({key:"css"}):null));Ln.Provider;var Pn=function(e){return Object(l.forwardRef)(function(t,n){var r=Object(l.useContext)(Ln);return e(t,r,n)})},Mn=Object(l.createContext)({});var Fn=pt,Un=function(e){return"theme"!==e},Vn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Fn:Un},zn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Bn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;bn(t,n,r);Rn(function(){return kn(t,n,r)});return null},qn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=zn(t,n,a),s=u||Vn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Pn(function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=Object(l.useContext)(Mn)}"string"===typeof e.className?a=gn(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=Nn(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?Vn(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Bn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),Object(l.createElement)(r,y))});return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:zn(m,r,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){qn[e]=qn(e)});var Gn=qn;var Kn=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Wn=["variant"];function Hn(e){return 0===e.length}function Qn(e){var t=e.variant,n=f(e,Wn),r=t||"";return Object.keys(n).sort().forEach(function(t){r+="color"===t?Hn(r)?e[t]:o(e[t]):"".concat(Hn(r)?t:o(t)).concat(o(e[t].toString()))}),r}var $n=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Yn=["theme"],Jn=["theme"];function Xn(e){return 0===Object.keys(e).length}var Zn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},er=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach(function(e){var t=Qn(e.props);r[t]=e.style}),r},tr=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n?void 0:null==(i=n.components)?void 0:null==(a=i[r])?void 0:a.variants;return c&&c.forEach(function(n){var r=!0;Object.keys(n.props).forEach(function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)}),r&&s.push(t[Qn(n.props)])}),s};function nr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var rr=we();var ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?rr:t,r=e.rootShouldForwardProp,i=void 0===r?nr:r,a=e.slotShouldForwardProp,o=void 0===a?nr:a,u=function(e){var t=Xn(e.theme)?n:e.theme;return be(c({},e,{theme:t}))};return u.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Kn(e,function(e){return e.filter(function(e){return!(null!=e&&e.__mui_systemSx)})});var r=t.name,a=t.slot,s=t.skipVariantsResolver,l=t.skipSx,h=t.overridesResolver,d=f(t,$n),p=void 0!==s?s:a&&"Root"!==a||!1,v=l||!1,m=nr;"Root"===a?m=i:a?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);var y=function(e,t){return Gn(e,t)}(e,c({shouldForwardProp:m,label:void 0},d)),g=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o=i?i.map(function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=f(t,Yn);return e(c({theme:Xn(r)?n:r},i))}:e}):[],s=e;r&&h&&o.push(function(e){var t=Xn(e.theme)?n:e.theme,i=Zn(r,t);if(i){var a={};return Object.entries(i).forEach(function(n){var r=Object(w.a)(n,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(c({},e,{theme:t})):o}),h(e,a)}return null}),r&&!p&&o.push(function(e){var t=Xn(e.theme)?n:e.theme;return tr(e,er(r,t),t,r)}),v||o.push(u);var l=o.length-i.length;if(Array.isArray(e)&&l>0){var d=new Array(l).fill("");(s=[].concat(Object(O.a)(e),Object(O.a)(d))).raw=[].concat(Object(O.a)(e.raw),Object(O.a)(d))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=f(t,Jn);return e(c({theme:Xn(r)?n:r},i))});return y.apply(void 0,[s].concat(Object(O.a)(o)))};return y.withConfig&&(g.withConfig=y.withConfig),g}}({defaultTheme:lt,rootShouldForwardProp:function(e){return nr(e)&&"classes"!==e}}),ar={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function or(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=ar[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function ur(e){return or("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach(function(t){r[t]=or(e,t,n)})}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var sr=n(23),cr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],lr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach(function(i){r[i]=e[i].reduce(function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e},[]).join(" ")}),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},ur,r)},fr=ir("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})(function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)?void 0:null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)?void 0:null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)?void 0:null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)?void 0:null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)?void 0:null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)?void 0:null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)?void 0:null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)?void 0:null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}}),hr=l.forwardRef(function(e,t){var n=ft({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,h=void 0===l?"medium":l,p=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,g=n.viewBox,b=void 0===g?"0 0 24 24":g,k=f(n,cr),w=c({},n,{color:o,component:s,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:b}),O={};m||(O.viewBox=b);var x=lr(w);return Object(sr.jsxs)(fr,c({as:s,className:d(x.root,i),focusable:"false",color:p,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},O,k,{ownerState:w,children:[r,y?Object(sr.jsx)("title",{children:y}):null]}))});hr.muiName="SvgIcon";var dr=hr;function pr(e,t){function n(n,r){return Object(sr.jsx)(dr,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=dr.muiName,l.memo(l.forwardRef(n))}var vr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){e.apply(r,a)},n)}return r.clear=function(){clearTimeout(t)},r};var mr=function(e,t){return function(){return null}};var yr=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function gr(e){return e&&e.ownerDocument||document}var br=gr;var kr=function(e){return gr(e).defaultView||window};var wr=function(e,t){return function(){return null}};function Or(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var xr=Or,_r="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,jr=_r,Er=0;var Ir=l.useId;var Sr=function(e){if(void 0!==Ir){var t=Ir();return null!=e?e:t}return function(e){var t=l.useState(e),n=Object(w.a)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect(function(){null==r&&i("mui-".concat(Er+=1))},[r]),a}(e)};var Tr=function(e,t,n,r,i){return null};var Cr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=Object(w.a)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback(function(e){r||u(e)},[])]};var Ar=function(e){var t=l.useRef(e);return _r(function(){t.current=e}),l.useCallback(function(){return t.current.apply(void 0,arguments)},[])};var Nr,Dr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(function(){return t.every(function(e){return null==e})?null:function(e){t.forEach(function(t){Or(t,e)})}},t)},Rr=!0,Lr=!1,Pr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Mr(e){e.metaKey||e.altKey||e.ctrlKey||(Rr=!0)}function Fr(){Rr=!1}function Ur(){"hidden"===this.visibilityState&&Lr&&(Rr=!0)}function Vr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Rr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Pr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var zr=function(){var e=l.useCallback(function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Mr,!0),t.addEventListener("mousedown",Fr,!0),t.addEventListener("pointerdown",Fr,!0),t.addEventListener("touchstart",Fr,!0),t.addEventListener("visibilitychange",Ur,!0))},[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Vr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Lr=!0,window.clearTimeout(Nr),Nr=window.setTimeout(function(){Lr=!1},100),t.current=!1,!0)},ref:e}};n.d(t,"unstable_ClassNameGenerator",function(){return Br}),n.d(t,"capitalize",function(){return u}),n.d(t,"createChainedFunction",function(){return s}),n.d(t,"createSvgIcon",function(){return pr}),n.d(t,"debounce",function(){return vr}),n.d(t,"deprecatedPropType",function(){return mr}),n.d(t,"isMuiElement",function(){return yr}),n.d(t,"ownerDocument",function(){return br}),n.d(t,"ownerWindow",function(){return kr}),n.d(t,"requirePropFactory",function(){return wr}),n.d(t,"setRef",function(){return xr}),n.d(t,"unstable_useEnhancedEffect",function(){return jr}),n.d(t,"unstable_useId",function(){return Sr}),n.d(t,"unsupportedProp",function(){return Tr}),n.d(t,"useControlled",function(){return Cr}),n.d(t,"useEventCallback",function(){return Ar}),n.d(t,"useForkRef",function(){return Dr}),n.d(t,"useIsFocusVisible",function(){return zr});var Br={configure:function(e){i.configure(e)}}},,function(e,t,n){"use strict";var r=n(27),i=n(9),a=n(6),o=n(8),u=n(1),s=n(3),c=n(22),l=n(10),f=n(5),h=n(18);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v="@firebase/firestore-compat",m="0.3.6";function y(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function g(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function b(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var k=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return b(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return g(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return b(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return g(),new e(l.b.fromUint8Array(t))}}]),e}();function w(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var O=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),x=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"collection",value:function(e){try{return new M(this,Object(l.y)(this._delegate,e))}catch(t){throw T(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new S(this,Object(l.E)(this._delegate,e))}catch(t){throw T(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new R(this,Object(l.z)(this._delegate,e))}catch(t){throw T(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,function(n){return e(new j(t,n))})}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new E(new l.l(this._delegate,function(t){return Object(l.L)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then(function(e){return e?new R(t,e):null})}},{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}}]),e}(),_=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(a.a)(t).call(this))).firestore=e,n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"convertBytes",value:function(e){return new k(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return S.forKey(t,this.firestore,null)}}]),t}(l.a);var j=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=F(e);return this._delegate.get(n).then(function(e){return new N(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=F(e);return n?(y("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}}]),e}(),E=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=F(e);return n?(y("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),I=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new D(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _(t),n),i.set(n,a)),a}}]),e}();I.INSTANCES=new WeakMap;var S=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(s.a)(e,[{key:"collection",value:function(e){try{return new M(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw T(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.p)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=y("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw T(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw T(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=C(n),a=A(n,function(t){return new N(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then(function(e){return new N(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(I.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new M(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function T(e,t,n){return e.message=e.message.replace(t,n),e}function C(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!w(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function A(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=w(e[0])?e[0]:w(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var N=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"ref",get:function(){return new S(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}}]),e}(),D=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),t}(N),R=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw T(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw T(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw T(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw T(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw T(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw T(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw T(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw T(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then(function(e){return new P(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=C(n),a=A(n,function(t){return new P(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(I.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),L=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new D(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),P=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new L(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new D(n._firestore,r))})}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"query",get:function(){return new R(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new D(e._firestore,t)})}}]),e}(),M=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,n))).firestore=e,r._delegate=n,r}return Object(o.a)(t,e),Object(s.a)(t,[{key:"doc",value:function(e){try{return new S(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw T(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then(function(e){return new S(t.firestore,e)})}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(I.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new S(this.firestore,e):null}}]),t}(R);function F(e){return Object(l.p)(e,l.d)}var U=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.p)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),V=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),z={Firestore:x,GeoPoint:l.h,Timestamp:l.k,Blob:k,Transaction:j,WriteBatch:E,DocumentReference:S,DocumentSnapshot:N,Query:R,QueryDocumentSnapshot:D,QuerySnapshot:P,CollectionReference:M,FieldPath:U,FieldValue:V,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new x(e,t,new O)},e.INTERNAL.registerComponent(new h.a("firestore-compat",function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},z))),e.registerVersion(v,m)}(c.a)}]]);
//# sourceMappingURL=2.46adbfc5.chunk.js.map